/*! jQuery v1.7.2 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement){cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close()}d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1){for(h in a.converters){typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h])}}l=k,k=d[g];if(k==="*"){k=l}else{if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g){i in d&&(c[g[i]]=d[i])}while(f[0]==="*"){f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"))}if(h){for(i in e){if(e[i]&&e[i].test(h)){f.unshift(i);break}}}if(f[0] in d){j=f[0]}else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b)){f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)})}else{if(!c&&f.type(b)==="object"){for(var e in b){b_(a+"["+e+"]",b[e],c,d)}}else{d(a,b)}}}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c){c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d])}e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++){l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)))}(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++){h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border"){for(;e<g;e+=2){c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0}}return d+"px"}d=by(a,b);if(d<0||d==null){d=a.style[b]}if(bt.test(d)){return d}d=parseFloat(d)||0;if(c){for(;e<g;e+=2){d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0)}}return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio"){a.defaultChecked=a.checked}}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i){for(d=0,e=i[c].length;d<e;d++){f.event.add(b,c,i[c][d])}}}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}function T(a,b,c){b=b||0;if(f.isFunction(b)){return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c})}if(b.nodeType){return f.grep(a,function(a,d){return a===b===c})}if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b)){return f.filter(b,d,!c)}b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return !a||!a.parentNode||a.parentNode.nodeType===11}function K(){return !0}function J(){return !1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b])){continue}if(b!=="toJSON"){return !1}}return !0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else{d=b}}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++){b[a[c]]=!0}return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a){return this}if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2]){return f.find(a)}this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return !d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a)){return f.ready(a)}a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++){if((a=arguments[j])!=null){for(c in a){d=i[c],f=a[c];if(i===f){continue}l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}}}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body){return setTimeout(e.ready,1)}e.isReady=!0;if(a!==!0&&--e.readyWait>0){return}A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete"){return setTimeout(e.ready,1)}if(c.addEventListener){c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1)}else{if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a)){return !1}try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}var d;for(d in a){}return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a){return !1}return !0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b){return null}b=e.trim(b);if(a.JSON&&a.JSON.parse){return a.JSON.parse(b)}if(n.test(b.replace(o,"@").replace(p,"]").replace(q,""))){return(new Function("return "+b))()}e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c){return null}var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a){if(c.apply(a[f],d)===!1){break}}}else{for(;g<h;){if(c.apply(a[g++],d)===!1){break}}}}else{if(i){for(f in a){if(c.call(a[f],f,a[f])===!1){break}}}else{for(;g<h;){if(c.call(a[g],g,a[g++])===!1){break}}}}return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H){return H.call(b,a,c)}d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number"){for(var f=c.length;e<f;e++){a[d++]=c[e]}}else{while(c[e]!==b){a[d++]=c[e++]}}a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++){e=!!b(a[f],f),c!==e&&d.push(a[f])}return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k){for(;i<j;i++){f=c(a[i],i,d),f!=null&&(h[h.length]=f)}}else{for(g in a){f=c(a[g],g,d),f!=null&&(h[h.length]=f)}}return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a)){return b}var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d){e.access(a,c,l,d[l],1,h,f)}g=1}else{if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c){for(;l<m;l++){c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i)}}g=1}}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++){g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)}},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++){if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++){for(var f=0;f<c.length;f++){if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique){break}}}}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++){if(a===c[b]){return !0}}}return !1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return !c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return !d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return !!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null){a=h}else{for(var b in h){a[b]=h[b]}}return a}},i=h.promise({}),j;for(j in g){i[j]=g[j].fire,i[j+"With"]=g[j].fireWith}i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++){b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g}g||j.resolveWith(j,b)}else{j!==a&&j.resolveWith(j,d?[a]:[])}return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e){return{}}g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent){for(n in {submit:1,change:1,focusin:1}){m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o}}j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div><table "+n+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return !!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b){return}n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function"){e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c)}g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c]){return g.events}k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k]){return}if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++){delete d[b[e]]}if(!(c?m:f.isEmptyObject)(d)){return}}}if(!c){delete j[k].data;if(!m(j[k])){return}}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b){return b!==!0&&a.getAttribute("classid")===b}}return !0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++){h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]))}f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object"){return this.each(function(){f.data(this,a)})}d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d){return f.queue(this[0],a)}return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--){if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0)){h++,l.add(m)}}m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a)){return this.each(function(b){f(this).addClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1){if(!e.className&&b.length===1){e.className=a}else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++){~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ")}e.className=f.trim(g)}}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a)){return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className){if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++){h=h.replace(" "+c[i]+" "," ")}g.className=f.trim(h)}else{g.className=""}}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a)){return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)})}return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++]){i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}}else{if(c==="undefined"||c==="boolean"){this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""}}})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++){if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1){return !0}}return !1},val:function(a){var c,d,e,g=this[0];if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set" in c)||c.set(this,h,"value")===b){this.value=h}}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get" in c&&(d=c.get(g,"value"))!==b){return d}d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return !b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0){return null}c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j){return b}h.push(b)}}if(j&&!h.length&&i.length){return f(i[g]).val()}return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn){return f(a)[c](d)}if(typeof a.getAttribute=="undefined"){return f.prop(a,c,d)}i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set" in h&&i&&(g=h.set(a,d,c))!==b){return g}a.setAttribute(c,""+d);return d}if(h&&"get" in h&&i&&(g=h.get(a,c))!==null){return g}g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++){e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode){f.error("type property can't be changed")}else{if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button")){return w.get(a,b)}return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button")){return w.set(a,b,c)}a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set" in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get" in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b)){return a.checked=f.inArray(f(a).val(),b)>=0}}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1){a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o){f.event.remove(a,j+b[h],c,d,!0)}continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++){s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s))}r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered)){return}h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h]){return}c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j){j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0)}return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1){return}r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode){r.push([m,s]),n=m}n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++){m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault()}c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this){if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++){s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s)}r.length&&j.push({elem:m,matches:r})}}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace)){c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando]){return a}var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;){e=i[--d],a[e]=g[e]}a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event)){return new f.Event(a,b)}a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d)){a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b}return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form")){return !1}f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form")){return !1}f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))})}return !1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox"){return a.handleObj.handler.apply(this,arguments)}},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a){this.on(i,c,d,a[i],g)}return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1){e=J}else{if(!e){return this}}g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a){this.off(g,c,a[g])}return this}if(c===!1||typeof c=="function"){d=c,c=b}d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){return f.event.trigger(a,b,this[0],!0)}},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length){b[d++].guid=c}return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else{if(m.filter(b,[j]).length>0){k=j;break}}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9){return[]}if(!b||typeof b!="string"){return e}var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b)){if(w.length===2&&o.relative[w[0]]){j=y(w[0]+w[1],d,f)}else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length){b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}}}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length){q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}}else{k=w=[]}}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]"){if(!u){e.push.apply(e,k)}else{if(d&&d.nodeType===1){for(t=0;k[t]!=null;t++){k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t])}}else{for(t=0;k[t]!=null;t++){k[t]&&k[t].nodeType===1&&e.push(j[t])}}}}else{s(k,e)}l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h){for(var b=1;b<a.length;b++){a[b]===a[b-1]&&a.splice(b--,1)}}}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a){return[]}for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter){if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\"){continue}s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f){g=i=!0}else{if(f===!0){continue}}}if(f){for(n=0;(j=s[n])!=null;n++){j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0))}}if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g){return[]}break}}}if(a===q){if(g==null){m.error(a)}else{break}}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string"){return a.textContent}if(typeof a.innerText=="string"){return a.innerText.replace(k,"")}for(a=a.firstChild;a;a=a.nextSibling){e+=n(a)}}else{if(d===3||d===4){return a.nodeValue}}}else{for(b=0;c=a[b];b++){c.nodeType!==8&&(e+=n(c))}}return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++){if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++){c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b)}d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++){d[e].getAttribute("name")===a[1]&&c.push(d[e])}return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined"){return b.getElementsByTagName(a[1])}}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f){return a}for(var g=0,h;(h=b[g])!=null;g++){h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1))}return !1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else{a[2]&&m.error(a[0])}a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if((a.exec(b[3])||"").length>1||/^\w/.test(b[3])){b[3]=m(b[3],null,null,c)}else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return !1}}else{if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0])){return !0}}return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return !!a.firstChild},empty:function(a){return !a.firstChild},has:function(a,b,c){return !!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f){return f(a,c,b,d)}if(e==="contains"){return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0}if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++){if(g[h]===a){return !1}}return !0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling){if(l.nodeType===1){return !1}}if(k==="first"){return !0}l=a;case"last":while(l=l.nextSibling){if(l.nodeType===1){return !1}}return !0;case"nth":c=b[2],e=b[3];if(c===1&&e===0){return !0}f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling){l.nodeType===1&&(l.nodeIndex=++i)}g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f){return f(a,c,b,d)}}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match){o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q))}o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]"){Array.prototype.push.apply(d,a)}else{if(typeof a.length=="number"){for(var e=a.length;c<e;c++){d.push(a[c])}}else{for(;a[c];c++){d.push(a[c])}}}return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1}return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i){return v(a,b)}if(!g){return -1}if(!i){return 1}while(j){e.unshift(j),j=j.parentNode}j=i;while(j){f.unshift(j),j=j.parentNode}c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++){if(e[k]!==f[k]){return v(e[k],f[k])}}return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b){return c}var d=a.nextSibling;while(d){if(d===b){return -1}d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++){c[e].nodeType===1&&d.push(c[e])}c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1]){return s(e.getElementsByTagName(b),f)}if(h[2]&&o.find.CLASS&&e.getElementsByClassName){return s(e.getElementsByClassName(h[2]),f)}}if(e.nodeType===9){if(b==="body"&&e.body){return s([e.body],f)}if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode){return s([],f)}if(i.id===h[3]){return s([i],f)}}try{return s(e.querySelectorAll(b),f)}catch(j){}}else{if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p){return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}}catch(r){}finally{l||k.removeAttribute("id")}}}}return a(b,e,f,g)};for(var e in a){m[e]=a[e]}b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a)){try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11){return f}}}catch(g){}}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1){return}o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c){return b.getElementsByClassName(a[1])}},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return !1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a)){f+=d[0],a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++){m(a,g[h],e,c)}return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string"){return f(a).filter(function(){for(c=0,d=b.length;c<d;c++){if(f.contains(b[c],this)){return !0}}})}var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0){for(h=g;h<e.length;h++){for(i=0;i<g;i++){if(e[i]===e[h]){e.splice(h--,1);break}}}}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++){if(f.contains(this,b[a])){return !0}}})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return !!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++){f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h})}g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11){break}}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof a=="string"){return f.inArray(this[0],f(a))}return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d))){g.nodeType===1&&e.push(g),g=g[c]}return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c]){if(a.nodeType===1&&++e===b){break}}return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling){a.nodeType===1&&a!==b&&c.push(a)}return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapAll(a.call(this,b))})}if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapInner(a.call(this,b))})}return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)})}if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})}if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++){if(!a||f.filter(a,[d]).length){!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d)}}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b){return c.nodeType===1?c.innerHTML.replace(W,""):null}if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++){c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a)}c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a)){return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))})}typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j)){return this.each(function(){f(this).domManip(a,c,d,!0)})}if(f.isFunction(j)){return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)})}if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++){d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g){e[g]&&bk(d[g],e[g])}}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g){bj(d[g],e[g])}}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l){continue}if(typeof l=="string"){if(!_.test(l)){l=b.createTextNode(l)}else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--){p=p.lastChild}if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i){f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}}var u;if(!f.support.appendChecked){if(l[0]&&typeof(u=l.length)=="number"){for(i=0;i<u;i++){bn(l[i])}}else{bn(l)}}l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return !a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type))){e.push(h.parentNode?h.parentNode.removeChild(h):h)}else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()]){continue}c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events){e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle)}b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get" in k&&(g=k.get(a,!1,e))!==b){return g}return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d)){return}h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set" in k)||(d=k.set(a,d))!==b){try{j[c]=d}catch(l){}}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get" in g&&(e=g.get(a,!0,d))!==b){return e}if(by){return by(a,c)}},swap:function(a,b,c){var d={},e,f;for(f in b){d[f]=a.style[f],a.style[f]=b[f]}e=c.call(a);for(f in b){a.style[f]=d[f]}return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c){return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})}},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter){return}}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return !f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++){f[a+bx[d]+b]=e[d]||e[d-2]||e[0]}return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR){return bR.apply(this,arguments)}if(!this.length){return this}var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified")){f.lastModified[k]=y}if(z=v.getResponseHeader("Etag")){f.etag[k]=z}}if(a===304){w="notmodified",o=!0}else{try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}}else{u=w;if(!w||a){w="error",a<0&&(a=0)}}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n)){o[c[1].toLowerCase()]=c[2]}}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2){for(b in a){j[b]=[j[b],a[b]]}}else{b=a[v.status],v.then(b,b)}}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2){return !1}t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers){v.setRequestHeader(u,d.headers[u])}if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return !1}for(u in {success:1,error:1,complete:1}){v[u](d[u])}p=bZ(bT,d,c,v);if(!p){w(-1,"No Transport")}else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2){w(-1,z)}else{throw z}}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a)){f.each(a,function(){e(this.name,this.value)})}else{for(var g in a){b_(g,a[g],c,e)}}return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")}},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg){cg[a](0,1)}}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return !this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials" in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields){for(j in c.xhrFields){h[j]=c.xhrFields[j]}}c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e){h.setRequestHeader(j,e[j])}}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e){h.readyState!==4&&h.abort()}else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0){return this.animate(ct("show",3),a,b,c)}for(var g=0,h=this.length;g<h;g++){d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)))}for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none"){d.style.display=f._data(d,"olddisplay")||""}}}return this},hide:function(a,b,c){if(a||a===0){return this.animate(ct("hide",3),a,b,c)}var d,e,g=0,h=this.length;for(;g<h;g++){d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e))}for(g=0;g<h;g++){this[g].style&&(this[g].style.display="none")}return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand" in k){l=k.expand(a[g]),delete a[g];for(i in l){i in a||(a[i]=l[i])}}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d){return b.complete.call(this)}c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a){j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""))}return !0}var e=f.speed(b,c,d);if(f.isEmptyObject(a)){return this.each(e.complete,[!1])}a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null){for(b in g){g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b)}}else{g[b=a+".run"]&&g[b].stop&&h(this,g,b)}for(b=e.length;b--;){e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1))}(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0){d.queue="fx"}d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return -Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties){i.animatedProperties[b]!==!0&&(g=!1)}if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show){for(b in i.animatedProperties){f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0)}}d=i.complete,d&&(i.complete=!1,d.call(h))}return !1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return !0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++){a=b[c],!a()&&b[c]===a&&b.splice(c--,1)}b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect" in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a)){return d?{top:d.top,left:d.left}:{top:0,left:0}}var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed"){break}d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static"){k+=h.offsetTop,l+=h.offsetLeft}f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length){return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)})}var c=this[0],d=c&&c.ownerDocument;if(!d){return null}if(c===d.body){return f.offset.bodyOffset(c)}return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using" in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0]){return null}var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static"){a=a.offsetParent}return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b){return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e]}h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e]){return i[d]}return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}throw new Error("This browser does not support XMLHttpRequest or XMLHTTP.")}}function addHandler(c,d,b){if(c.addEventListener){c.addEventListener(d.replace(/^on/,""),b,false)}else{if(c[d]){var a=c[d];c[d]=function(e){a(e);b(e)}}else{c[d]=function(e){b(e)}}}}addHandler(window,"onerror",function(g,c,a){var b=g+" in "+c;var e="JS Error occurred in "+c+" on line "+a+"\n"+g+"\nUA: "+navigator.userAgent+"\nPage: "+window.location.href;if(window.location.href.substring(0,10)!="coderunner"){if(null!=console&&null!=console.error){}else{throw b+"\n"+e}}else{var d=new XMLHttpRequest();d.open("POST","error.php",true);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var f="project=CR&summary="+escape(b)+"&description="+escape(e)+"&line="+a+"&emergency=0";d.send(f)}return true});window.undefined=window.undefined;Ext={version:"3.2.0"};Ext.apply=function(h,g,c){if(c){Ext.apply(h,c)}if(h&&g&&typeof g=="object"){for(var f in g){h[f]=g[f]}}return h};(function(){var W=0,I=Object.prototype.toString,H=navigator.userAgent.toLowerCase(),C=function(a){return a.test(H)},U=document,R=U.compatMode=="CSS1Compat",M=C(/opera/),V=C(/\bchrome\b/),G=C(/webkit/),D=!V&&C(/safari/),X=D&&C(/applewebkit\/4/),aa=D&&C(/version\/3/),K=D&&C(/version\/4/),J=!M&&C(/msie/),N=J&&C(/msie 7/),O=J&&C(/msie 8/),L=J&&!N&&!O,P=!G&&C(/gecko/),Y=P&&C(/rv:1\.8/),ab=P&&C(/rv:1\.9/),F=J&&!R,e=C(/windows|win32/),S=C(/macintosh|mac os x/),T=C(/adobeair/),Q=C(/linux/),Z=/^https/i.test(window.location.protocol);if(L){try{U.execCommand("BackgroundImageCache",false,true)}catch(E){}}Ext.apply(Ext,{SSL_SECURE_URL:Z&&J?'javascript:""':"about:blank",isStrict:R,isSecure:Z,isReady:false,enableGarbageCollector:true,enableListenerCollection:false,enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,applyIf:function(c,b){if(c){for(var a in b){if(!Ext.isDefined(c[a])){c[a]=b[a]}}}return c},id:function(a,b){a=Ext.getDom(a,true)||{};if(!a.id){a.id=(b||"ext-gen")+(++W)}return a.id},extend:function(){var b=function(c){for(var d in c){this[d]=c[d]}};var a=Object.prototype.constructor;return function(c,g,d){if(Ext.isObject(g)){d=g;g=c;c=d.constructor!=a?d.constructor:function(){g.apply(this,arguments)}}var h=function(){},f,i=g.prototype;h.prototype=i;f=c.prototype=new h();f.constructor=c;c.superclass=i;if(i.constructor==a){i.constructor=g}c.override=function(j){Ext.override(c,j)};f.superclass=f.supr=(function(){return i});f.override=b;Ext.override(c,d);c.extend=function(j){return Ext.extend(c,j)};return c}}(),override:function(b,a){if(a){var c=b.prototype;Ext.apply(c,a);if(Ext.isIE&&a.hasOwnProperty("toString")){c.toString=a.toString}}},namespace:function(){var b,a;Ext.each(arguments,function(c){a=c.split(".");b=window[a[0]]=window[a[0]]||{};Ext.each(a.slice(1),function(d){b=b[d]=b[d]||{}})});return b},urlEncode:function(a,b){var d,f=[],c=encodeURIComponent;Ext.iterate(a,function(h,g){d=Ext.isEmpty(g);Ext.each(d?h:g,function(i){f.push("&",c(h),"=",(!Ext.isEmpty(i)&&(i!=h||!d))?(Ext.isDate(i)?Ext.encode(i).replace(/"/g,""):c(i)):"")})});if(!b){f.shift();b=""}return b+f.join("")},urlDecode:function(g,h){if(Ext.isEmpty(g)){return{}}var b={},c=g.split("&"),a=decodeURIComponent,f,d;Ext.each(c,function(i){i=i.split("=");f=a(i[0]);d=a(i[1]);b[f]=h||!b[f]?d:[].concat(b[f]).concat(d)});return b},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf("?")===-1?"?":"&")+b}return a},toArray:function(){return J?function(f,a,c,b){b=[];for(var g=0,d=f.length;g<d;g++){b.push(f[g])}return b.slice(a||0,c||b.length)}:function(b,a,c){return Array.prototype.slice.call(b,a||0,c||b.length)}}(),isIterable:function(a){if(Ext.isArray(a)||a.callee){return true}if(/NodeList|HTMLCollection/.test(I.call(a))){return true}return((typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length))},each:function(a,b,d){if(Ext.isEmpty(a,true)){return}if(!Ext.isIterable(a)||Ext.isPrimitive(a)){a=[a]}for(var f=0,c=a.length;f<c;f++){if(b.call(d||a[f],a[f],f,a)===false){return f}}},iterate:function(c,d,b){if(Ext.isEmpty(c)){return}if(Ext.isIterable(c)){Ext.each(c,d,b);return}else{if(Ext.isObject(c)){for(var a in c){if(c.hasOwnProperty(a)){if(d.call(b||c,a,c[a],c)===false){return}}}}}},getDom:function(b,c){if(!b||!U){return null}if(b.dom){return b.dom}else{if(Ext.isString(b)){var a=U.getElementById(b);if(a&&J&&c){if(b==a.getAttribute("id")){return a}else{return null}}return a}else{return b}}},getBody:function(){return Ext.get(U.body||U.documentElement)},removeNode:J&&!O?function(){var a;return function(b){if(b&&b.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(b,true):Ext.EventManager.removeAll(b);a=a||U.createElement("div");a.appendChild(b);a.innerHTML="";delete Ext.elCache[b.id]}}}():function(a){if(a&&a.parentNode&&a.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(a,true):Ext.EventManager.removeAll(a);a.parentNode.removeChild(a);delete Ext.elCache[a.id]}},isEmpty:function(b,a){return b===null||b===undefined||((Ext.isArray(b)&&!b.length))||(!a?b==="":false)},isArray:function(a){return I.apply(a)==="[object Array]"},isDate:function(a){return I.apply(a)==="[object Date]"},isObject:function(a){return !!a&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return I.apply(a)==="[object Function]"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?!!a.tagName:false},isDefined:function(a){return typeof a!=="undefined"},isOpera:M,isWebKit:G,isChrome:V,isSafari:D,isSafari3:aa,isSafari4:K,isSafari2:X,isIE:J,isIE6:L,isIE7:N,isIE8:O,isGecko:P,isGecko2:Y,isGecko3:ab,isBorderBox:F,isLinux:Q,isWindows:e,isMac:S,isAir:T});Ext.ns=Ext.namespace})();Ext.ns("Ext.util","Ext.lib","Ext.data");Ext.elCache={};Ext.apply(Function.prototype,{createInterceptor:function(d,e){var f=this;return !Ext.isFunction(d)?this:function(){var a=this,b=arguments;d.target=a;d.method=f;return(d.apply(e||a||window,b)!==false)?f.apply(a||window,b):null}},createCallback:function(){var d=arguments,c=this;return function(){return c.apply(window,d)}},createDelegate:function(h,e,f){var g=this;return function(){var a=e||arguments;if(f===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(e)}else{if(Ext.isNumber(f)){a=Array.prototype.slice.call(arguments,0);var b=[f,0].concat(e);Array.prototype.splice.apply(a,b)}}return g.apply(h||window,a)}},defer:function(j,h,f,g){var i=this.createDelegate(h,f,g);if(j>0){return setTimeout(i,j)}i();return 0}});Ext.applyIf(String,{format:function(c){var d=Ext.toArray(arguments,1);return c.replace(/\{(\d+)\}/g,function(b,a){return d[a]})}});Ext.applyIf(Array.prototype,{indexOf:function(d,f){var e=this.length;f=f||0;f+=(f<0)?e:0;for(;f<e;++f){if(this[f]===d){return f}}return -1},remove:function(c){var d=this.indexOf(c);if(d!=-1){this.splice(d,1)}return this}});Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");Ext.apply(Ext,function(){var f=Ext,e=0,d=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(b,a){return Ext.extend(b,a(b.prototype))},getDoc:function(){return Ext.get(document)},num:function(a,b){a=Number(Ext.isEmpty(a)||Ext.isArray(a)||Ext.isBoolean(a)||(Ext.isString(a)&&a.trim().length==0)?NaN:a);return isNaN(a)?b:a},value:function(a,c,b){return Ext.isEmpty(a,b)?c:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(a,h,b,c){a[h]=a[h].createSequence(b,c)},addBehaviors:function(a){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(a)})}else{var i={},b,j,c;for(j in a){if((b=j.split("@"))[1]){c=b[0];if(!i[c]){i[c]=Ext.select(c)}i[c].on(b[1],a[j])}}i=null}},getScrollBarWidth:function(c){if(!Ext.isReady){return 0}if(c===true||d===null){var a=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),b=a.child("div",true);var i=b.offsetWidth;a.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var j=b.offsetWidth;a.remove();d=i-j+2}return d},combine:function(){var c=arguments,i=c.length,a=[];for(var b=0;b<i;b++){var j=c[b];if(Ext.isArray(j)){a=a.concat(j)}else{if(j.length!==undefined&&!j.substr){a=a.concat(Array.prototype.slice.call(j,0))}else{a.push(j)}}}return a},copyTo:function(c,b,a){if(Ext.isString(a)){a=a.split(/[,;\s]/)}Ext.each(a,function(h){if(b.hasOwnProperty(h)){c[h]=b[h]}},this);return c},destroy:function(){Ext.each(arguments,function(a){if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(Ext.isFunction(a.destroy)){a.destroy()}else{if(a.dom){a.remove()}}}}},this)},destroyMembers:function(a,c,l,i){for(var b=1,m=arguments,n=m.length;b<n;b++){Ext.destroy(a[m[b]]);delete a[m[b]]}},clean:function(b){var a=[];Ext.each(b,function(c){if(!!c){a.push(c)}});return a},unique:function(c){var b=[],a={};Ext.each(c,function(h){if(!a[h]){b.push(h)}a[h]=true});return b},flatten:function(c){var a=[];function b(h){Ext.each(h,function(g){if(Ext.isArray(g)){b(g)}else{a.push(g)}});return a}return b(c)},min:function(c,b){var a=c[0];b=b||function(i,j){return i<j?-1:1};Ext.each(c,function(h){a=b(a,h)==-1?a:h});return a},max:function(c,b){var a=c[0];b=b||function(i,j){return i>j?1:-1};Ext.each(c,function(h){a=b(a,h)==1?a:h});return a},mean:function(a){return a.length>0?Ext.sum(a)/a.length:undefined},sum:function(b){var a=0;Ext.each(b,function(c){a+=c});return a},partition:function(c,b){var a=[[],[]];Ext.each(c,function(k,i,l){a[(b&&b(k,i,l))||(!b&&k)?0:1].push(k)});return a},invoke:function(h,c){var a=[],b=Array.prototype.slice.call(arguments,2);Ext.each(h,function(i,g){if(i&&Ext.isFunction(i[c])){a.push(i[c].apply(i,b))}else{a.push(undefined)}});return a},pluck:function(c,a){var b=[];Ext.each(c,function(h){b.push(h[a])});return b},zip:function(){var a=Ext.partition(arguments,function(g){return !Ext.isFunction(g)}),i=a[0],b=a[1][0],p=Ext.max(Ext.pluck(i,"length")),j=[];for(var c=0;c<p;c++){j[c]=[];if(b){j[c]=b.apply(b,Ext.pluck(i,c))}else{for(var n=0,o=i.length;n<o;n++){j[c].push(i[n][c])}}}return j},getCmp:function(a){return Ext.ComponentMgr.get(a)},useShims:f.isIE6||(f.isMac&&f.isGecko2),type:function(a){if(a===undefined||a===null){return false}if(a.htmlElement){return"element"}var b=typeof a;if(b=="object"&&a.nodeName){switch(a.nodeType){case 1:return"element";case 3:return(/\S/).test(a.nodeValue)?"textnode":"whitespace"}}if(b=="object"||b=="function"){switch(a.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(Ext.isNumber(a.length)&&Ext.isFunction(a.item)){return"nodelist"}}return b},intercept:function(a,h,b,c){a[h]=a[h].createInterceptor(b,c)},callback:function(h,a,b,c){if(Ext.isFunction(h)){if(c){h.defer(c,a,b||[])}else{h.apply(a,b||[])}}}}}());Ext.apply(Function.prototype,{createSequence:function(d,e){var f=this;return !Ext.isFunction(d)?this:function(){var a=f.apply(this||window,arguments);d.apply(e||this||window,arguments);return a}}});Ext.applyIf(String,{escape:function(b){return b.replace(/('|\\)/g,"\\$1")},leftPad:function(g,e,h){var f=String(g);if(!h){h=" "}while(f.length<e){f=h+f}return f}});String.prototype.toggle=function(c,d){return this==c?d:c};String.prototype.trim=function(){var b=/^\s+|\s+$/g;return function(){return this.replace(b,"")}}();Date.prototype.getElapsed=function(b){return Math.abs((b||new Date()).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(c,d){return Math.min(Math.max(this,c),d)}});Ext.util.TaskRunner=function(n){n=n||10;var m=[],r=[],q=0,l=false,o=function(){l=false;clearInterval(q);q=0},k=function(){if(!l){l=true;q=setInterval(j,n)}},p=function(a){r.push(a);if(a.onStop){a.onStop.apply(a.scope||a)}},j=function(){var b=r.length,g=new Date().getTime();if(b>0){for(var e=0;e<b;e++){m.remove(r[e])}r=[];if(m.length<1){o();return}}for(var e=0,f,c,a,d=m.length;e<d;++e){f=m[e];c=g-f.taskRunTime;if(f.interval<=c){a=f.run.apply(f.scope||f,f.args||[++f.taskRunCount]);f.taskRunTime=g;if(a===false||f.taskRunCount===f.repeat){p(f);return}}if(f.duration&&f.duration<=(g-f.taskStartTime)){p(f)}}};this.start=function(a){m.push(a);a.taskStartTime=new Date().getTime();a.taskRunTime=0;a.taskRunCount=0;k();return a};this.stop=function(a){p(a);return a};this.stopAll=function(){o();for(var a=0,b=m.length;a<b;a++){if(m[a].onStop){m[a].onStop()}}m=[];r=[]}};Ext.TaskMgr=new Ext.util.TaskRunner();(function(){var d;function f(a){if(!d){d=new Ext.Element.Flyweight()}d.dom=a;return d}(function(){var b=document,i=b.compatMode=="CSS1Compat",c=Math.max,j=Math.round,a=parseInt;Ext.lib.Dom={isAncestor:function(h,g){var l=false;h=Ext.getDom(h);g=Ext.getDom(g);if(h&&g){if(h.contains){return h.contains(g)}else{if(h.compareDocumentPosition){return !!(h.compareDocumentPosition(g)&16)}else{while(g=g.parentNode){l=g==h||l}}}}return l},getViewWidth:function(g){return g?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(g){return g?this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){return c(!i?b.body.scrollHeight:b.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return c(!i?b.body.scrollWidth:b.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?(Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight):self.innerHeight},getViewportWidth:function(){return !Ext.isStrict&&!Ext.isOpera?b.body.clientWidth:Ext.isIE?b.documentElement.clientWidth:self.innerWidth},getY:function(g){return this.getXY(g)[1]},getX:function(g){return this.getXY(g)[0]},getXY:function(z){var A,h,F,C,y,x,D=0,g=0,E,B,w=(b.body||b.documentElement),p=[0,0];z=Ext.getDom(z);if(z!=w){if(z.getBoundingClientRect){F=z.getBoundingClientRect();E=f(document).getScroll();p=[j(F.left+E.left),j(F.top+E.top)]}else{A=z;B=f(z).isStyle("position","absolute");while(A){h=f(A);D+=A.offsetLeft;g+=A.offsetTop;B=B||h.isStyle("position","absolute");if(Ext.isGecko){g+=C=a(h.getStyle("borderTopWidth"),10)||0;D+=y=a(h.getStyle("borderLeftWidth"),10)||0;if(A!=z&&!h.isStyle("overflow","visible")){D+=y;g+=C}}A=A.offsetParent}if(Ext.isSafari&&B){D-=w.offsetLeft;g-=w.offsetTop}if(Ext.isGecko&&!B){x=f(w);D+=a(x.getStyle("borderLeftWidth"),10)||0;g+=a(x.getStyle("borderTopWidth"),10)||0}A=z.parentNode;while(A&&A!=w){if(!Ext.isOpera||(A.tagName!="TR"&&!f(A).isStyle("display","inline"))){D-=A.scrollLeft;g-=A.scrollTop}A=A.parentNode}p=[D,g]}}return p},setXY:function(o,n){(o=Ext.fly(o,"_setXY")).position();var h=o.translatePoints(n),p=o.dom.style,g;for(g in h){if(!isNaN(h[g])){p[g]=h[g]+"px"}}},setX:function(g,h){this.setXY(g,[h,false])},setY:function(h,g){this.setXY(h,[false,g])}}})();Ext.lib.Dom.getRegion=function(a){return Ext.lib.Region.getRegion(a)};Ext.lib.Event=function(){var H=false,ae={},U=0,V=[],ah,Q=false,aa=window,J=document,Z=200,P=20,T=0,R=0,ac=1,Y=2,N=2,c=3,L="scrollLeft",S="scrollTop",af="unload",a="mouseover",K="mouseout",ag=function(){var g;if(aa.addEventListener){g=function(h,j,i,k){if(j=="mouseenter"){i=i.createInterceptor(W);h.addEventListener(a,i,(k))}else{if(j=="mouseleave"){i=i.createInterceptor(W);h.addEventListener(K,i,(k))}else{h.addEventListener(j,i,(k))}}return i}}else{if(aa.attachEvent){g=function(h,j,i,k){h.attachEvent("on"+j,i);return i}}else{g=function(){}}}return g}(),ad=function(){var g;if(aa.removeEventListener){g=function(h,j,i,k){if(j=="mouseenter"){j=a}else{if(j=="mouseleave"){j=K}}h.removeEventListener(j,i,(k))}}else{if(aa.detachEvent){g=function(h,j,i){h.detachEvent("on"+j,i)}}else{g=function(){}}}return g}();function W(g){return !I(g.currentTarget,b.getRelatedTarget(g))}function I(h,g){if(h&&h.firstChild){while(g){if(g===h){return true}g=g.parentNode;if(g&&(g.nodeType!=1)){g=null}}}return false}function O(){var i=false,l=[],g,h,k,j,m=!H||(U>0);if(!Q){Q=true;for(h=0,k=V.length;h<k;h++){j=V[h];if(j&&(g=J.getElementById(j.id))){if(!j.checkReady||H||g.nextSibling||(J&&J.body)){g=j.override?(j.override===true?j.obj:j.override):g;j.fn.call(g,j.obj);V.remove(j)}else{l.push(j)}}}U=(l.length===0)?0:U-1;if(m){X()}else{clearInterval(ah);ah=null}i=!(Q=false)}return i}function X(){if(!ah){var g=function(){O()};ah=setInterval(g,P)}}function M(){var h=J.documentElement,g=J.body;if(h&&(h[S]||h[L])){return[h[L],h[S]]}else{if(g){return[g[L],g[S]]}else{return[0,0]}}}function ab(i,h){i=i.browserEvent||i;var g=i["page"+h];if(!g&&g!==0){g=i["client"+h]||0;if(Ext.isIE){g+=M()[h=="X"?0:1]}}return g}var b={extAdapter:true,onAvailable:function(h,j,g,i){V.push({id:h,fn:j,obj:g,override:i,checkReady:false});U=Z;X()},addListener:function(g,i,h){g=Ext.getDom(g);if(g&&h){if(i==af){if(ae[g.id]===undefined){ae[g.id]=[]}ae[g.id].push([i,h]);return h}return ag(g,i,h,false)}return false},removeListener:function(l,i,m){l=Ext.getDom(l);var g,j,k,h;if(l&&m){if(i==af){if((h=ae[l.id])!==undefined){for(g=0,j=h.length;g<j;g++){if((k=h[g])&&k[R]==i&&k[ac]==m){ae[l.id].splice(g,1)}}}return}ad(l,i,m,false)}},getTarget:function(g){g=g.browserEvent||g;return this.resolveTextNode(g.target||g.srcElement)},resolveTextNode:Ext.isGecko?function(g){if(!g){return}var h=HTMLElement.prototype.toString.call(g);if(h=="[xpconnect wrapped native prototype]"||h=="[object XULElement]"){return}return g.nodeType==3?g.parentNode:g}:function(g){return g&&g.nodeType==3?g.parentNode:g},getRelatedTarget:function(g){g=g.browserEvent||g;return this.resolveTextNode(g.relatedTarget||(g.type==K?g.toElement:g.type==a?g.fromElement:null))},getPageX:function(g){return ab(g,"X")},getPageY:function(g){return ab(g,"Y")},getXY:function(g){return[this.getPageX(g),this.getPageY(g)]},stopEvent:function(g){this.stopPropagation(g);this.preventDefault(g)},stopPropagation:function(g){g=g.browserEvent||g;if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}},preventDefault:function(g){g=g.browserEvent||g;if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}},getEvent:function(h){h=h||aa.event;if(!h){var g=this.getEvent.caller;while(g){h=g.arguments[0];if(h&&Event==h.constructor){break}g=g.caller}}return h},getCharCode:function(g){g=g.browserEvent||g;return g.charCode||g.keyCode||0},getListeners:function(g,h){Ext.EventManager.getListeners(g,h)},purgeElement:function(h,g,i){Ext.EventManager.purgeElement(h,g,i)},_load:function(g){H=true;var h=Ext.lib.Event;if(Ext.isIE&&g!==true){ad(aa,"load",arguments.callee)}},_unload:function(k){var q=Ext.lib.Event,n,o,p,h,j,r,l,m,g;for(r in ae){j=ae[r];for(n=0,l=j.length;n<l;n++){h=j[n];if(h){try{g=h[c]?(h[c]===true?h[N]:h[c]):aa;h[ac].call(g,q.getEvent(k),h[N])}catch(i){}}}}Ext.EventManager._unload();ad(aa,af,q._unload)}};b.on=b.addListener;b.un=b.removeListener;if(J&&J.body){b._load(true)}else{ag(aa,"load",b._load)}ag(aa,af,b._unload);O();return b}();Ext.lib.Ajax=function(){var w=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],z="Content-Type";function v(h){var i=h.conn,g;function j(l,k){for(g in k){if(k.hasOwnProperty(g)){l.setRequestHeader(g,k[g])}}}if(s.defaultHeaders){j(i,s.defaultHeaders)}if(s.headers){j(i,s.headers);delete s.headers}}function y(g,h,i,j){return{tId:g,status:i?-1:0,statusText:i?"transaction aborted":"communication failure",isAbort:i,isTimeout:j,argument:h}}function t(h,g){(s.headers=s.headers||{})[h]=g}function b(h,m){var i={},n,o=h.conn,k,j,g=o.status==1223;try{n=h.conn.getAllResponseHeaders();Ext.each(n.replace(/\r\n/g,"\n").split("\n"),function(p){k=p.indexOf(":");if(k>=0){j=p.substr(0,k).toLowerCase();if(p.charAt(k+1)==" "){++k}i[j]=p.substr(k+1)}})}catch(l){}return{tId:h.tId,status:g?204:o.status,statusText:g?"No Content":o.statusText,getResponseHeader:function(p){return i[p.toLowerCase()]},getAllResponseHeaders:function(){return n},responseText:o.responseText,responseXML:o.responseXML,argument:m}}function c(g){if(g.tId){s.conn[g.tId]=null}g.conn=null;g=null}function x(h,g,l,m){if(!g){c(h);return}var j,k;try{if(h.conn.status!==undefined&&h.conn.status!=0){j=h.conn.status}else{j=13030}}catch(i){j=13030}if((j>=200&&j<300)||(Ext.isIE&&j==1223)){k=b(h,g.argument);if(g.success){if(!g.scope){g.success(k)}else{g.success.apply(g.scope,[k])}}}else{switch(j){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:k=y(h.tId,g.argument,(l?l:false),m);if(g.failure){if(!g.scope){g.failure(k)}else{g.failure.apply(g.scope,[k])}}break;default:k=b(h,g.argument);if(g.failure){if(!g.scope){g.failure(k)}else{g.failure.apply(g.scope,[k])}}}}c(h);k=null}function q(j,g){g=g||{};var l=j.conn,h=j.tId,k=s.poll,i=g.timeout||null;if(i){s.conn[h]=l;s.timeout[h]=setTimeout(function(){s.abort(j,g,true)},i)}k[h]=setInterval(function(){if(l&&l.readyState==4){clearInterval(k[h]);k[h]=null;if(i){clearTimeout(s.timeout[h]);s.timeout[h]=null}x(j,g)}},s.pollInterval)}function u(g,j,h,k){var i=r()||null;if(i){i.conn.open(g,j,true);if(s.useDefaultXhrHeader){t("X-Requested-With",s.defaultXhrHeader)}if(k&&s.useDefaultHeader&&(!s.headers||!s.headers[z])){t(z,s.defaultPostHeader)}if(s.defaultHeaders||s.headers){v(i)}q(i,h);i.conn.send(k||null)}return i}function r(){var g;try{if(g=a(s.transactionId)){s.transactionId++}}catch(h){}finally{return g}}function a(g){var j;try{j=new XMLHttpRequest()}catch(h){for(var i=0;i<w.length;++i){try{j=new ActiveXObject(w[i]);break}catch(h){}}}finally{return{conn:j,tId:g}}}var s={request:function(h,o,n,m,i){if(i){var l=this,g=i.xmlData,k=i.jsonData,j;Ext.applyIf(l,i);if(g||k){j=l.headers;if(!j||!j[z]){t(z,g?"text/xml":"application/json")}m=g||(!Ext.isPrimitive(k)?Ext.encode(k):k)}}return u(h||i.method||"POST",o,n,m)},serializeForm:function(g){var p=g.elements||(document.forms[g]||Ext.getDom(g)).elements,j=false,k=encodeURIComponent,m,i,h,o,n="",l;Ext.each(p,function(B){h=B.name;l=B.type;if(!B.disabled&&h){if(/select-(one|multiple)/i.test(l)){Ext.each(B.options,function(A){if(A.selected){n+=String.format("{0}={1}&",k(h),k((A.hasAttribute?A.hasAttribute("value"):A.getAttribute("value")!==null)?A.value:A.text))}})}else{if(!/file|undefined|reset|button/i.test(l)){if(!(/radio|checkbox/i.test(l)&&!B.checked)&&!(l=="submit"&&j)){n+=k(h)+"="+k(B.value)+"&";j=/submit/i.test(l)}}}}});return n.substr(0,n.length-1)},useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",poll:{},timeout:{},conn:{},pollInterval:50,transactionId:0,abort:function(i,g,l){var j=this,h=i.tId,k=false;if(j.isCallInProgress(i)){i.conn.abort();clearInterval(j.poll[h]);j.poll[h]=null;clearTimeout(s.timeout[h]);j.timeout[h]=null;x(i,g,(k=true),l)}return k},isCallInProgress:function(g){return g.conn&&!{0:true,4:true}[g.conn.readyState]}};return s}();Ext.lib.Region=function(c,a,j,i){var b=this;b.top=c;b[1]=c;b.right=a;b.bottom=j;b.left=i;b[0]=i};Ext.lib.Region.prototype={contains:function(a){var b=this;return(a.left>=b.left&&a.right<=b.right&&a.top>=b.top&&a.bottom<=b.bottom)},getArea:function(){var a=this;return((a.bottom-a.top)*(a.right-a.left))},intersect:function(a){var b=this,j=Math.max(b.top,a.top),c=Math.min(b.right,a.right),l=Math.min(b.bottom,a.bottom),k=Math.max(b.left,a.left);if(l>=j&&c>=k){return new Ext.lib.Region(j,c,l,k)}},union:function(a){var b=this,j=Math.min(b.top,a.top),c=Math.max(b.right,a.right),l=Math.max(b.bottom,a.bottom),k=Math.min(b.left,a.left);return new Ext.lib.Region(j,c,l,k)},constrainTo:function(a){var b=this;b.top=b.top.constrain(a.top,a.bottom);b.bottom=b.bottom.constrain(a.top,a.bottom);b.left=b.left.constrain(a.left,a.right);b.right=b.right.constrain(a.left,a.right);return b},adjust:function(c,i,j,a){var b=this;b.top+=c;b.left+=i;b.right+=a;b.bottom+=j;return b}};Ext.lib.Region.getRegion=function(c){var a=Ext.lib.Dom.getXY(c),j=a[1],b=a[0]+c.offsetWidth,l=a[1]+c.offsetHeight,k=a[0];return new Ext.lib.Region(j,b,l,k)};Ext.lib.Point=function(c,a){if(Ext.isArray(c)){a=c[1];c=c[0]}var b=this;b.x=b.right=b.left=b[0]=c;b.y=b.top=b.bottom=b[1]=a};Ext.lib.Point.prototype=new Ext.lib.Region();(function(){var k=Ext.lib,b=/width|height|opacity|padding/i,l=/^((width|height)|(top|left))$/,n=/width|height|top$|bottom$|left$|right$/i,c=/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i,a=function(g){return typeof g!=="undefined"},m=function(){return new Date()};k.Anim={motion:function(r,h,q,j,i,g){return this.run(r,h,q,j,i,g,Ext.lib.Motion)},run:function(u,h,s,j,i,v,g){g=g||Ext.lib.AnimBase;if(typeof j=="string"){j=Ext.lib.Easing[j]}var t=new g(u,h,s,j);t.animateX(function(){if(Ext.isFunction(i)){i.call(v)}});return t}};k.AnimBase=function(h,i,g,j){if(h){this.init(h,i,g,j)}};k.AnimBase.prototype={doMethod:function(i,j,h){var g=this;return g.method(g.curFrame,j,h-j,g.totalFrames)},setAttr:function(i,g,h){if(b.test(i)&&g<0){g=0}Ext.fly(this.el,"_anim").setStyle(i,g+h)},getAttr:function(i){var g=Ext.fly(this.el),j=g.getStyle(i),h=l.exec(i)||[];if(j!=="auto"&&!c.test(j)){return parseFloat(j)}return(!!(h[2])||(g.getStyle("position")=="absolute"&&!!(h[3])))?g.dom["offset"+h[0].charAt(0).toUpperCase()+h[0].substr(1)]:0},getDefaultUnit:function(g){return n.test(g)?"px":""},animateX:function(j,i){var h=this,g=function(){h.onComplete.removeListener(g);if(Ext.isFunction(j)){j.call(i||h,h)}};h.onComplete.addListener(g,h);h.animate()},setRunAttr:function(i){var g=this,D=this.attributes[i],C=D.to,h=D.by,B=D.from,A=D.unit,y=(this.runAttrs[i]={}),x;if(!a(C)&&!a(h)){return false}var z=a(B)?B:g.getAttr(i);if(a(C)){x=C}else{if(a(h)){if(Ext.isArray(z)){x=[];for(var w=0,j=z.length;w<j;w++){x[w]=z[w]+h[w]}}else{x=z+h}}}Ext.apply(y,{start:z,end:x,unit:a(A)?A:g.getDefaultUnit(i)})},init:function(w,i,j,x){var g=this,u=0,z=k.AnimMgr;Ext.apply(g,{isAnimated:false,startTime:null,el:Ext.getDom(w),attributes:i||{},duration:j||1,method:x||k.Easing.easeNone,useSec:true,curFrame:0,totalFrames:z.fps,runAttrs:{},animate:function(){var p=this,o=p.duration;if(p.isAnimated){return false}p.curFrame=0;p.totalFrames=p.useSec?Math.ceil(z.fps*o):o;z.registerElement(p)},stop:function(p){var o=this;if(p){o.curFrame=o.totalFrames;o._onTween.fire()}z.stop(o)}});var y=function(){var o=this,p;o.onStart.fire();o.runAttrs={};for(p in this.attributes){this.setRunAttr(p)}o.isAnimated=true;o.startTime=m();u=0};var h=function(){var p=this;p.onTween.fire({duration:m()-p.startTime,curFrame:p.curFrame});var o=p.runAttrs;for(var q in o){this.setAttr(q,p.doMethod(q,o[q].start,o[q].end),o[q].unit)}++u};var v=function(){var q=this,o=(m()-q.startTime)/1000,p={duration:o,frames:u,fps:u/o};q.isAnimated=false;u=0;q.onComplete.fire(p)};g.onStart=new Ext.util.Event(g);g.onTween=new Ext.util.Event(g);g.onComplete=new Ext.util.Event(g);(g._onStart=new Ext.util.Event(g)).addListener(y);(g._onTween=new Ext.util.Event(g)).addListener(h);(g._onComplete=new Ext.util.Event(g)).addListener(v)}};Ext.lib.AnimMgr=new function(){var q=this,g=null,h=[],i=0;Ext.apply(q,{fps:1000,delay:1,registerElement:function(o){h.push(o);++i;o._onStart.fire();q.start()},unRegister:function(o,p){o._onComplete.fire();p=p||j(o);if(p!=-1){h.splice(p,1)}if(--i<=0){q.stop()}},start:function(){if(g===null){g=setInterval(q.run,q.delay)}},stop:function(o){if(!o){clearInterval(g);for(var p=0,t=h.length;p<t;++p){if(h[0].isAnimated){q.unRegister(h[0],0)}}h=[];g=null;i=0}else{q.unRegister(o)}},run:function(){var o,p,v,u;for(p=0,v=h.length;p<v;p++){u=h[p];if(u&&u.isAnimated){o=u.totalFrames;if(u.curFrame<o||o===null){++u.curFrame;if(u.useSec){r(u)}u._onTween.fire()}else{q.stop(u)}}}}});var j=function(o){var p,t;for(p=0,t=h.length;p<t;p++){if(h[p]===o){return p}}return -1};var r=function(A){var p=A.totalFrames,x=A.curFrame,y=A.duration,z=(x*y*1000/p),B=(m()-A.startTime),o=0;if(B<y*1000){o=Math.round((B/z-1)*x)}else{o=p-(x+1)}if(o>0&&isFinite(o)){if(A.curFrame+o>=p){o=p-(x+1)}A.curFrame+=o}}};k.Bezier=new function(){this.getPosition=function(t,u){var j=t.length,g=[],s=1-u,h,i;for(h=0;h<j;++h){g[h]=[t[h][0],t[h][1]]}for(i=1;i<j;++i){for(h=0;h<j-i;++h){g[h][0]=s*g[h][0]+u*g[parseInt(h+1,10)][0];g[h][1]=s*g[h][1]+u*g[parseInt(h+1,10)][1]}}return[g[0][0],g[0][1]]}};k.Easing={easeNone:function(h,i,j,g){return j*h/g+i},easeIn:function(h,i,j,g){return j*(h/=g)*h+i},easeOut:function(h,i,j,g){return -j*(h/=g)*(h-2)+i}};(function(){k.Motion=function(u,v,t,s){if(u){k.Motion.superclass.constructor.call(this,u,v,t,s)}};Ext.extend(k.Motion,Ext.lib.AnimBase);var j=k.Motion.superclass,g=k.Motion.prototype,h=/^points$/i;Ext.apply(k.Motion.prototype,{setAttr:function(x,t,u){var v=this,w=j.setAttr;if(h.test(x)){u=u||"px";w.call(v,"left",t[0],u);w.call(v,"top",t[1],u)}else{w.call(v,x,t,u)}},getAttr:function(t){var r=this,s=j.getAttr;return h.test(t)?[s.call(r,"left"),s.call(r,"top")]:s.call(r,t)},doMethod:function(v,s,u){var t=this;return h.test(v)?k.Bezier.getPosition(t.runAttrs[v],t.method(t.curFrame,0,100,t.totalFrames)/100):j.doMethod.call(t,v,s,u)},setRunAttr:function(M){if(h.test(M)){var K=this,D=this.el,H=this.attributes.points,O=H.control||[],J=H.from,I=H.to,L=H.by,F=k.Dom,E,P,C,N,G;if(O.length>0&&!Ext.isArray(O[0])){O=[O]}else{}Ext.fly(D,"_anim").position();F.setXY(D,a(J)?J:F.getXY(D));E=K.getAttr("points");if(a(I)){C=i.call(K,I,E);for(P=0,N=O.length;P<N;++P){O[P]=i.call(K,O[P],E)}}else{if(a(L)){C=[E[0]+L[0],E[1]+L[1]];for(P=0,N=O.length;P<N;++P){O[P]=[E[0]+O[P][0],E[1]+O[P][1]]}}}G=this.runAttrs[M]=[E];if(O.length>0){G=G.concat(O)}G[G.length]=C}else{j.setRunAttr.call(this,M)}}});var i=function(t,r){var s=k.Dom.getXY(this.el);return[t[0]-s[0]+r[0],t[1]-s[1]+r[1]]}})()})();(function(){var l=Math.abs,a=Math.PI,b=Math.asin,c=Math.pow,k=Math.sin,j=Ext.lib;Ext.apply(j.Easing,{easeBoth:function(i,n,g,h){return((i/=h/2)<1)?g/2*i*i+n:-g/2*((--i)*(i-2)-1)+n},easeInStrong:function(i,n,g,h){return g*(i/=h)*i*i*i+n},easeOutStrong:function(i,n,g,h){return -g*((i=i/h-1)*i*i*i-1)+n},easeBothStrong:function(i,n,g,h){return((i/=h/2)<1)?g/2*i*i*i*i+n:-g/2*((i-=2)*i*i*i-2)+n},elasticIn:function(h,p,r,s,i,t){if(h==0||(h/=s)==1){return h==0?p:p+r}t=t||(s*0.3);var g;if(i>=l(r)){g=t/(2*a)*b(r/i)}else{i=r;g=t/4}return -(i*c(2,10*(h-=1))*k((h*s-g)*(2*a)/t))+p},elasticOut:function(h,p,r,s,i,t){if(h==0||(h/=s)==1){return h==0?p:p+r}t=t||(s*0.3);var g;if(i>=l(r)){g=t/(2*a)*b(r/i)}else{i=r;g=t/4}return i*c(2,-10*h)*k((h*s-g)*(2*a)/t)+r+p},elasticBoth:function(h,p,r,s,i,t){if(h==0||(h/=s/2)==2){return h==0?p:p+r}t=t||(s*(0.3*1.5));var g;if(i>=l(r)){g=t/(2*a)*b(r/i)}else{i=r;g=t/4}return h<1?-0.5*(i*c(2,10*(h-=1))*k((h*s-g)*(2*a)/t))+p:i*c(2,-10*(h-=1))*k((h*s-g)*(2*a)/t)*0.5+r+p},backIn:function(i,o,p,g,h){h=h||1.70158;return p*(i/=g)*i*((h+1)*i-h)+o},backOut:function(i,o,p,g,h){if(!h){h=1.70158}return p*((i=i/g-1)*i*((h+1)*i+h)+1)+o},backBoth:function(i,o,p,g,h){h=h||1.70158;return((i/=g/2)<1)?p/2*(i*i*(((h*=(1.525))+1)*i-h))+o:p/2*((i-=2)*i*(((h*=(1.525))+1)*i+h)+2)+o},bounceIn:function(i,n,g,h){return g-j.Easing.bounceOut(h-i,0,g,h)+n},bounceOut:function(i,n,g,h){if((i/=h)<(1/2.75)){return g*(7.5625*i*i)+n}else{if(i<(2/2.75)){return g*(7.5625*(i-=(1.5/2.75))*i+0.75)+n}else{if(i<(2.5/2.75)){return g*(7.5625*(i-=(2.25/2.75))*i+0.9375)+n}}}return g*(7.5625*(i-=(2.625/2.75))*i+0.984375)+n},bounceBoth:function(i,n,g,h){return(i<h/2)?j.Easing.bounceIn(i*2,0,g,h)*0.5+n:j.Easing.bounceOut(i*2-h,0,g,h)*0.5+g*0.5+n}})})();(function(){var n=Ext.lib;n.Anim.color=function(j,l,i,h,g,k){return n.Anim.run(j,l,i,h,g,k,n.ColorAnim)};n.ColorAnim=function(j,g,i,h){n.ColorAnim.superclass.constructor.call(this,j,g,i,h)};Ext.extend(n.ColorAnim,n.AnimBase);var c=n.ColorAnim.superclass,m=/color$/i,p=/^transparent|rgba\(0, 0, 0, 0\)$/,a=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,r=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,q=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,o=function(g){return typeof g!=="undefined"};function b(k){var i=parseInt,j,g=null,h;if(k.length==3){return k}Ext.each([r,a,q],function(l,t){j=(t%2==0)?16:10;h=l.exec(k);if(h&&h.length==4){g=[i(h[1],j),i(h[2],j),i(h[3],j)];return false}});return g}Ext.apply(n.ColorAnim.prototype,{getAttr:function(g){var i=this,j=i.el,h;if(m.test(g)){while(j&&p.test(h=Ext.fly(j).getStyle(g))){j=j.parentNode;h="fff"}}else{h=c.getAttr.call(i,g)}return h},doMethod:function(x,l,j){var w=this,k,h=Math.floor,i,g,v;if(m.test(x)){k=[];j=j||[];for(i=0,g=l.length;i<g;i++){v=l[i];k[i]=c.doMethod.call(w,x,v,j[i])}k="rgb("+h(k[0])+","+h(k[1])+","+h(k[2])+")"}else{k=c.doMethod.call(w,x,l,j)}return k},setRunAttr:function(g){var y=this,x=y.attributes[g],w=x.to,z=x.by,k;c.setRunAttr.call(y,g);k=y.runAttrs[g];if(m.test(g)){var l=b(k.start),j=b(k.end);if(!o(w)&&o(z)){j=b(z);for(var i=0,h=l.length;i<h;i++){j[i]=l[i]+j[i]}}k.start=l;k.end=j}}})})();(function(){var c=Ext.lib;c.Anim.scroll=function(o,q,n,m,r,p){return c.Anim.run(o,q,n,m,r,p,c.Scroll)};c.Scroll=function(m,n,l,k){if(m){c.Scroll.superclass.constructor.call(this,m,n,l,k)}};Ext.extend(c.Scroll,c.ColorAnim);var a=c.Scroll.superclass,b="scroll";Ext.apply(c.Scroll.prototype,{doMethod:function(t,n,s){var p,q=this,o=q.curFrame,r=q.totalFrames;if(t==b){p=[q.method(o,n[0],s[0]-n[0],r),q.method(o,n[1],s[1]-n[1],r)]}else{p=a.doMethod.call(q,t,n,s)}return p},getAttr:function(j){var i=this;if(j==b){return[i.el.scrollLeft,i.el.scrollTop]}else{return a.getAttr.call(i,j)}},setAttr:function(n,k,l){var m=this;if(n==b){m.el.scrollLeft=k[0];m.el.scrollTop=k[1]}else{a.setAttr.call(m,n,k,l)}}})})();if(Ext.isIE){function e(){var a=Function.prototype;delete a.createSequence;delete a.defer;delete a.createDelegate;delete a.createCallback;delete a.createInterceptor;window.detachEvent("onunload",e)}window.attachEvent("onunload",e)}})();Ext.DomHelper=function(){var t=null,D=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,B=/^table|tbody|tr|td$/i,x,A="afterbegin",z="afterend",J="beforebegin",y="beforeend",L="<table>",F="</table>",K=L+"<tbody>",E="</tbody>"+F,C=K+"<tr>",u="</tr>"+E;function G(b,g,h,a,c,e){var d=x.insertHtml(a,Ext.getDom(b),v(g));return h?Ext.get(d,true):d}function v(b){var c="",d,g,i,e,h;if(Ext.isString(b)){c=b}else{if(Ext.isArray(b)){for(var a=0;a<b.length;a++){if(b[a]){c+=v(b[a])}}}else{c+="<"+(b.tag=b.tag||"div");Ext.iterate(b,function(k,j){if(!/tag|children|cn|html$/i.test(k)){if(Ext.isObject(j)){c+=" "+k+'="';Ext.iterate(j,function(l,m){c+=l+":"+m+";"});c+='"'}else{c+=" "+({cls:"class",htmlFor:"for"}[k]||k)+'="'+j+'"'}}});if(D.test(b.tag)){c+="/>"}else{c+=">";if((h=b.children||b.cn)){c+=v(h)}else{if(b.html){c+=b.html}}c+="</"+b.tag+">"}}}return c}function H(i,h,b,g){t.innerHTML=[h,b,g].join("");var e=-1,c=t,d;while(++e<i){c=c.firstChild}if(d=c.nextSibling){var a=document.createDocumentFragment();while(c){d=c.nextSibling;a.appendChild(c);c=d}c=a}return c}function I(d,c,a,b){var g,e;t=t||document.createElement("div");if(d=="td"&&(c==A||c==y)||!/td|tr|tbody/i.test(d)&&(c==J||c==z)){return}e=c==J?a:c==z?a.nextSibling:c==A?a.firstChild:null;if(c==J||c==z){a=a.parentNode}if(d=="td"||(d=="tr"&&(c==y||c==A))){g=H(4,C,b,u)}else{if((d=="tbody"&&(c==y||c==A))||(d=="tr"&&(c==J||c==z))){g=H(3,K,b,E)}else{g=H(2,L,b,F)}}a.insertBefore(g,e);return g}x={markup:function(a){return v(a)},applyStyles:function(a,e){if(e){var c=0,d,b;a=Ext.fly(a);if(Ext.isFunction(e)){e=e.call()}if(Ext.isString(e)){e=e.trim().split(/\s*(?::|;)\s*/);for(d=e.length;c<d;){a.setStyle(e[c++],e[c++])}}else{if(Ext.isObject(e)){a.setStyle(e)}}}},insertHtml:function(e,k,d){var g={},i,b,c,a,h,j;e=e.toLowerCase();g[J]=["BeforeBegin","previousSibling"];g[z]=["AfterEnd","nextSibling"];if(k.insertAdjacentHTML){if(B.test(k.tagName)&&(j=I(k.tagName.toLowerCase(),e,k,d))){return j}g[A]=["AfterBegin","firstChild"];g[y]=["BeforeEnd","lastChild"];if((i=g[e])){k.insertAdjacentHTML(i[0],d);return k[i[1]]}}else{c=k.ownerDocument.createRange();b="setStart"+(/end/i.test(e)?"After":"Before");if(g[e]){c[b](k);a=c.createContextualFragment(d);k.parentNode.insertBefore(a,e==J?k:k.nextSibling);return k[(e==J?"previous":"next")+"Sibling"]}else{h=(e==A?"first":"last")+"Child";if(k.firstChild){c[b](k[h]);a=c.createContextualFragment(d);if(e==A){k.insertBefore(a,k.firstChild)}else{k.appendChild(a)}}else{k.innerHTML=d}return k[h]}}throw'Illegal insertion point -> "'+e+'"'},insertBefore:function(c,a,b){return G(c,a,b,J)},insertAfter:function(c,a,b){return G(c,a,b,z,"nextSibling")},insertFirst:function(c,a,b){return G(c,a,b,A,"firstChild")},append:function(c,a,b){return G(c,a,b,y,"",true)},overwrite:function(c,a,b){c=Ext.getDom(c);c.innerHTML=v(a);return b?Ext.get(c.firstChild):c.firstChild},createHtml:v};return x}();Ext.apply(Ext.DomHelper,function(){var n,j="afterbegin",l="afterend",k="beforebegin",o="beforeend";function m(b,h,a,g,c,e){b=Ext.getDom(b);var d;if(n.useDom){d=i(h,null);if(e){b.appendChild(d)}else{(c=="firstChild"?b:b.parentNode).insertBefore(d,b[c]||b)}}else{d=Ext.DomHelper.insertHtml(g,b,Ext.DomHelper.createHtml(h))}return a?Ext.get(d,true):d}function i(h,d){var b,a=document,c,e,r,g;if(Ext.isArray(h)){b=a.createDocumentFragment();Ext.each(h,function(p){i(p,b)})}else{if(Ext.isString(h)){b=a.createTextNode(h)}else{b=a.createElement(h.tag||"div");c=!!b.setAttribute;Ext.iterate(h,function(q,p){if(!/tag|children|cn|html|style/.test(q)){if(q=="cls"){b.className=p}else{if(c){b.setAttribute(q,p)}else{b[q]=p}}}});Ext.DomHelper.applyStyles(b,h.style);if((g=h.children||h.cn)){i(g,b)}else{if(h.html){b.innerHTML=h.html}}}}if(d){d.appendChild(b)}return b}n={createTemplate:function(a){var b=Ext.DomHelper.createHtml(a);return new Ext.Template(b)},useDom:false,insertBefore:function(c,a,b){return m(c,a,b,k)},insertAfter:function(c,a,b){return m(c,a,b,l,"nextSibling")},insertFirst:function(c,a,b){return m(c,a,b,j,"firstChild")},append:function(c,a,b){return m(c,a,b,o,"",true)},createDom:i};return n}());Ext.Template=function(h){var g=this,a=arguments,i=[];if(Ext.isArray(h)){h=h.join("")}else{if(a.length>1){Ext.each(a,function(b){if(Ext.isObject(b)){Ext.apply(g,b)}else{i.push(b)}});h=i.join("")}}g.html=h;if(g.compiled){g.compile()}};Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(d){var c=this;return c.compiled?c.compiled(d):c.html.replace(c.re,function(b,a){return d[a]!==undefined?d[a]:""})},set:function(e,g){var d=this;d.html=e;d.compiled=null;return g?d.compile():d},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'"}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));return me},insertFirst:function(d,e,g){return this.doInsert("afterBegin",d,e,g)},insertBefore:function(d,e,g){return this.doInsert("beforeBegin",d,e,g)},insertAfter:function(d,e,g){return this.doInsert("afterEnd",d,e,g)},append:function(d,e,g){return this.doInsert("beforeEnd",d,e,g)},doInsert:function(k,i,g,h){i=Ext.getDom(i);var j=Ext.DomHelper.insertHtml(k,i,this.applyTemplate(g));return h?Ext.get(j,true):j},overwrite:function(d,e,g){d=Ext.getDom(d);d.innerHTML=this.applyTemplate(e);return g?Ext.get(d.firstChild,true):d.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(c,d){c=Ext.getDom(c);return new Ext.Template(c.value||c.innerHTML,d||"")};Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(h){var j=this,i=j.disableFormats!==true,k=Ext.util.Format,m=j;if(j.compiled){return j.compiled(h)}function l(c,a,e,b){if(e&&i){if(e.substr(0,5)=="this."){return m.call(e.substr(5),h[a],h)}else{if(b){var g=/^\s*['"](.*)["']\s*$/;b=b.split(",");for(var q=0,d=b.length;q<d;q++){b[q]=b[q].replace(g,"$1")}b=[h[a]].concat(b)}else{b=[h[a]]}return k[e].apply(k,b)}}else{return h[a]!==undefined?h[a]:""}}return j.html.replace(j.re,l)},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return me},call:function(g,d,e){return this[g](d,e)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,innerHTML;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}innerHTML=ci.innerHTML;if(innerHTML!==null&&innerHTML!==undefined){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"'}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector"}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs)}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;Ext.util.DelayedTask=function(l,m,i){var k=this,j,h=function(){clearInterval(j);j=null;l.apply(m,i||[])};k.delay=function(c,a,b,d){k.cancel();l=a||l;m=b||m;i=d||i;j=setInterval(h,c)};k.cancel=function(){if(j){clearInterval(j);j=null}}};(function(){var p=Ext.util,m=Ext.toArray,n=Ext.each,x=Ext.isObject,q=true,o=false;p.Observable=function(){var a=this,b=a.events;if(a.listeners){a.on(a.listeners);delete a.listeners}a.events=b||{}};p.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var a=m(arguments),g=a[0].toLowerCase(),e=this,h=q,c=e.events[g],d,b;if(e.eventsSuspended===q){if(d=e.eventQueue){d.push(a)}}else{if(x(c)&&c.bubble){if(c.fire.apply(c,a.slice(1))===o){return o}b=e.getBubbleTarget&&e.getBubbleTarget();if(b&&b.enableBubble){if(!b.events[g]||!Ext.isObject(b.events[g])||!b.events[g].bubble){b.enableBubble(g)}return b.fireEvent.apply(b,a)}}else{if(x(c)){a.shift();h=c.fire.apply(c,a)}}}return h},addListener:function(c,j,h,d){var a=this,b,g,i,e;if(x(c)){d=c;for(b in d){g=d[b];if(!a.filterOptRe.test(b)){a.addListener(b,g.fn||g,g.scope||d.scope,g.fn?g:d)}}}else{c=c.toLowerCase();e=a.events[c]||q;if(Ext.isBoolean(e)){a.events[c]=e=new p.Event(a,c)}e.addListener(j,h,x(d)?d:{})}},removeListener:function(a,c,d){var b=this.events[a.toLowerCase()];if(x(b)){b.removeListener(c,d)}},purgeListeners:function(){var b=this.events,a,c;for(c in b){a=b[c];if(x(a)){a.clearListeners()}}},addEvents:function(b){var c=this;c.events=c.events||{};if(Ext.isString(b)){var a=arguments,d=a.length;while(d--){c.events[a[d]]=c.events[a[d]]||q}}else{Ext.applyIf(c.events,b)}},hasListener:function(a){var b=this.events[a.toLowerCase()];return x(b)&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=q;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=o;delete a.eventQueue;n(b,function(c){a.fireEvent.apply(a,c)})}};var s=p.Observable.prototype;s.on=s.addListener;s.un=s.removeListener;p.Observable.releaseCapture=function(a){a.fireEvent=s.fireEvent};function r(c,b,a){return function(){if(b.target==arguments[0]){c.apply(a,m(arguments))}}}function u(c,b,a,d){a.task=new p.DelayedTask();return function(){a.task.delay(b.buffer,c,d,m(arguments))}}function t(c,b,d,a){return function(){b.removeListener(d,a);return c.apply(a,arguments)}}function v(c,b,a,d){return function(){var e=new p.DelayedTask();if(!a.tasks){a.tasks=[]}a.tasks.push(e);e.delay(b.delay||10,c,d,m(arguments))}}p.Event=function(b,a){this.name=a;this.obj=b;this.listeners=[]};p.Event.prototype={addListener:function(c,d,e){var b=this,a;d=d||b.obj;if(!b.isListening(c,d)){a=b.createListener(c,d,e);if(b.firing){b.listeners=b.listeners.slice(0)}b.listeners.push(a)}},createListener:function(c,d,b){b=b||{},d=d||this.obj;var a={fn:c,scope:d,options:b},e=c;if(b.target){e=r(e,b,d)}if(b.delay){e=v(e,b,a,d)}if(b.single){e=t(e,this,c,d)}if(b.buffer){e=u(e,b,a,d)}a.fireFn=e;return a},findListener:function(c,d){var b=this.listeners,e=b.length,a;d=d||this.obj;while(e--){a=b[e];if(a){if(a.fn==c&&a.scope==d){return e}}}return -1},isListening:function(b,a){return this.findListener(b,a)!=-1},removeListener:function(c,d){var e,a,h,b=this,g=o;if((e=b.findListener(c,d))!=-1){if(b.firing){b.listeners=b.listeners.slice(0)}a=b.listeners[e];if(a.task){a.task.cancel();delete a.task}h=a.tasks&&a.tasks.length;if(h){while(h--){a.tasks[h].cancel()}delete a.tasks}b.listeners.splice(e,1);g=q}return g},clearListeners:function(){var b=this,a=b.listeners,c=a.length;while(c--){b.removeListener(a[c].fn,a[c].scope)}},fire:function(){var b=this,e=m(arguments),c=b.listeners,a=c.length,d=0,g;if(a>0){b.firing=q;for(;d<a;d++){g=c[d];if(g&&g.fireFn.apply(g.scope||b.obj||window,e)===o){return(b.firing=o)}}}b.firing=o;return q}}})();Ext.apply(Ext.util.Observable.prototype,function(){function b(e){var k=(this.methodEvents=this.methodEvents||{})[e],n,o,m,l=this;if(!k){this.methodEvents[e]=k={};k.originalFn=this[e];k.methodName=e;k.before=[];k.after=[];var a=function(c,d,g){if(!Ext.isEmpty(o=c.apply(d||l,g))){if(Ext.isObject(o)){n=!Ext.isEmpty(o.returnValue)?o.returnValue:o;m=!!o.cancel}else{if(o===false){m=true}else{n=o}}}};this[e]=function(){var c=Ext.toArray(arguments);n=o=undefined;m=false;Ext.each(k.before,function(d){a(d.fn,d.scope,c);if(m){return n}});if(!Ext.isEmpty(o=k.originalFn.apply(l,c))){n=o}Ext.each(k.after,function(d){a(d.fn,d.scope,c);if(m){return n}});return n}}return k}return{beforeMethod:function(e,g,a){b.call(this,e).before.push({fn:g,scope:a})},afterMethod:function(e,g,a){b.call(this,e).after.push({fn:g,scope:a})},removeMethodListener:function(e,k,a){var i=b.call(this,e),j=false;Ext.each(i.before,function(d,c,g){if(d.fn==k&&d.scope==a){g.splice(c,1);j=true;return false}});if(!j){Ext.each(i.after,function(d,c,g){if(d.fn==k&&d.scope==a){g.splice(c,1);return false}})}},relayEvents:function(g,a){var h=this;function i(c){return function(){return h.fireEvent.apply(h,[c].concat(Ext.toArray(arguments)))}}Ext.each(a,function(c){h.events[c]=h.events[c]||true;g.on(c,i(c),h)})},enableBubble:function(a){var d=this;if(!Ext.isEmpty(a)){a=Ext.isArray(a)?a:Ext.toArray(arguments);Ext.each(a,function(g){g=g.toLowerCase();var c=d.events[g]||true;if(Ext.isBoolean(c)){c=new Ext.util.Event(d,g);d.events[g]=c}c.bubble=true})}}}}());Ext.util.Observable.capture=function(g,d,e){g.fireEvent=g.fireEvent.createInterceptor(d,e)};Ext.util.Observable.observeClass=function(c,d){if(c){if(!c.fireEvent){Ext.apply(c,new Ext.util.Observable());Ext.util.Observable.capture(c.prototype,c.fireEvent,c)}if(Ext.isObject(d)){c.on(d)}return c}};Ext.EventManager=function(){var O,P,V=false,T=Ext.isGecko||Ext.isWebKit||Ext.isSafari,Q=Ext.lib.Event,N=Ext.lib.Dom,ab=document,M=window,L="DOMContentLoaded",I="complete",Y=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,H=[];function R(d){var a=false,e=0,g=H.length,a=false,c=false,b;if(d){if(d.getElementById||d.navigator){for(;e<g;++e){b=H[e];if(b.el===d){a=b.id;break}}if(!a){a=Ext.id(d);H.push({id:a,el:d});c=true}}else{a=Ext.id(d)}if(!Ext.elCache[a]){Ext.Element.addToCache(new Ext.Element(d),a);if(c){Ext.elCache[a].skipGC=true}}}return a}function S(j,h,d,i,k,b){j=Ext.getDom(j);var a=R(j),c=Ext.elCache[a].events,g;g=Q.on(j,h,k);c[h]=c[h]||[];c[h].push([d,k,b,g,i]);if(j.addEventListener&&h=="mousewheel"){var e=["DOMMouseScroll",k,false];j.addEventListener.apply(j,e);Ext.EventManager.addListener(M,"unload",function(){j.removeEventListener.apply(j,e)})}if(j==ab&&h=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(k)}}function aa(){if(window!=top){return false}try{ab.documentElement.doScroll("left")}catch(a){return false}ac();return true}function K(a){if(Ext.isIE&&aa()){return true}if(ab.readyState==I){ac();return true}V||(P=setTimeout(arguments.callee,2));return false}var U;function W(a){U||(U=Ext.query("style, link[rel=stylesheet]"));if(U.length==ab.styleSheets.length){ac();return true}V||(P=setTimeout(arguments.callee,2));return false}function D(a){ab.removeEventListener(L,arguments.callee,false);W()}function ac(a){if(!V){V=true;if(P){clearTimeout(P)}if(T){ab.removeEventListener(L,ac,false)}if(Ext.isIE&&K.bindIE){ab.detachEvent("onreadystatechange",K)}Q.un(M,"load",arguments.callee)}if(O&&!Ext.isReady){Ext.isReady=true;O.fire();O.listeners=[]}}function ad(){O||(O=new Ext.util.Event());if(T){ab.addEventListener(L,ac,false)}if(Ext.isIE){if(!K()){K.bindIE=true;ab.attachEvent("onreadystatechange",K)}}else{if(Ext.isOpera){(ab.readyState==I&&W())||ab.addEventListener(L,D,false)}else{if(Ext.isWebKit){K()}}}Q.on(M,"load",ac)}function E(b,a){return function(){var c=Ext.toArray(arguments);if(a.target==Ext.EventObject.setEvent(c[0]).target){b.apply(this,c)}}}function F(b,a,c){return function(d){c.delay(a.buffer,b,null,[new Ext.EventObjectImpl(d)])}}function J(a,b,e,c,d){return function(g){Ext.EventManager.removeListener(b,e,c,d);a(g)}}function Z(b,a,c){return function(d){var e=new Ext.util.DelayedTask(b);if(!c.tasks){c.tasks=[]}c.tasks.push(e);e.delay(a.delay||10,b,null,[new Ext.EventObjectImpl(d)])}}function X(e,g,a,c,b){var j=!Ext.isObject(a)?{}:a,i=Ext.getDom(e),h;c=c||j.fn;b=b||j.scope;if(!i){throw'Error listening for "'+g+'". Element "'+e+"\" doesn't exist."}function d(k){if(!Ext){return}k=Ext.EventObject.setEvent(k);var l;if(j.delegate){if(!(l=k.getTarget(j.delegate,i))){return}}else{l=k.target}if(j.stopEvent){k.stopEvent()}if(j.preventDefault){k.preventDefault()}if(j.stopPropagation){k.stopPropagation()}if(j.normalized){k=k.browserEvent}c.call(b||i,k,l,j)}if(j.target){d=E(d,j)}if(j.delay){d=Z(d,j,c)}if(j.single){d=J(d,i,g,c,b)}if(j.buffer){h=new Ext.util.DelayedTask(d);d=F(d,j,h)}S(i,g,c,h,d,b);return d}var G={addListener:function(g,i,d,e,h){if(Ext.isObject(i)){var a=i,c,b;for(c in a){b=a[c];if(!Y.test(c)){if(Ext.isFunction(b)){X(g,c,a,b,a.scope)}else{X(g,c,b)}}}}else{X(g,i,h,d,e)}},removeListener:function(l,h,c,b){l=Ext.getDom(l);var a=R(l),e=l&&(Ext.elCache[a].events)[h]||[],m,i,k,j,g,d;for(i=0,g=e.length;i<g;i++){if(Ext.isArray(d=e[i])&&d[0]==c&&(!b||d[2]==b)){if(d[4]){d[4].cancel()}j=c.tasks&&c.tasks.length;if(j){while(j--){c.tasks[j].cancel()}delete c.tasks}m=d[1];Q.un(l,h,Q.extAdapter?d[3]:m);if(m&&l.addEventListener&&h=="mousewheel"){l.removeEventListener("DOMMouseScroll",m,false)}if(m&&l==ab&&h=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(m)}e.splice(i,1);if(e.length===0){delete Ext.elCache[a].events[h]}for(j in Ext.elCache[a].events){return false}Ext.elCache[a].events={};return false}}},removeAll:function(k){k=Ext.getDom(k);var l=R(k),e=Ext.elCache[l]||{},b=e.events||{},g,h,d,j,c,i,a;for(j in b){if(b.hasOwnProperty(j)){g=b[j];for(h=0,d=g.length;h<d;h++){c=g[h];if(c[4]){c[4].cancel()}if(c[0].tasks&&(i=c[0].tasks.length)){while(i--){c[0].tasks[i].cancel()}delete c.tasks}a=c[1];Q.un(k,j,Q.extAdapter?c[3]:a);if(k.addEventListener&&a&&j=="mousewheel"){k.removeEventListener("DOMMouseScroll",a,false)}if(a&&k==ab&&j=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(a)}}}}if(Ext.elCache[l]){Ext.elCache[l].events={}}},getListeners:function(c,g){c=Ext.getDom(c);var a=R(c),e=Ext.elCache[a]||{},b=e.events||{},d=[];if(b&&b[g]){return b[g]}else{return null}},purgeElement:function(i,a,g){i=Ext.getDom(i);var j=R(i),c=Ext.elCache[j]||{},b=c.events||{},h,d,e;if(g){if(b&&b.hasOwnProperty(g)){d=b[g];for(h=0,e=d.length;h<e;h++){Ext.EventManager.removeListener(i,g,d[h][0])}}}else{Ext.EventManager.removeAll(i)}if(a&&i&&i.childNodes){for(h=0,e=i.childNodes.length;h<e;h++){Ext.EventManager.purgeElement(i.childNodes[h],a,g)}}},_unload:function(){var e;for(e in Ext.elCache){Ext.EventManager.removeAll(e)}delete Ext.elCache;delete Ext.Element._flyweights;var a,d,b,c=Ext.lib.Ajax;(Ext.isObject(c.conn))?d=c.conn:d={};for(b in d){a=d[b];if(a){c.abort({conn:a,tId:b})}}},onDocumentReady:function(a,b,c){if(Ext.isReady){O||(O=new Ext.util.Event());O.addListener(a,b,c);O.fire();O.listeners=[]}else{if(!O){ad()}c=c||{};c.delay=c.delay||1;O.addListener(a,b,c)}},fireDocReady:ac};G.on=G.addListener;G.un=G.removeListener;G.stoppedMouseDownEvent=new Ext.util.Event();return G}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var b=function(){var g=document.body||document.getElementsByTagName("body")[0];if(!g){return false}var a=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){a.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")))}else{if(Ext.isChrome){a.push("ext-chrome")}}if(Ext.isMac){a.push("ext-mac")}if(Ext.isLinux){a.push("ext-linux")}if(Ext.isStrict||Ext.isBorderBox){var e=g.parentNode;if(e){e.className+=Ext.isStrict?" ext-strict":" ext-border-box"}}g.className+=a.join(" ");return true};if(!b()){Ext.onReady(b)}})();Ext.EventObject=function(){var d=Ext.lib.Event,e={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},g=Ext.isIE?{1:0,4:1,2:2}:(Ext.isWebKit?{1:0,2:1,3:2}:{0:0,1:1,2:2});Ext.EventObjectImpl=function(a){if(a){this.setEvent(a.browserEvent||a)}};Ext.EventObjectImpl.prototype={setEvent:function(a){var b=this;if(a==b||(a&&a.browserEvent)){return a}b.browserEvent=a;if(a){b.button=a.button?g[a.button]:(a.which?a.which-1:-1);if(a.type=="click"&&b.button==-1){b.button=0}b.type=a.type;b.shiftKey=a.shiftKey;b.ctrlKey=a.ctrlKey||a.metaKey||false;b.altKey=a.altKey;b.keyCode=a.keyCode;b.charCode=a.charCode;b.target=d.getTarget(a);b.xy=d.getXY(a)}else{b.button=-1;b.shiftKey=false;b.ctrlKey=false;b.altKey=false;b.keyCode=0;b.charCode=0;b.target=null;b.xy=[0,0]}return b},stopEvent:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a)}d.stopEvent(a.browserEvent)}},preventDefault:function(){if(this.browserEvent){d.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a)}d.stopPropagation(a.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isSafari?(e[a]||a):a},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(b,a,c){return b?Ext.fly(this.target).findParent(b,a,c):(c?Ext.get(this.target):this.target)},getRelatedTarget:function(){return this.browserEvent?d.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var b=this.browserEvent;var a=0;if(b.wheelDelta){a=b.wheelDelta/120}else{if(b.detail){a=-b.detail/3}}return a},within:function(b,a,i){if(b){var c=this[a?"getRelatedTarget":"getTarget"]();return c&&((i?(c==Ext.getDom(b)):false)||Ext.fly(b).contains(c))}return false}};return new Ext.EventObjectImpl()}();Ext.apply(Ext.EventManager,function(){var q,k,o,r,s=Ext.lib.Dom,l=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,m=0,n=0,p=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);return{doResizeEvent:function(){var a=s.getViewHeight(),b=s.getViewWidth();if(n!=a||m!=b){q.fire(m=b,n=a)}},onWindowResize:function(a,b,c){if(!q){q=new Ext.util.Event();k=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this)}q.addListener(a,b,c)},fireWindowResize:function(){if(q){k.delay(100)}},onTextResize:function(d,a,c){if(!o){o=new Ext.util.Event();var b=new Ext.Element(document.createElement("div"));b.dom.className="x-text-resize";b.dom.innerHTML="X";b.appendTo(document.body);r=b.dom.offsetHeight;setInterval(function(){if(b.dom.offsetHeight!=r){o.fire(r,r=b.dom.offsetHeight)}},this.textResizeInterval)}o.addListener(d,a,c)},removeResizeListener:function(a,b){if(q){q.removeListener(a,b)}},fireResize:function(){if(q){q.fire(s.getViewWidth(),s.getViewHeight())}},textResizeInterval:50,ieDeferSrc:false,useKeydown:p}}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var c=this,d=this.normalizeKey(c.keyCode);return(d>=33&&d<=40)||d==c.RETURN||d==c.TAB||d==c.ESC},isSpecialKey:function(){var b=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(b==this.BACKSPACE)||(b>=16&&b<=20)||(b>=44&&b<=46)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)}});(function(){var s=document;Ext.Element=function(d,c){var b=typeof d=="string"?s.getElementById(d):d,a;if(!b){return null}a=b.id;if(!c&&a&&Ext.elCache[a]){return Ext.elCache[a].el}this.dom=b;this.id=a||Ext.id(b)};var B=Ext.lib.Dom,v=Ext.DomHelper,p=Ext.lib.Event,x=Ext.lib.Anim,u=Ext.Element,A=Ext.elCache;u.prototype={set:function(a,d){var c=this.dom,e,b,d=(d!==false)&&!!c.setAttribute;for(e in a){if(a.hasOwnProperty(e)){b=a[e];if(e=="style"){v.applyStyles(c,b)}else{if(e=="cls"){c.className=b}else{if(d){c.setAttribute(e,b)}else{c[e]=b}}}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},focus:function(a,b){var d=this,b=b||d.dom;try{if(Number(a)){d.focus.defer(a,null,[null,b])}else{b.focus()}}catch(c){}return d},blur:function(){try{this.dom.blur()}catch(a){}return this},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a},addListener:function(d,a,b,c){Ext.EventManager.on(this.dom,d,a,b||this,c);return this},removeListener:function(c,a,b){Ext.EventManager.removeListener(this.dom,c,a,b||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},addUnits:function(a){if(a===""||a=="auto"||a===undefined){a=a||""}else{if(!isNaN(a)||!r.test(a)){a=a+(this.defaultUnit||"px")}}return a},load:function(b,a,c){Ext.Ajax.request(Ext.apply({params:a,url:b.url||b,callback:c,el:this.dom,indicatorText:b.indicatorText||""},Ext.isObject(b)?b:{}));return this},isBorderBox:function(){return t[(this.dom.tagName||"").toLowerCase()]||Ext.isBorderBox},remove:function(){var b=this,a=b.dom;if(a){delete b.dom;Ext.removeNode(a)}},hover:function(d,e,b,c){var a=this;a.on("mouseenter",d,b||a.dom,c);a.on("mouseleave",e,b||a.dom,c);return a},contains:function(a){return !a?false:Ext.lib.Dom.isAncestor(this.dom,a.dom?a.dom:a)},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:Ext.isIE?function(d,b){var a=this.dom,c=typeof a[b+":"+d];if(["undefined","unknown"].indexOf(c)==-1){return a[b+":"+d]}return a[d]}:function(c,b){var a=this.dom;return a.getAttributeNS(b,c)||a.getAttribute(b+":"+c)||a.getAttribute(c)||a[c]},update:function(a){if(this.dom){this.dom.innerHTML=a}return this}};var o=u.prototype;u.addMethods=function(a){Ext.apply(o,a)};o.on=o.addListener;o.un=o.removeListener;o.autoBoxAdjust=true;var r=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,y;u.get=function(d){var e,a,b;if(!d){return null}if(typeof d=="string"){if(!(a=s.getElementById(d))){return null}if(A[d]&&A[d].el){e=A[d].el;e.dom=a}else{e=u.addToCache(new u(a))}return e}else{if(d.tagName){if(!(b=d.id)){b=Ext.id(d)}if(A[b]&&A[b].el){e=A[b].el;e.dom=d}else{e=u.addToCache(new u(d))}return e}else{if(d instanceof u){if(d!=y){if(Ext.isIE&&(d.id==undefined||d.id=="")){d.dom=d.dom}else{d.dom=s.getElementById(d.id)||d.dom}}return d}else{if(d.isComposite){return d}else{if(Ext.isArray(d)){return u.select(d)}else{if(d==s){if(!y){var c=function(){};c.prototype=u.prototype;y=new c();y.dom=s}return y}}}}}}return null};u.addToCache=function(b,a){a=a||b.id;A[a]={el:b,data:{},events:{}};return b};u.data=function(c,d,b){c=u.get(c);if(!c){return null}var a=A[c.id].data;if(arguments.length==2){return a[d]}else{return(a[d]=b)}};function q(){if(!Ext.enableGarbageCollector){clearInterval(u.collectorThreadId)}else{var e,c,a,b;for(e in A){b=A[e];if(b.skipGC){continue}c=b.el;a=c.dom;if(!a||!a.parentNode||(!a.offsetParent&&!s.getElementById(e))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(a)}delete A[e]}}if(Ext.isIE){var d={};for(e in A){d[e]=A[e]}A=Ext.elCache=d}}}u.collectorThreadId=setInterval(q,30000);var z=function(){};z.prototype=u.prototype;u.Flyweight=function(a){this.dom=a};u.Flyweight.prototype=new z();u.Flyweight.prototype.isFlyweight=true;u._flyweights={};u.fly=function(a,c){var b=null;c=c||"_global";if(a=Ext.getDom(a)){(u._flyweights[c]=u._flyweights[c]||new u.Flyweight()).dom=a;b=u._flyweights[c]}return b};Ext.get=u.get;Ext.fly=u.fly;var t=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){t.button=1}})();Ext.Element.addMethods({swallowEvent:function(g,e){var h=this;function i(a){a.stopPropagation();if(e){a.preventDefault()}}if(Ext.isArray(g)){Ext.each(g,function(a){h.on(a,i)});return h}h.on(g,i);return h},relayEvent:function(d,c){this.on(d,function(a){c.fireEvent(d,a)})},clean:function(h){var l=this,k=l.dom,j=k.firstChild,m=-1;if(Ext.Element.data(k,"isCleaned")&&h!==true){return l}while(j){var i=j.nextSibling;if(j.nodeType==3&&!/\S/.test(j.nodeValue)){k.removeChild(j)}else{j.nodeIndex=++m}j=i}Ext.Element.data(k,"isCleaned",true);return l},load:function(){var b=this.getUpdater();b.update.apply(b,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(html,loadScripts,callback){if(!this.dom){return this}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(Ext.isFunction(callback)){callback()}return this}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}if(Ext.isFunction(callback)){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(h,i,j){h=Ext.isObject(h)?h:{tag:"div",cls:h};var k=this,g=i?Ext.DomHelper.append(i,h,true):Ext.DomHelper.insertBefore(k.dom,h,true);if(j&&k.setBox&&k.getBox){g.setBox(k.getBox())}return g}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;Ext.Element.addMethods({getAnchorXY:function(z,t,h){z=(z||"tl").toLowerCase();h=h||{};var u=this,C=u.dom==document.body||u.dom==document,r=h.width||C?Ext.lib.Dom.getViewWidth():u.getWidth(),x=h.height||C?Ext.lib.Dom.getViewHeight():u.getHeight(),o,D=Math.round,B=u.getXY(),s=u.getScroll(),v=C?s.left:!t?B[0]:0,y=C?s.top:!t?B[1]:0,A={c:[D(r*0.5),D(x*0.5)],t:[D(r*0.5),0],l:[0,D(x*0.5)],r:[r,D(x*0.5)],b:[D(r*0.5),x],tl:[0,0],bl:[0,x],br:[r,x],tr:[r,0]};o=A[z];return[o[0]+v,o[1]+y]},anchorTo:function(v,q,u,x,n,m){var p=this,s=p.dom,o=!Ext.isEmpty(n),t=function(){Ext.fly(s).alignTo(v,q,u,x);Ext.callback(m,Ext.fly(s))},r=this.getAnchor();this.removeAnchor();Ext.apply(r,{fn:t,scroll:o});Ext.EventManager.onWindowResize(t,null);if(o){Ext.EventManager.on(window,"scroll",t,null,{buffer:!isNaN(n)?n:50})}t.call(p);return p},removeAnchor:function(){var c=this,d=this.getAnchor();if(d&&d.fn){Ext.EventManager.removeResizeListener(d.fn);if(d.scroll){Ext.EventManager.un(window,"scroll",d.fn)}delete d.fn}return c},getAnchor:function(){var d=Ext.Element.data,g=this.dom;if(!g){return}var e=d(g,"_anchor");if(!e){e=d(g,"_anchor",{})}return e},getAlignToXY:function(ae,Y,X){ae=Ext.get(ae);if(!ae||!ae.dom){throw"Element.alignToXY with an element that doesn't exist"}X=X||[0,0];Y=(!Y||Y=="?"?"tl-bl?":(!/-/.test(Y)&&Y!==""?"tl-"+Y:Y||"tl-bl")).toLowerCase();var o=this,x=o.dom,d,h,Z,aa,U,Q,O,S=Ext.lib.Dom.getViewWidth()-10,y=Ext.lib.Dom.getViewHeight()-10,ag,ad,ac,ab,P,m,c=document,p=c.documentElement,W=c.body,R=(p.scrollLeft||W.scrollLeft||0)+5,T=(p.scrollTop||W.scrollTop||0)+5,r=false,af="",ah="",V=Y.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!V){throw"Element.alignTo with an invalid alignment "+Y}af=V[1];ah=V[2];r=!!V[3];d=o.getAnchorXY(af,true);h=ae.getAnchorXY(ah,false);Z=h[0]-d[0]+X[0];aa=h[1]-d[1]+X[1];if(r){U=o.getWidth();Q=o.getHeight();O=ae.getRegion();ag=af.charAt(0);ad=af.charAt(af.length-1);ac=ah.charAt(0);ab=ah.charAt(ah.length-1);P=((ag=="t"&&ac=="b")||(ag=="b"&&ac=="t"));m=((ad=="r"&&ab=="l")||(ad=="l"&&ab=="r"));if(Z+U>S+R){Z=m?O.left-U:S+R-U}if(Z<R){Z=m?O.right:R}if(aa+Q>y+T){aa=P?O.top-Q:y+T-Q}if(aa<T){aa=P?O.bottom:T}}return[Z,aa]},alignTo:function(k,h,i,g){var j=this;return j.setXY(j.getAlignToXY(k,h,i),j.preanim&&!!g?j.preanim(arguments,3):false)},adjustForConstraints:function(g,e,d){return this.getConstrainToXY(e||document,false,d,g)||g},getConstrainToXY:function(g,h,k,i){var j={top:0,left:0,bottom:0,right:0};return function(L,a,J,H){L=Ext.get(L);J=J?Ext.applyIf(J,j):j;var b,e,c=0,d=0;if(L.dom==document.body||L.dom==document){b=Ext.lib.Dom.getViewWidth();e=Ext.lib.Dom.getViewHeight()}else{b=L.dom.clientWidth;e=L.dom.clientHeight;if(!a){var s=L.getXY();c=s[0];d=s[1]}}var y=L.getScroll();c+=J.left+y.left;d+=J.top+y.top;b-=J.right;e-=J.bottom;var D=c+b;var M=d+e;var K=H||(!a?this.getXY():[this.getLeft(true),this.getTop(true)]);var F=K[0],G=K[1];var E=this.dom.offsetWidth,x=this.dom.offsetHeight;var I=false;if((F+E)>D){F=D-E;I=true}if((G+x)>M){G=M-x;I=true}if(F<c){F=c;I=true}if(G<d){G=d;I=true}return I?[F,G]:false}}(),getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(b){return this.alignTo(b||document,"c-c")}});Ext.Element.addMethods(function(){var j="parentNode",g="nextSibling",k="previousSibling",i=Ext.DomQuery,h=Ext.get;return{findParent:function(a,b,n){var d=this.dom,o=document.body,c=0,e;if(Ext.isGecko&&Object.prototype.toString.call(d)=="[object XULElement]"){return null}b=b||50;if(isNaN(b)){e=Ext.getDom(b);b=Number.MAX_VALUE}while(d&&d.nodeType==1&&c<b&&d!=o&&d!=e){if(i.is(d,a)){return n?h(d):d}c++;d=d.parentNode}return null},findParentNode:function(a,b,d){var c=Ext.fly(this.dom.parentNode,"_internal");return c?c.findParent(a,b,d):null},up:function(a,b){return this.findParentNode(a,b,true)},select:function(a){return Ext.Element.select(a,this.dom)},query:function(a){return i.select(a,this.dom)},child:function(c,b){var a=i.selectNode(c,this.dom);return b?a:h(a)},down:function(c,b){var a=i.selectNode(" > "+c,this.dom);return b?a:h(a)},parent:function(b,a){return this.matchNode(j,j,b,a)},next:function(b,a){return this.matchNode(g,g,b,a)},prev:function(b,a){return this.matchNode(k,k,b,a)},first:function(b,a){return this.matchNode(g,"firstChild",b,a)},last:function(b,a){return this.matchNode(k,"lastChild",b,a)},matchNode:function(d,a,e,c){var b=this.dom[a];while(b){if(b.nodeType==1&&(!e||i.is(b,e))){return !c?h(b):b}b=b[d]}return null}}}());Ext.Element.addMethods({select:function(d,c){return Ext.Element.select(d,c,this.dom)}});Ext.Element.addMethods(function(){var g=Ext.getDom,e=Ext.get,d=Ext.DomHelper;return{appendChild:function(a){return e(a).appendTo(this)},appendTo:function(a){g(a).appendChild(this.dom);return this},insertBefore:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=g(a);this.dom.insertBefore(a,this.dom.firstChild);return !b?e(a):a}else{return this.createChild(a,this.dom.firstChild,b)}},replace:function(a){a=e(a);this.insertBefore(a);a.remove();return this},replaceWith:function(b){var a=this;if(b.nodeType||b.dom||typeof b=="string"){b=g(b);a.dom.parentNode.insertBefore(b,a.dom)}else{b=d.insertBefore(a.dom,b)}delete Ext.elCache[a.id];Ext.removeNode(a.dom);a.id=Ext.id(a.dom=b);Ext.Element.addToCache(a.isFlyweight?new Ext.Element(a.dom):a);return a},createChild:function(b,c,a){b=b||{tag:"div"};return c?d.insertBefore(c,b,a!==true):d[!this.dom.firstChild?"overwrite":"append"](this.dom,b,a!==true)},wrap:function(c,b){var a=d.insertBefore(this.dom,c||{tag:"div"},!b);a.dom?a.dom.appendChild(this.dom):a.appendChild(this.dom);return a},insertHtml:function(c,b,i){var a=d.insertHtml(c,this.dom,b);return i?Ext.get(a):a}}}());Ext.apply(Ext.Element.prototype,function(){var g=Ext.getDom,e=Ext.get,d=Ext.DomHelper;return{insertSibling:function(c,m,l){var b=this,n,o=(m||"before").toLowerCase()=="after",a;if(Ext.isArray(c)){a=b;Ext.each(c,function(h){n=Ext.fly(a,"_internal").insertSibling(h,m,l);if(o){a=n}});return n}c=c||{};if(c.nodeType||c.dom){n=b.dom.parentNode.insertBefore(g(c),o?b.dom.nextSibling:b.dom);if(!l){n=e(n)}}else{if(o&&!b.dom.nextSibling){n=d.append(b.dom.parentNode,c,!l)}else{n=d[o?"insertAfter":"insertBefore"](b.dom,c,!l)}}return n}}}());Ext.Element.addMethods(function(){var ab={},G=/(-[a-z])/gi,ag={},M=document.defaultView,J=Ext.isIE?"styleFloat":"cssFloat",N=/alpha\(opacity=(.*)\)/i,X=/^\s+|\s+$/g,Q=Ext.Element,ae="padding",af="margin",F="border",L="-left",R="-right",H="-top",U="-bottom",Z="-width",P=Math,T="hidden",ad="isClipped",Y="overflow",V="overflow-x",W="overflow-y",O="originalClip",aa={l:F+L+Z,r:F+R+Z,t:F+H+Z,b:F+U+Z},ac={l:ae+L,r:ae+R,t:ae+H,b:ae+U},ah={l:af+L,r:af+R,t:af+H,b:af+U},K=Ext.Element.data;function S(b,a){return a.charAt(1).toUpperCase()}function I(a){return ab[a]||(ab[a]=a=="float"?J:a.replace(G,S))}return{adjustWidth:function(c){var b=this;var a=Ext.isNumber(c);if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("lr")+b.getPadding("lr"))}return(a&&c<0)?0:c},adjustHeight:function(c){var b=this;var a=Ext.isNumber(c);if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("tb")+b.getPadding("tb"))}return(a&&c<0)?0:c},addClass:function(b){var a=this,c,e,d;b=Ext.isArray(b)?b:[b];for(c=0,e=b.length;c<e;c++){d=b[c];if(d){a.dom.className+=(!a.hasClass(d)&&d?" "+d:"")}}return a},radioClass:function(b){var a=this.dom.parentNode.childNodes,d;b=Ext.isArray(b)?b:[b];for(var c=0,e=a.length;c<e;c++){d=a[c];if(d&&d.nodeType==1){Ext.fly(d,"_internal").removeClass(b)}}return this.addClass(b)},removeClass:function(b){var a=this,d;b=Ext.isArray(b)?b:[b];if(a.dom&&a.dom.className){for(var c=0,e=b.length;c<e;c++){d=b[c];if(d){a.dom.className=a.dom.className.replace(ag[d]=ag[d]||new RegExp("(?:^|\\s+)"+d+"(?:\\s+|$)","g")," ")}}}return a},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},hasClass:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1},replaceClass:function(a,b){return this.removeClass(a).addClass(b)},isStyle:function(b,a){return this.getStyle(b)==a},getStyle:function(){return M&&M.getComputedStyle?function(a){var d=this.dom,h,e,g,c,b=Ext.isWebKit,c;if(d==document){return null}a=I(a);if(b&&/marginRight/.test(a)){c=this.getStyle("display");d.style.display="inline-block"}g=(h=d.style[a])?h:(e=M.getComputedStyle(d,""))?e[a]:null;if(b){if(g=="rgba(0, 0, 0, 0)"){g="transparent"}else{if(c){d.style.display=c}}}return g}:function(a){var c=this.dom,e,d;if(c==document){return null}if(a=="opacity"){if(c.style.filter.match){if(e=c.style.filter.match(N)){var b=parseFloat(e[1]);if(!isNaN(b)){return b?b/100:0}}}return 1}a=I(a);return c.style[a]||((d=c.currentStyle)?d[a]:null)}}(),getColor:function(g,e,a){var c=this.getStyle(g),d=Ext.isDefined(a)?a:"#",b;if(!c||/transparent|inherit/.test(c)){return e}if(/^r/.test(c)){Ext.each(c.slice(4,c.length-1).split(","),function(h){b=parseInt(h,10);d+=(b<16?"0":"")+b.toString(16)})}else{c=c.replace("#","");d+=c.length==3?c.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):c}return(d.length>5?d.toLowerCase():e)},setStyle:function(a,b){var d,c,e;if(!Ext.isObject(a)){d={};d[a]=b;a=d}for(c in a){b=a[c];c=="opacity"?this.setOpacity(b):this.dom.style[I(c)]=b}return this},setOpacity:function(e,g){var b=this,d=b.dom.style;if(!g||!b.anim){if(Ext.isIE){var c=e<1?"alpha(opacity="+e*100+")":"",a=d.filter.replace(N,"").replace(X,"");d.zoom=1;d.filter=a+(a.length>0?" ":"")+c}else{d.opacity=e}}else{b.anim({opacity:{to:e}},b.preanim(arguments,1),null,0.35,"easeIn")}return b},clearOpacity:function(){var a=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(a.filter)){a.filter=a.filter.replace(N,"").replace(X,"")}}else{a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]=""}return this},getHeight:function(c){var d=this,a=d.dom,b=Ext.isIE&&d.isStyle("display","none"),e=P.max(a.offsetHeight,b?0:a.clientHeight)||0;e=!c?e:e-d.getBorderWidth("tb")-d.getPadding("tb");return e<0?0:e},getWidth:function(d){var c=this,a=c.dom,b=Ext.isIE&&c.isStyle("display","none"),e=P.max(a.offsetWidth,b?0:a.clientWidth)||0;e=!d?e:e-c.getBorderWidth("lr")-c.getPadding("lr");return e<0?0:e},setWidth:function(b,c){var a=this;b=a.adjustWidth(b);!c||!a.anim?a.dom.style.width=a.addUnits(b):a.anim({width:{to:b}},a.preanim(arguments,1));return a},setHeight:function(c,b){var a=this;c=a.adjustHeight(c);!b||!a.anim?a.dom.style.height=a.addUnits(c):a.anim({height:{to:c}},a.preanim(arguments,1));return a},getBorderWidth:function(a){return this.addStyles(a,aa)},getPadding:function(a){return this.addStyles(a,ac)},clip:function(){var b=this,a=b.dom;if(!K(a,ad)){K(a,ad,true);K(a,O,{o:b.getStyle(Y),x:b.getStyle(V),y:b.getStyle(W)});b.setStyle(Y,T);b.setStyle(V,T);b.setStyle(W,T)}return b},unclip:function(){var c=this,a=c.dom;if(K(a,ad)){K(a,ad,false);var b=K(a,O);if(b.o){c.setStyle(Y,b.o)}if(b.x){c.setStyle(V,b.x)}if(b.y){c.setStyle(W,b.y)}}return c},addStyles:function(b,c){var a=0,g=b.match(/\w/g),d;for(var e=0,h=g.length;e<h;e++){d=g[e]&&parseInt(this.getStyle(c[g[e]]),10);if(d){a+=P.abs(d)}}return a},margins:ah}}());Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var d="_internal",c=/(\d+\.?\d+)px/;return{applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},getStyles:function(){var a={};Ext.each(arguments,function(b){a[b]=this.getStyle(b)},this);return a},setOverflow:function(b){var a=this.dom;if(b=="auto"&&Ext.isMac&&Ext.isGecko2){a.style.overflow="hidden";(function(){a.style.overflow="auto"}).defer(1)}else{a.style.overflow=b}},boxWrap:function(b){b=b||"x-box";var a=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+String.format(Ext.Element.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",a.dom).appendChild(this.dom);return a},setSize:function(b,i,h){var a=this;if(Ext.isObject(b)){i=b.height;b=b.width}b=a.adjustWidth(b);i=a.adjustHeight(i);if(!h||!a.anim){a.dom.style.width=a.addUnits(b);a.dom.style.height=a.addUnits(i)}else{a.anim({width:{to:b},height:{to:i}},a.preanim(arguments,2))}return a},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle("height"))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("tb")}}return b},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!a){a=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){a+=this.getFrameWidth("lr")}}return a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:(this.getPadding(a)+this.getBorderWidth(a))},addClassOnOver:function(a){this.hover(function(){Ext.fly(this,d).addClass(a)},function(){Ext.fly(this,d).removeClass(a)});return this},addClassOnFocus:function(a){this.on("focus",function(){Ext.fly(this,d).addClass(a)},this.dom);this.on("blur",function(){Ext.fly(this,d).removeClass(a)},this.dom);return this},addClassOnClick:function(b){var a=this.dom;this.on("mousedown",function(){Ext.fly(a,d).addClass(b);var h=Ext.getDoc(),i=function(){Ext.fly(a,d).removeClass(b);h.removeListener("mouseup",i)};h.on("mouseup",i)});return this},getViewSize:function(){var b=document,a=this.dom,j=(a==b||a==b.body);if(j){var i=Ext.lib.Dom;return{width:i.getViewWidth(),height:i.getViewHeight()}}else{return{width:a.clientWidth,height:a.clientHeight}}},getStyleSize:function(){var n=this,r,o,b=document,a=this.dom,q=(a==b||a==b.body),p=a.style;if(q){var h=Ext.lib.Dom;return{width:h.getViewWidth(),height:h.getViewHeight()}}if(p.width&&p.width!="auto"){r=parseFloat(p.width);if(n.isBorderBox()){r-=n.getFrameWidth("lr")}}if(p.height&&p.height!="auto"){o=parseFloat(p.height);if(n.isBorderBox()){o-=n.getFrameWidth("tb")}}return{width:r||n.getWidth(true),height:o||n.getHeight(true)}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},repaint:function(){var a=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(a).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(j){var i=this,k,b={t:"top",l:"left",r:"right",b:"bottom"},a={};if(!j){for(k in i.margins){a[b[k]]=parseFloat(i.getStyle(i.margins[k]))||0}return a}else{return i.addStyles.call(i,j,i.margins)}}}}());(function(){var u=Ext.lib.Dom,t="left",p="right",r="top",n="bottom",o="position",s="static",q="relative",m="auto",l="z-index";Ext.Element.addMethods({getX:function(){return u.getX(this.dom)},getY:function(){return u.getY(this.dom)},getXY:function(){return u.getXY(this.dom)},getOffsetsTo:function(b){var c=this.getXY(),a=Ext.fly(b,"_internal").getXY();return[c[0]-a[0],c[1]-a[1]]},setX:function(b,a){return this.setXY([b,this.getY()],this.animTest(arguments,a,1))},setY:function(a,b){return this.setXY([this.getX(),a],this.animTest(arguments,b,1))},setLeft:function(a){this.setStyle(t,this.addUnits(a));return this},setTop:function(a){this.setStyle(r,this.addUnits(a));return this},setRight:function(a){this.setStyle(p,this.addUnits(a));return this},setBottom:function(a){this.setStyle(n,this.addUnits(a));return this},setXY:function(c,b){var a=this;if(!b||!a.anim){u.setXY(a.dom,c)}else{a.anim({points:{to:c}},a.preanim(arguments,1),"motion")}return a},setLocation:function(b,c,a){return this.setXY([b,c],this.animTest(arguments,a,2))},moveTo:function(b,c,a){return this.setXY([b,c],this.animTest(arguments,a,2))},getLeft:function(a){return !a?this.getX():parseInt(this.getStyle(t),10)||0},getRight:function(b){var a=this;return !b?a.getX()+a.getWidth():(a.getLeft(true)+a.getWidth())||0},getTop:function(a){return !a?this.getY():parseInt(this.getStyle(r),10)||0},getBottom:function(b){var a=this;return !b?a.getY()+a.getHeight():(a.getTop(true)+a.getHeight())||0},position:function(c,d,b,e){var a=this;if(!c&&a.isStyle(o,s)){a.setStyle(o,q)}else{if(c){a.setStyle(o,c)}}if(d){a.setStyle(l,d)}if(b||e){a.setXY([b||false,e||false])}},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:s});return this},getPositioning:function(){var a=this.getStyle(t);var b=this.getStyle(r);return{position:this.getStyle(o),left:a,right:a?"":this.getStyle(p),top:b,bottom:b?"":this.getStyle(n),"z-index":this.getStyle(l)}},setPositioning:function(b){var c=this,a=c.dom.style;c.setStyle(b);if(b.right==m){a.right=""}if(b.bottom==m){a.bottom=""}return c},translatePoints:function(a,b){b=isNaN(a[1])?b:a[1];a=isNaN(a[0])?a:a[0];var e=this,d=e.isStyle(o,q),c=e.getXY(),h=parseInt(e.getStyle(t),10),g=parseInt(e.getStyle(r),10);h=!isNaN(h)?h:(d?0:e.dom.offsetLeft);g=!isNaN(g)?g:(d?0:e.dom.offsetTop);return{left:(a-c[0]+h),top:(b-c[1]+g)}},animTest:function(a,b,c){return !!b&&this.preanim?this.preanim(a,c):false}})})();Ext.Element.addMethods({setBox:function(k,j,h){var l=this,i=k.width,m=k.height;if((j&&!l.autoBoxAdjust)&&!l.isBorderBox()){i-=(l.getBorderWidth("lr")+l.getPadding("lr"));m-=(l.getBorderWidth("tb")+l.getPadding("tb"))}l.setBounds(k.x,k.y,i,m,l.animTest.call(l,arguments,h,2));return l},getBox:function(y,h){var t=this,F,B,l,C=t.getBorderWidth,b=t.getPadding,A,E,G,r;if(!h){F=t.getXY()}else{B=parseInt(t.getStyle("left"),10)||0;l=parseInt(t.getStyle("top"),10)||0;F=[B,l]}var D=t.dom,H=D.offsetWidth,z=D.offsetHeight,x;if(!y){x={x:F[0],y:F[1],0:F[0],1:F[1],width:H,height:z}}else{A=C.call(t,"l")+b.call(t,"l");E=C.call(t,"r")+b.call(t,"r");G=C.call(t,"t")+b.call(t,"t");r=C.call(t,"b")+b.call(t,"b");x={x:F[0]+A,y:F[1]+G,0:F[0]+A,1:F[1]+G,width:H-(A+E),height:z-(G+r)}}x.right=x.x+x.width;x.bottom=x.y+x.height;return x},move:function(q,y,x){var t=this,n=t.getXY(),p=n[0],r=n[1],v=[p-y,r],o=[p+y,r],s=[p,r-y],z=[p,r+y],u={l:v,left:v,r:o,right:o,t:s,top:s,up:s,b:z,bottom:z,down:z};q=q.toLowerCase();t.moveTo(u[q][0],u[q][1],t.animTest.call(t,arguments,x,2))},setLeftTop:function(h,i){var e=this,g=e.dom.style;g.left=e.addUnits(h);g.top=e.addUnits(i);return e},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(h,j,l,i,m){var k=this;if(!m||!k.anim){k.setSize(l,i);k.setLocation(h,j)}else{k.anim({points:{to:[h,j]},width:{to:k.adjustWidth(l)},height:{to:k.adjustHeight(i)}},k.preanim(arguments,4),"motion")}return k},setRegion:function(c,d){return this.setBounds(c.left,c.top,c.right-c.left,c.bottom-c.top,this.animTest.call(this,arguments,d,1))}});Ext.Element.addMethods({isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},scrollTo:function(d,c){this.dom["scroll"+(/top/i.test(d)?"Top":"Left")]=c;return this},getScroll:function(){var k=this.dom,l=document,j=l.body,o=l.documentElement,d,m,n;if(k==l||k==j){if(Ext.isIE&&Ext.isStrict){d=o.scrollLeft;m=o.scrollTop}else{d=window.pageXOffset;m=window.pageYOffset}n={left:d||(j?j.scrollLeft:0),top:m||(j?j.scrollTop:0)}}else{n={left:k.scrollLeft,top:k.scrollTop}}return n}});Ext.Element.addMethods({scrollTo:function(i,n,j){var m=/top/i.test(i),o=this,l=o.dom,k;if(!j||!o.anim){k="scroll"+(m?"Top":"Left"),l[k]=n}else{k="scroll"+(m?"Left":"Top"),o.anim({scroll:{to:m?[l[k],n]:[n,l[k]]}},o.preanim(arguments,2),"scroll")}return o},scrollIntoView:function(z,v){var c=Ext.getDom(z)||Ext.getBody().dom,x=this.dom,y=this.getOffsetsTo(c),r=y[0]+c.scrollLeft,C=y[1]+c.scrollTop,b=C+x.offsetHeight,A=r+x.offsetWidth,B=c.clientHeight,o=parseInt(c.scrollTop,10),D=parseInt(c.scrollLeft,10),t=o+B,l=D+c.clientWidth;if(x.offsetHeight>B||C<o){c.scrollTop=C}else{if(b>t){c.scrollTop=b-B}}c.scrollTop=c.scrollTop;if(v!==false){if(x.offsetWidth>c.clientWidth||r<D){c.scrollLeft=r}else{if(A>l){c.scrollLeft=A-c.clientWidth}}c.scrollLeft=c.scrollLeft}return this},scrollChildIntoView:function(c,d){Ext.fly(c,"_scrollChildIntoView").scrollIntoView(this,d)},scroll:function(r,A,y){if(!this.isScrollable()){return}var x=this.dom,v=x.scrollLeft,h=x.scrollTop,q=x.scrollWidth,s=x.scrollHeight,u=x.clientWidth,B=x.clientHeight,z=false,l,t={l:Math.min(v+A,q-u),r:l=Math.max(v-A,0),t:Math.max(h-A,0),b:Math.min(h+A,s-B)};t.d=t.b;t.u=t.t;r=r.substr(0,1);if((l=t[r])>-1){z=true;this.scrollTo(r=="l"||r=="r"?"left":"top",l,this.preanim(arguments,2))}return z}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.addMethods(function(){var q="visibility",t="display",v="hidden",n="offsets",o="none",x="originalDisplay",u="visibilityMode",s=Ext.Element.DISPLAY,r=Ext.Element.data,p=function(b){var a=r(b,x);if(a===undefined){r(b,x,a="")}return a},m=function(a){var b=r(a,u);if(b===undefined){r(a,u,b=1)}return b};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){r(this.dom,u,a);return this},animate:function(e,c,d,b,a){this.anim(e,{duration:c,callback:d,easing:b},a);return this},anim:function(g,e,i,c,h,a){i=i||"run";e=e||{};var d=this,b=Ext.lib.Anim[i](d.dom,g,(e.duration||c)||0.35,(e.easing||h)||"easeOut",function(){if(a){a.call(d)}if(e.callback){e.callback.call(e.scope||d,d,e)}},d);e.anim=b;return b},preanim:function(a,b){return !a[b]?false:(Ext.isObject(a[b])?a[b]:{duration:a[b+1],callback:a[b+2],easing:a[b+3]})},isVisible:function(){return !this.isStyle(q,v)&&!this.isStyle(t,o)},setVisible:function(c,g){var e=this,h,a,b,d=e.dom;if(Ext.isString(g)){h=g==t;a=g==q;b=g==n;g=false}else{h=m(this.dom)==s;a=!h}if(!g||!e.anim){if(h){e.setDisplayed(c)}else{if(b){if(!c){e.hideModeStyles={position:e.getStyle("position"),top:e.getStyle("top"),left:e.getStyle("left")};e.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{e.applyStyles(e.hideModeStyles||{position:"",top:"",left:""})}}else{e.fixDisplay();d.style.visibility=c?"visible":v}}}else{if(c){e.setOpacity(0.01);e.setVisible(true)}e.anim({opacity:{to:(c?1:0)}},e.preanim(arguments,1),null,0.35,"easeIn",function(){if(!c){d.style[h?t:q]=(h)?o:v;Ext.fly(d).setOpacity(1)}})}return e},toggle:function(a){var b=this;b.setVisible(!b.isVisible(),b.preanim(arguments,0));return b},setDisplayed:function(a){if(typeof a=="boolean"){a=a?p(this.dom):o}this.setStyle(t,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(t,o)){a.setStyle(q,v);a.setStyle(t,p(this.dom));if(a.isStyle(t,o)){a.setStyle(t,"block")}}},hide:function(a){if(Ext.isString(a)){this.setVisible(false,a);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(a){if(Ext.isString(a)){this.setVisible(true,a);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());Ext.Element.addMethods(function(){var n="visibility",i="display",j="hidden",k="none",o="x-masked",l="x-masked-relative",m=Ext.Element.data;return{isVisible:function(c){var b=!this.isStyle(n,j)&&!this.isStyle(i,k),a=this.dom.parentNode;if(c!==true||!b){return b}while(a&&!/^body/i.test(a.tagName)){if(!Ext.fly(a,"_isVisible").isVisible()){return false}a=a.parentNode}return true},isDisplayed:function(){return !this.isStyle(i,k)},enableDisplayMode:function(a){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(a)){m(this.dom,"originalDisplay",a)}return this},mask:function(r,d){var b=this,g=b.dom,c=Ext.DomHelper,e="ext-el-mask-msg",s,a;if(!/^body/i.test(g.tagName)&&b.getStyle("position")=="static"){b.addClass(l)}if((s=m(g,"maskMsg"))){s.remove()}if((s=m(g,"mask"))){s.remove()}a=c.append(g,{cls:"ext-el-mask"},true);m(g,"mask",a);b.addClass(o);a.setDisplayed(true);if(typeof r=="string"){var h=c.append(g,{cls:e,cn:{tag:"div"}},true);m(g,"maskMsg",h);h.dom.className=d?e+" "+d:e;h.dom.firstChild.innerHTML=r;h.setDisplayed(true);h.center(b)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&b.getStyle("height")=="auto"){a.setSize(undefined,b.getHeight())}return a},unmask:function(){var b=this,a=b.dom,d=m(a,"mask"),c=m(a,"maskMsg");if(d){if(c){c.remove();m(a,"maskMsg",undefined)}d.remove();m(a,"mask",undefined)}b.removeClass([o,l])},isMasked:function(){var a=m(this.dom,"mask");return a&&a.isVisible()},createShim:function(){var b=document.createElement("iframe"),a;b.frameBorder="0";b.className="ext-shim";b.src=Ext.SSL_SECURE_URL;a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));a.autoBoxAdjust=false;return a}}}());Ext.Element.addMethods({addKeyListener:function(e,h,i){var g;if(!Ext.isObject(e)||Ext.isArray(e)){g={key:e,fn:h,scope:i}}else{g={key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:h,scope:i}}return new Ext.KeyMap(this,g)},addKeyMap:function(b){return new Ext.KeyMap(this,b)}});(function(){var C=null,K=undefined,S=true,H=false,T="setX",V="setY",ab="setXY",P="left",R="bottom",I="top",Q="right",L="height",W="width",U="points",E="hidden",N="absolute",G="visible",X="motion",O="position",J="easeOut",Y=new Ext.Element.Flyweight(),F={},D=function(a){return a||{}},M=function(a){Y.dom=a;Y.id=Ext.id(a);return Y},Z=function(a){if(!F[a]){F[a]=[]}return F[a]},aa=function(a,b){F[a]=b};Ext.enableFx=S;Ext.Fx={switchStatements:function(b,a,c){return a.apply(this,c[b])},slideIn:function(k,n){n=D(n);var i=this,l=i.dom,e=l.style,c,b,g,o,a,e,j,d,h,m;k=k||"t";i.queueFx(n,function(){c=M(l).getXY();M(l).fixDisplay();b=M(l).getFxRestore();g={x:c[0],y:c[1],0:c[0],1:c[1],width:l.offsetWidth,height:l.offsetHeight};g.right=g.x+g.width;g.bottom=g.y+g.height;M(l).setWidth(g.width).setHeight(g.height);o=M(l).fxWrap(b.pos,n,E);e.visibility=G;e.position=N;function q(){M(l).fxUnwrap(o,b.pos,n);e.width=b.width;e.height=b.height;M(l).afterFx(n)}d={to:[g.x,g.y]};h={to:g.width};m={to:g.height};function p(x,A,v,z,t,r,B,ad,ae,u,y){var s={};M(x).setWidth(v).setHeight(z);if(M(x)[t]){M(x)[t](r)}A[B]=A[ad]="0";if(ae){s.width=ae}if(u){s.height=u}if(y){s.points=y}return s}j=M(l).switchStatements(k.toLowerCase(),p,{t:[o,e,g.width,0,C,C,P,R,C,m,C],l:[o,e,0,g.height,C,C,Q,I,h,C,C],r:[o,e,g.width,g.height,T,g.right,P,I,C,C,d],b:[o,e,g.width,g.height,V,g.bottom,P,I,C,m,d],tl:[o,e,0,0,C,C,Q,R,h,m,d],bl:[o,e,0,0,V,g.y+g.height,Q,I,h,m,d],br:[o,e,0,0,ab,[g.right,g.bottom],P,I,h,m,d],tr:[o,e,0,0,T,g.x+g.width,P,R,h,m,d]});e.visibility=G;M(o).show();arguments.callee.anim=M(o).fxanim(j,n,X,0.5,J,q)});return i},slideOut:function(j,l){l=D(l);var h=this,k=h.dom,d=k.style,c=h.getXY(),a,b,g,e,i={to:0};j=j||"t";h.queueFx(l,function(){b=M(k).getFxRestore();g={x:c[0],y:c[1],0:c[0],1:c[1],width:k.offsetWidth,height:k.offsetHeight};g.right=g.x+g.width;g.bottom=g.y+g.height;M(k).setWidth(g.width).setHeight(g.height);a=M(k).fxWrap(b.pos,l,G);d.visibility=G;d.position=N;M(a).setWidth(g.width).setHeight(g.height);function n(){l.useDisplay?M(k).setDisplayed(H):M(k).hide();M(k).fxUnwrap(a,b.pos,l);d.width=b.width;d.height=b.height;M(k).afterFx(l)}function m(y,p,r,o,t,q,u,s,v){var x={};y[p]=y[r]="0";x[o]=t;if(q){x[q]=u}if(s){x[s]=v}return x}e=M(k).switchStatements(j.toLowerCase(),m,{t:[d,P,R,L,i],l:[d,Q,I,W,i],r:[d,P,I,W,i,U,{to:[g.right,g.y]}],b:[d,P,I,L,i,U,{to:[g.x,g.bottom]}],tl:[d,Q,R,W,i,L,i],bl:[d,Q,I,W,i,L,i,U,{to:[g.x,g.bottom]}],br:[d,P,I,W,i,L,i,U,{to:[g.x+g.width,g.bottom]}],tr:[d,P,R,W,i,L,i,U,{to:[g.right,g.y]}]});arguments.callee.anim=M(a).fxanim(e,l,X,0.5,J,n)});return h},puff:function(a){a=D(a);var c=this,b=c.dom,g=b.style,e,h,d;c.queueFx(a,function(){e=M(b).getWidth();h=M(b).getHeight();M(b).clearOpacity();M(b).show();d=M(b).getFxRestore();function i(){a.useDisplay?M(b).setDisplayed(H):M(b).hide();M(b).clearOpacity();M(b).setPositioning(d.pos);g.width=d.width;g.height=d.height;g.fontSize="";M(b).afterFx(a)}arguments.callee.anim=M(b).fxanim({width:{to:M(b).adjustWidth(e*2)},height:{to:M(b).adjustHeight(h*2)},points:{by:[-e*0.5,-h*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},a,X,0.5,J,i)});return c},switchOff:function(a){a=D(a);var c=this,b=c.dom,e=b.style,d;c.queueFx(a,function(){M(b).clearOpacity();M(b).clip();d=M(b).getFxRestore();function g(){a.useDisplay?M(b).setDisplayed(H):M(b).hide();M(b).clearOpacity();M(b).setPositioning(d.pos);e.width=d.width;e.height=d.height;M(b).afterFx(a)}M(b).fxanim({opacity:{to:0.3}},C,C,0.1,C,function(){M(b).clearOpacity();(function(){M(b).fxanim({height:{to:1},points:{by:[0,M(b).getHeight()*0.5]}},a,X,0.3,"easeIn",g)}).defer(100)})});return c},highlight:function(e,a){a=D(a);var c=this,b=c.dom,h=a.attr||"backgroundColor",g={},d;c.queueFx(a,function(){M(b).clearOpacity();M(b).show();function i(){b.style[h]=d;M(b).afterFx(a)}d=b.style[h];g[h]={from:e||"ffff9c",to:a.endColor||M(b).getColor(h)||"ffffff"};arguments.callee.anim=M(b).fxanim(g,a,"color",1,"easeIn",i)});return c},frame:function(h,d,a){a=D(a);var e=this,b=e.dom,g,c;e.queueFx(a,function(){h=h||"#C3DAF9";if(h.length==6){h="#"+h}d=d||1;M(b).show();var l=M(b).getXY(),j={x:l[0],y:l[1],0:l[0],1:l[1],width:b.offsetWidth,height:b.offsetHeight},k=function(){g=M(document.body||document.documentElement).createChild({style:{position:N,"z-index":35000,border:"0px solid "+h}});return g.queueFx({},i)};arguments.callee.anim={isAnimated:true,stop:function(){d=0;g.stopFx()}};function i(){var m=Ext.isBorderBox?2:1;c=g.anim({top:{from:j.y,to:j.y-20},left:{from:j.x,to:j.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:j.height,to:j.height+20*m},width:{from:j.width,to:j.width+20*m}},{duration:a.duration||1,callback:function(){g.remove();--d>0?k():M(b).afterFx(a)}});arguments.callee.anim={isAnimated:true,stop:function(){c.stop()}}}k()});return e},pause:function(a){var b=this.dom,c;this.queueFx({},function(){c=setTimeout(function(){M(b).afterFx({})},a*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(c);M(b).afterFx({})}}});return this},fadeIn:function(b){b=D(b);var d=this,c=d.dom,a=b.endOpacity||1;d.queueFx(b,function(){M(c).setOpacity(0);M(c).fixDisplay();c.style.visibility=G;arguments.callee.anim=M(c).fxanim({opacity:{to:a}},b,C,0.5,J,function(){if(a==1){M(c).clearOpacity()}M(c).afterFx(b)})});return d},fadeOut:function(b){b=D(b);var d=this,c=d.dom,e=c.style,a=b.endOpacity||0;d.queueFx(b,function(){arguments.callee.anim=M(c).fxanim({opacity:{to:a}},b,C,0.5,J,function(){if(a==0){Ext.Element.data(c,"visibilityMode")==Ext.Element.DISPLAY||b.useDisplay?e.display="none":e.visibility=E;M(c).clearOpacity()}M(c).afterFx(b)})});return d},scale:function(c,b,a){this.shift(Ext.apply({},a,{width:c,height:b}));return this},shift:function(a){a=D(a);var b=this.dom,c={};this.queueFx(a,function(){for(var d in a){if(a[d]!=K){c[d]={to:a[d]}}}c.width?c.width.to=M(b).adjustWidth(a.width):c;c.height?c.height.to=M(b).adjustWidth(a.height):c;if(c.x||c.y||c.xy){c.points=c.xy||{to:[c.x?c.x.to:M(b).getX(),c.y?c.y.to:M(b).getY()]}}arguments.callee.anim=M(b).fxanim(c,a,X,0.35,J,function(){M(b).afterFx(a)})});return this},ghost:function(j,a){a=D(a);var h=this,k=h.dom,d=k.style,g={opacity:{to:0},points:{}},c=g.points,b,e,i;j=j||"b";h.queueFx(a,function(){b=M(k).getFxRestore();e=M(k).getWidth();i=M(k).getHeight();function l(){a.useDisplay?M(k).setDisplayed(H):M(k).hide();M(k).clearOpacity();M(k).setPositioning(b.pos);d.width=b.width;d.height=b.height;M(k).afterFx(a)}c.by=M(k).switchStatements(j.toLowerCase(),function(m,n){return[m,n]},{t:[0,-i],l:[-e,0],r:[e,0],b:[0,i],tl:[-e,-i],bl:[-e,i],br:[e,i],tr:[e,-i]});arguments.callee.anim=M(k).fxanim(g,a,X,0.5,J,l)});return h},syncFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:H,concurrent:S,stopFx:H});return a},sequenceFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:H,concurrent:H,stopFx:H});return a},nextFx:function(){var a=Z(this.dom.id)[0];if(a){a.call(this)}},hasActiveFx:function(){return Z(this.dom.id)[0]},stopFx:function(d){var c=this,a=c.dom.id;if(c.hasActiveFx()){var b=Z(a)[0];if(b&&b.anim){if(b.anim.isAnimated){aa(a,[b]);b.anim.stop(d!==undefined?d:S)}else{aa(a,[])}}}return c},beforeFx:function(a){if(this.hasActiveFx()&&!a.concurrent){if(a.stopFx){this.stopFx();return S}return H}return S},hasFxBlock:function(){var a=Z(this.dom.id);return a&&a[0]&&a[0].block},queueFx:function(a,d){var c=M(this.dom);if(!c.hasFxBlock()){Ext.applyIf(a,c.fxDefaults);if(!a.concurrent){var b=c.beforeFx(a);d.block=a.block;Z(c.dom.id).push(d);if(b){c.nextFx()}}else{d.call(c)}}return c},fxWrap:function(a,c,e){var d=this.dom,g,h;if(!c.wrap||!(g=Ext.getDom(c.wrap))){if(c.fixPosition){h=M(d).getXY()}var b=document.createElement("div");b.style.visibility=e;g=d.parentNode.insertBefore(b,d);M(g).setPositioning(a);if(M(g).isStyle(O,"static")){M(g).position("relative")}M(d).clearPositioning("auto");M(g).clip();g.appendChild(d);if(h){M(g).setXY(h)}}return g},fxUnwrap:function(d,a,b){var c=this.dom;M(c).clearPositioning();M(c).setPositioning(a);if(!b.wrap){var e=M(d).dom.parentNode;e.insertBefore(c,d);M(d).remove()}},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height}},afterFx:function(b){var c=this.dom,a=c.id;if(b.afterStyle){M(c).setStyle(b.afterStyle)}if(b.afterCls){M(c).addClass(b.afterCls)}if(b.remove==S){M(c).remove()}if(b.callback){b.callback.call(b.scope,M(c))}if(!b.concurrent){Z(a).shift();M(c).nextFx()}},fxanim:function(d,c,g,b,e,h){g=g||"run";c=c||{};var a=Ext.lib.Anim[g](this.dom,d,(c.duration||b)||0.35,(c.easing||e)||J,h,this);c.anim=a;return a}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();Ext.CompositeElementLite=function(c,d){this.elements=[];this.add(c,d);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(d){var c=this.el;c.dom=d;c.id=d.id;return c},transformElement:function(b){return Ext.getDom(b)},getCount:function(){return this.elements.length},add:function(l,h){var k=this,j=k.elements;if(!l){return this}if(Ext.isString(l)){l=Ext.Element.selectorFunction(l,h)}else{if(l.isComposite){l=l.elements}else{if(!Ext.isIterable(l)){l=[l]}}}for(var m=0,i=l.length;m<i;++m){j.push(k.transformElement(l[m]))}return k},invoke:function(m,e){var l=this,n=l.elements,i=n.length,k,o;for(o=0;o<i;o++){k=n[o];if(k){Ext.Element.prototype[m].apply(l.getElement(k),e)}}return l},item:function(e){var h=this,i=h.elements[e],g=null;if(i){g=h.getElement(i)}return g},addListener:function(e,m,n,o){var p=this.elements,i=p.length,q,l;for(q=0;q<i;q++){l=p[q];if(l){Ext.EventManager.on(l,e,m,n||l,o)}}return this},each:function(m,n){var l=this,o=l.elements,i=o.length,e,k;for(e=0;e<i;e++){k=o[e];if(k){k=this.getElement(k);if(m.call(n||k,k,l,e)===false){break}}}return l},fill:function(d){var c=this;c.elements=[];c.add(d);return c},filter:function(h){var g=[],j=this,i=j.elements,k=Ext.isFunction(h)?h:function(a){return a.is(h)};j.each(function(a,c,b){if(k(a,b)!==false){g[g.length]=j.transformElement(a)}});j.elements=g;return j},indexOf:function(b){return this.elements.indexOf(this.transformElement(b))},replaceElement:function(j,k,h){var d=!isNaN(j)?j:this.indexOf(j),i;if(d>-1){k=Ext.getDom(k);if(h){i=this.elements[d];i.parentNode.insertBefore(k,i);Ext.removeNode(i)}this.elements.splice(d,1,k)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;(function(){var g,d=Ext.Element.prototype,e=Ext.CompositeElementLite.prototype;for(g in d){if(Ext.isFunction(d[g])){(function(a){e[a]=e[a]||function(){return this.invoke(a,arguments)}}).call(e,g)}}})();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(e,d){var g;if(typeof e=="string"){g=Ext.Element.selectorFunction(e,d)}else{if(e.length!==undefined){g=e}else{throw"Invalid selector"}}return new Ext.CompositeElementLite(g)};Ext.select=Ext.Element.select;Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(g,e){if(!g){return this}if(typeof g=="string"){g=Ext.Element.selectorFunction(g,e)}var d=this.elements;Ext.each(g,function(a){d.push(Ext.get(a))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(b){return this.indexOf(b)!=-1},removeElement:function(j,i){var k=this,h=this.elements,g;Ext.each(j,function(a){if((g=(h[a]||h[a=k.indexOf(a)]))){if(i){if(g.dom){g.remove()}else{Ext.removeNode(g)}}h.splice(a,1)}});return this}});Ext.CompositeElement=function(c,d){this.elements=[];this.add(c,d)};Ext.extend(Ext.CompositeElement,Ext.CompositeElementLite,{getElement:function(b){return b},transformElement:function(b){return Ext.get(b)}});Ext.Element.select=function(g,h,e){var i;if(typeof g=="string"){i=Ext.Element.selectorFunction(g,e)}else{if(g.length!==undefined){i=g}else{throw"Invalid selector"}}return(h===true)?new Ext.CompositeElement(i):new Ext.CompositeElementLite(i)};Ext.select=Ext.Element.select;(function(){var j="beforerequest",o="requestcomplete",p="requestexception",m=undefined,q="load",l="POST",k="GET",n=window;Ext.data.Connection=function(a){Ext.apply(this,a);this.addEvents(j,o,p);Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(c){var u=this;if(u.fireEvent(j,u,c)){if(c.el){if(!Ext.isEmpty(c.indicatorText)){u.indicatorText='<div class="loading-indicator">'+c.indicatorText+"</div>"}if(u.indicatorText){Ext.getDom(c.el).innerHTML=u.indicatorText}c.success=(Ext.isFunction(c.success)?c.success:function(){}).createInterceptor(function(r){Ext.getDom(c.el).innerHTML=r.responseText})}var e=c.params,g=c.url||u.url,h,b={success:u.handleResponse,failure:u.handleFailure,scope:u,argument:{options:c},timeout:c.timeout||u.timeout},d,i;if(Ext.isFunction(e)){e=e.call(c.scope||n,c)}e=Ext.urlEncode(u.extraParams,Ext.isObject(e)?Ext.urlEncode(e):e);if(Ext.isFunction(g)){g=g.call(c.scope||n,c)}if((d=Ext.getDom(c.form))){g=g||d.action;if(c.isUpload||/multipart\/form-data/i.test(d.getAttribute("enctype"))){return u.doFormUpload.call(u,c,e,g)}i=Ext.lib.Ajax.serializeForm(d);e=e?(e+"&"+i):i}h=c.method||u.method||((e||c.xmlData||c.jsonData)?l:k);if(h===k&&(u.disableCaching&&c.disableCaching!==false)||c.disableCaching===true){var a=c.disableCachingParam||u.disableCachingParam;g=Ext.urlAppend(g,a+"="+(new Date().getTime()))}c.headers=Ext.apply(c.headers||{},u.defaultHeaders||{});if(c.autoAbort===true||u.autoAbort){u.abort()}if((h==k||c.xmlData||c.jsonData)&&e){g=Ext.urlAppend(g,e);e=""}return(u.transId=Ext.lib.Ajax.request(h,g,b,e,c))}else{return c.callback?c.callback.apply(c.scope,[c,m,m]):null}},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):!!this.transId},abort:function(a){if(a||this.isLoading()){Ext.lib.Ajax.abort(a||this.transId)}},handleResponse:function(b){this.transId=false;var a=b.argument.options;b.argument=a?a.argument:null;this.fireEvent(o,this,b,a);if(a.success){a.success.call(a.scope,b,a)}if(a.callback){a.callback.call(a.scope,a,true,b)}},handleFailure:function(c,a){this.transId=false;var b=c.argument.options;c.argument=b?b.argument:null;this.fireEvent(p,this,c,b,a);if(b.failure){b.failure.call(b.scope,c,b)}if(b.callback){b.callback.call(b.scope,b,false,c)}},doFormUpload:function(b,i,h){var g=Ext.id(),x=document,a=x.createElement("iframe"),e=Ext.getDom(b.form),y=[],z,c="multipart/form-data",d={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action};Ext.fly(a).set({id:g,name:g,cls:"x-hidden"});x.body.appendChild(a);Ext.fly(a).set({src:Ext.SSL_SECURE_URL});if(Ext.isIE){document.frames[g].name=g}Ext.fly(e).set({target:g,method:l,enctype:c,encoding:c,action:h||d.action});Ext.iterate(Ext.urlDecode(i,false),function(r,s){z=x.createElement("input");Ext.fly(z).set({type:"hidden",value:s,name:r});e.appendChild(z);y.push(z)});function A(){var C=this,s={responseText:"",responseXML:null,argument:b.argument},v,r;try{v=a.contentWindow.document||a.contentDocument||n.frames[g].document;if(v){if(v.body){if(/textarea/i.test((r=v.body.firstChild||{}).tagName)){s.responseText=r.value}else{s.responseText=v.body.innerHTML}}s.responseXML=v.XMLDocument||v}}catch(u){}Ext.EventManager.removeListener(a,q,A,C);C.fireEvent(o,C,s,b);function t(B,F,G){if(Ext.isFunction(B)){B.apply(F,G)}}t(b.success,b.scope,[s,b]);t(b.callback,b.scope,[b,true,s]);if(!C.debugUploads){setTimeout(function(){Ext.removeNode(a)},100)}}Ext.EventManager.on(a,q,A,this);e.submit();Ext.fly(e).set(d);Ext.each(y,function(r){Ext.removeNode(r)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(b){return Ext.lib.Ajax.serializeForm(b)}});Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var h="beforeupdate",l="update",m="failure";function i(c){var b=this;b.transaction=null;if(c.argument.form&&c.argument.reset){try{c.argument.form.reset()}catch(a){}}if(b.loadScripts){b.renderer.render(b.el,c,b,j.createDelegate(b,[c]))}else{b.renderer.render(b.el,c,b);j.call(b,c)}}function j(c,b,a){this.fireEvent(b||l,this.el,c);if(Ext.isFunction(c.argument.callback)){c.argument.callback.call(c.argument.scope,this.el,Ext.isEmpty(a)?true:false,c,c.argument.options)}}function k(a){j.call(this,a,m,!!(this.transaction=null))}return{constructor:function(b,c){var a=this;b=Ext.get(b);if(!c&&b.updateManager){return b.updateManager}a.el=b;a.defaultUrl=null;a.addEvents(h,l,m);Ext.apply(a,Ext.Updater.defaults);a.transaction=null;a.refreshDelegate=a.refresh.createDelegate(a);a.updateDelegate=a.update.createDelegate(a);a.formUpdateDelegate=(a.formUpdate||function(){}).createDelegate(a);a.renderer=a.renderer||a.getDefaultRenderer();Ext.Updater.superclass.constructor.call(a)},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},setDefaultUrl:function(a){this.defaultUrl=a},getEl:function(){return this.el},update:function(e,q,o,b){var c=this,g,d;if(c.fireEvent(h,c.el,e,q)!==false){if(Ext.isObject(e)){g=e;e=g.url;q=q||g.params;o=o||g.callback;b=b||g.discardUrl;d=g.scope;if(!Ext.isEmpty(g.nocache)){c.disableCaching=g.nocache}if(!Ext.isEmpty(g.text)){c.indicatorText='<div class="loading-indicator">'+g.text+"</div>"}if(!Ext.isEmpty(g.scripts)){c.loadScripts=g.scripts}if(!Ext.isEmpty(g.timeout)){c.timeout=g.timeout}}c.showLoading();if(!b){c.defaultUrl=e}if(Ext.isFunction(e)){e=e.call(c)}var a=Ext.apply({},{url:e,params:(Ext.isFunction(q)&&d)?q.createDelegate(d):q,success:i,failure:k,scope:c,callback:undefined,timeout:(c.timeout*1000),disableCaching:c.disableCaching,argument:{options:g,url:e,form:null,callback:o,scope:d||window,params:q}},g);c.transaction=Ext.Ajax.request(a)}},formUpdate:function(b,e,c,a){var d=this;if(d.fireEvent(h,d.el,b,e)!==false){if(Ext.isFunction(e)){e=e.call(d)}b=Ext.getDom(b);d.transaction=Ext.Ajax.request({form:b,url:e,success:i,failure:k,scope:d,timeout:(d.timeout*1000),argument:{url:e,form:b,callback:a,reset:c}});d.showLoading.defer(1,d)}},startAutoRefresh:function(e,d,b,a,g){var c=this;if(g){c.update(d||c.defaultUrl,b,a,true)}if(c.autoRefreshProcId){clearInterval(c.autoRefreshProcId)}c.autoRefreshProcId=setInterval(c.update.createDelegate(c,[d||c.defaultUrl,b,a,true]),e*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return !!this.autoRefreshProcId},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false},refresh:function(a){if(this.defaultUrl){this.update(this.defaultUrl,null,a,true)}}}}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(j,k,i,g){var h=Ext.get(j).getUpdater();Ext.apply(h,g);h.update(k,i,g?g.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(i,g,e,h){i.update(g.responseText,e.loadScripts,h)}};(function(){Date.useStrict=false;function c(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(i,h){return b[h]})}Date.formatCodeToRegex=function(b,g){var a=Date.parseCodes[b];if(a){a=typeof a=="function"?a():a;Date.parseCodes[b]=a}return a?Ext.applyIf({c:a.c?c(a.c,g||"{0}"):a.c},a):{g:0,c:null,s:Ext.escapeRe(b)}};var d=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(h,i){var b=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var a=(h||"").match(b);return a?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",e=[],i=0,l=a.length;i<l;++i){var b=a.charAt(i);e.push(b=="T"?"'T'":Date.getFormatCode(b))}return e.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(p,r,q,b,i,h,m){b=b||0;i=i||0;h=h||0;m=m||0;var a=new Date(p,r-1,q,b,i,h,m);return p==a.getFullYear()&&r==a.getMonth()+1&&q==a.getDate()&&b==a.getHours()&&i==a.getMinutes()&&h==a.getSeconds()&&m==a.getMilliseconds()},parseDate:function(h,a,i){var b=Date.parseFunctions;if(b[a]==null){Date.createParser(a)}return b[a](h,Ext.isDefined(i)?i:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];if(b){b=typeof b=="function"?b():b;Date.formatCodes[a]=b}return b||("'"+String.escape(a)+"'")},createFormat:function(a){var b=[],k=false,i="";for(var j=0;j<a.length;++j){i=a.charAt(j);if(!k&&i=="\\"){k=true}else{if(k){k=false;b.push("'"+String.escape(i)+"'")}else{b.push(Date.getFormatCode(i))}}}Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(){var a=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(i){var t=Date.parseRegexes.length,b=1,s=[],o=[],p=false,u="";for(var q=0;q<i.length;++q){u=i.charAt(q);if(!p&&u=="\\"){p=true}else{if(p){p=false;o.push(String.escape(u))}else{var r=d(u,b);b+=r.g;o.push(r.s);if(r.g&&r.c){s.push(r.c)}}}}Date.parseRegexes[t]=new RegExp("^"+o.join("")+"$");Date.parseFunctions[i]=new Function("input","strict",c(a,t,s.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var b=[],a=0;a<7;b.push(Date.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var b=[],a=0;a<12;b.push(Date.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},d("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return d("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return d("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return d("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],i=[d("Y",1),d("m",2),d("d",3),d("h",4),d("i",5),d("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",d("P",8).c,"}else{",d("O",8).c,"}","}"].join("\n")}];for(var a=0,h=i.length;a<h;++a){b.push(i[a].c)}return{g:1,c:b.join(""),s:[i[0].s,"(?:","-",i[1].s,"(?:","-",i[2].s,"(?:","(?:T| )?",i[3].s,":",i[4].s,"(?::",i[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(b){if(Date.formatFunctions[b]==null){Date.createFormat(b)}return Date.formatFunctions[b].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(b){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(b?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var d=0,h=this.clone(),g=this.getMonth(),i;for(i=0,h.setDate(1),h.setMonth(0);i<g;h.setMonth(++i)){d+=h.getDaysInMonth()}return d+this.getDate()-1},getWeekOfYear:function(){var d=86400000,c=7*d;return function(){var b=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/d,g=Math.floor(b/7),a=new Date(g*c).getUTCFullYear();return g-Math.floor(Date.UTC(a,0,7)/c)+1}}(),isLeapYear:function(){var b=this.getFullYear();return !!((b&3)==0&&(b%100||(b%400==0&&b)))},getFirstDayOfMonth:function(){var b=(this.getDay()-(this.getDate()-1))%7;return(b<0)?(b+7):b},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var a=this.getMonth();return a==1&&this.isLeapYear()?29:b[a]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(h){if(h){return this.clone().clearTime()}var c=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=c){for(var d=1,i=this.add(Date.HOUR,d);i.getDate()!=c;d++,i=this.add(Date.HOUR,d)){}this.setDate(c);this.setHours(i.getHours())}return this},add:function(d,i){var h=this.clone();if(!d||i===0){return h}switch(d.toLowerCase()){case Date.MILLI:h.setMilliseconds(this.getMilliseconds()+i);break;case Date.SECOND:h.setSeconds(this.getSeconds()+i);break;case Date.MINUTE:h.setMinutes(this.getMinutes()+i);break;case Date.HOUR:h.setHours(this.getHours()+i);break;case Date.DAY:h.setDate(this.getDate()+i);break;case Date.MONTH:var g=this.getDate();if(g>28){g=Math.min(g,this.getFirstDateOfMonth().add("mo",i).getLastDateOfMonth().getDate())}h.setDate(g);h.setMonth(this.getMonth()+i);break;case Date.YEAR:h.setFullYear(this.getFullYear()+i);break}return h},between:function(g,e){var d=this.getTime();return g.getTime()<=d&&d<=e.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(g){if(g<=-1){var h=Math.ceil(-g),i=Math.ceil(h/12),e=(h%12)?12-h%12:0;this.setFullYear(this.getFullYear()-i);return this._xMonth(e)}else{return this._xMonth(g)}},setDate:function(b){return this.setTime(this.getTime()-(this.getDate()-b)*86400000)}})}Ext.util.MixedCollection=function(c,d){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=c===true;if(d){this.getKey=d}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(d,g){if(arguments.length==1){g=arguments[0];d=this.getKey(g)}if(typeof d!="undefined"&&d!==null){var e=this.map[d];if(typeof e!="undefined"){return this.replace(d,g)}this.map[d]=g}this.length++;this.items.push(g);this.keys.push(d);this.fireEvent("add",this.length-1,g,d);return g},getKey:function(b){return b.id},replace:function(i,h){if(arguments.length==1){h=arguments[0];i=this.getKey(h)}var g=this.map[i];if(typeof i=="undefined"||i===null||typeof g=="undefined"){return this.add(i,h)}var e=this.indexOfKey(i);this.items[e]=h;this.map[i]=h;this.fireEvent("replace",i,g,h);return h},addAll:function(i){if(arguments.length>1||Ext.isArray(i)){var g=arguments.length>1?arguments:i;for(var j=0,h=g.length;j<h;j++){this.add(g[j])}}else{for(var k in i){if(this.allowFunctions||typeof i[k]!="function"){this.add(k,i[k])}}}},each:function(i,j){var g=[].concat(this.items);for(var k=0,h=g.length;k<h;k++){if(i.call(j||g[k],g[k],k,h)===false){break}}},eachKey:function(h,i){for(var e=0,g=this.keys.length;e<g;e++){h.call(i||window,this.keys[e],this.items[e],e,g)}},find:function(h,i){for(var e=0,g=this.items.length;e<g;e++){if(h.call(i||window,this.items[e],this.keys[e])){return this.items[e]}}return null},insert:function(e,d,g){if(arguments.length==2){g=arguments[1];d=this.getKey(g)}if(this.containsKey(d)){this.suspendEvents();this.removeKey(d);this.resumeEvents()}if(e>=this.length){return this.add(d,g)}this.length++;this.items.splice(e,0,g);if(typeof d!="undefined"&&d!==null){this.map[d]=g}this.keys.splice(e,0,d);this.fireEvent("add",e,g,d);return g},remove:function(b){return this.removeAt(this.indexOf(b))},removeAt:function(e){if(e<this.length&&e>=0){this.length--;var g=this.items[e];this.items.splice(e,1);var d=this.keys[e];if(typeof d!="undefined"){delete this.map[d]}this.keys.splice(e,1);this.fireEvent("remove",g,d);return g}return false},removeKey:function(b){return this.removeAt(this.indexOfKey(b))},getCount:function(){return this.length},indexOf:function(b){return this.items.indexOf(b)},indexOfKey:function(b){return this.keys.indexOf(b)},item:function(d){var e=this.map[d],g=e!==undefined?e:(typeof d=="number")?this.items[d]:undefined;return !Ext.isFunction(g)||this.allowFunctions?g:null},itemAt:function(b){return this.items[b]},key:function(b){return this.map[b]},contains:function(b){return this.indexOf(b)!=-1},containsKey:function(b){return typeof this.map[b]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(i,s,m){var q,p,r=String(s).toUpperCase()=="DESC"?-1:1,n=[],c=this.keys,o=this.items;m=m||function(a,b){return a-b};for(q=0,p=o.length;q<p;q++){n[n.length]={key:c[q],value:o[q],index:q}}n.sort(function(b,d){var a=m(b[i],d[i])*r;if(a===0){a=(b.index<d.index?-1:1)}return a});for(q=0,p=n.length;q<p;q++){o[q]=n[q].value;c[q]=n[q].key}this.fireEvent("sort",this)},sort:function(d,c){this._sort("value",d,c)},reorder:function(l){this.suspendEvents();var h=this.items,m=0,j=h.length,i=[],k=[];for(oldIndex in l){i[l[oldIndex]]=h[oldIndex]}for(m=0;m<j;m++){if(l[m]==undefined){k.push(h[m])}}for(m=0;m<j;m++){if(i[m]==undefined){i[m]=k.shift()}}this.clear();this.addAll(i);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(d,c){this._sort("key",d,c||function(h,i){var a=String(h).toUpperCase(),b=String(i).toUpperCase();return a>b?1:(a<b?-1:0)})},getRange:function(i,h){var g=this.items;if(g.length<1){return[]}i=i||0;h=Math.min(typeof h=="undefined"?this.length-1:h,this.length-1);var k,j=[];if(i<=h){for(k=i;k<=h;k++){j[j.length]=g[k]}}else{for(k=i;k>=h;k--){j[j.length]=g[k]}}return j},filter:function(i,e,h,g){if(Ext.isEmpty(e,false)){return this.clone()}e=this.createValueMatcher(e,h,g);return this.filterBy(function(a){return a&&e.test(a[i])})},filterBy:function(l,m){var k=new Ext.util.MixedCollection();k.getKey=this.getKey;var i=this.keys,n=this.items;for(var o=0,j=n.length;o<j;o++){if(l.call(m||this,n[o],i[o])){k.add(i[o],n[o])}}return k},findIndex:function(k,g,i,j,h){if(Ext.isEmpty(g,false)){return -1}g=this.createValueMatcher(g,j,h);return this.findIndexBy(function(a){return a&&g.test(a[k])},null,i)},findIndexBy:function(l,m,k){var i=this.keys,n=this.items;for(var o=(k||0),j=n.length;o<j;o++){if(l.call(m||this,n[o],i[o])){return o}}return -1},createValueMatcher:function(k,i,h,g){if(!k.exec){var j=Ext.escapeRe;k=String(k);if(i===true){k=j(k)}else{k="^"+j(k);if(g===true){k+="$"}}k=new RegExp(k,h?"":"i")}return k},clone:function(){var i=new Ext.util.MixedCollection();var g=this.keys,j=this.items;for(var k=0,h=j.length;k<h;k++){i.add(g[k],j[k])}i.getKey=this.getKey;return i}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true}}}}a.push("}");return a.join("")}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode}return dc(json)}}()})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"..."}else{return vs.substr(0,index)+"..."}}else{return value.substr(0,len-3)+"..."}}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"")},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision}return result},number:function(v,format){if(!format){return v}v=Ext.num(v,NaN);if(isNaN(v)){return""}var comma=",",dec=".",i18n=false,neg=v<0;v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=","}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length)}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format)}else{v=v.toFixed(0)}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3;for(var i=0;i<j;i+=n){if(i!=0){n=3}parr[parr.length]=cnum.substr(i,n);m-=1}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1]}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1]}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum)},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format)}},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"))},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>")}}}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var A=this,M=A.html,G=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,Q=/^<tpl\b[^>]*?for="(.*?)"/,D=/^<tpl\b[^>]*?if="(.*?)"/,B=/^<tpl\b[^>]*?exec="(.*?)"/,F,H=0,L=[],I="values",C="parent",K="xindex",J="xcount",P="return ",R="with(values){ ";M=["<tpl>",M,"</tpl>"].join("");while((F=M.match(G))){var S=F[0].match(Q),T=F[0].match(D),m=F[0].match(B),O=null,N=null,E=null,s=S&&S[1]?S[1]:"";if(T){O=T&&T[1]?T[1]:null;if(O){N=new Function(I,C,K,J,R+P+(Ext.util.Format.htmlDecode(O))+"; }")}}if(m){O=m&&m[1]?m[1]:null;if(O){E=new Function(I,C,K,J,R+(Ext.util.Format.htmlDecode(O))+"; }")}}if(s){switch(s){case".":s=new Function(I,C,R+P+I+"; }");break;case"..":s=new Function(I,C,R+P+C+"; }");break;default:s=new Function(I,C,R+P+s+"; }")}}L.push({id:H,target:s,exec:E,test:N,body:F[1]||""});M=M.replace(F[0],"{xtpl"+H+"}");++H}Ext.each(L,function(a){A.compileTpl(a)});A.master=L[L.length-1];A.tpls=L};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(u,n,o,r,s){var p=this,q,l=p.tpls[u],m,t=[];if((l.test&&!l.test.call(p,n,o,r,s))||(l.exec&&l.exec.call(p,n,o,r,s))){return""}m=l.target?l.target.call(p,n,o):n;q=m.length;o=l.target?n:o;if(l.target&&Ext.isArray(m)){Ext.each(m,function(b,a){t[t.length]=l.compiled.call(p,b,o,a+1,q)});return t.join("")}return l.compiled.call(p,m,o,r,s)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'"}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML)};Ext.util.CSS=function(){var h=null;var i=document;var e=/(-[a-z])/gi;var g=function(b,a){return a.charAt(1).toUpperCase()};return{createStyleSheet:function(d,a){var m;var n=i.getElementsByTagName("head")[0];var b=i.createElement("style");b.setAttribute("type","text/css");if(a){b.setAttribute("id",a)}if(Ext.isIE){n.appendChild(b);m=b.styleSheet;m.cssText=d}else{try{b.appendChild(i.createTextNode(d))}catch(c){b.cssText=d}n.appendChild(b);m=b.styleSheet?b.styleSheet:(b.sheet||i.styleSheets[i.styleSheets.length-1])}this.cacheStyleSheet(m);return m},removeStyleSheet:function(a){var b=i.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var b=i.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("id",a);b.setAttribute("href",c);i.getElementsByTagName("head")[0].appendChild(b)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(c){if(!h){h={}}try{var a=c.cssRules||c.rules;for(var d=a.length-1;d>=0;--d){h[a[d].selectorText.toLowerCase()]=a[d]}}catch(b){}},getRules:function(d){if(h===null||d){h={};var b=i.styleSheets;for(var c=0,m=b.length;c<m;c++){try{this.cacheStyleSheet(b[c])}catch(a){}}}return h},getRule:function(d,b){var c=this.getRules(b);if(!Ext.isArray(d)){return c[d.toLowerCase()]}for(var a=0;a<d.length;a++){if(c[d[a]]){return c[d[a].toLowerCase()]}}return null},updateRule:function(l,b,c){if(!Ext.isArray(l)){var a=this.getRule(l);if(a){a.style[b.replace(e,g)]=c;return true}}else{for(var d=0;d<l.length;d++){if(this.updateRule(l[d],b,c)){return true}}}return false}}}();Ext.util.ClickRepeater=function(c,d){this.el=Ext.get(c);this.el.unselectable();Ext.apply(this,d);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)};Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(b){this[b?"disable":"enable"]()},eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this);this.fireEvent("click",this)},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this);this.fireEvent("click",this);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this)},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this)},easeOutExpo:function(i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this)}});Ext.KeyNav=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(g){var e=g.getKey();var d=this.keyToHandler[e];if(d&&this[d]){if(this.doRelay(g,this[d],d)!==true){g[this.defaultEventAction]()}}},doRelay:function(g,d,e){return d.call(this.scope||this,g)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},stopKeyUp:function(c){var d=c.getKey();if(d>=37&&d<=40){c.stopEvent()}},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this)}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this)}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true}},setDisabled:function(b){this[b?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};Ext.KeyMap=function(g,d,e){this.el=Ext.get(g);this.eventName=e||"keydown";this.bindings=[];if(d){this.addBinding(d)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(t){if(Ext.isArray(t)){Ext.each(t,function(a){this.addBinding(a)},this);return}var m=t.key,p=t.fn||t.handler,j=t.scope;if(t.stopEvent){this.stopEvent=t.stopEvent}if(typeof m=="string"){var o=[];var q=m.toUpperCase();for(var s=0,r=q.length;s<r;s++){o.push(q.charCodeAt(s))}m=o}var u=Ext.isArray(m);var n=function(c){if(this.checkModifiers(t,c)){var a=c.getKey();if(u){for(var d=0,b=m.length;d<b;d++){if(m[d]==a){if(this.stopEvent){c.stopEvent()}p.call(j||window,a,c);return}}}else{if(a==m){if(this.stopEvent){c.stopEvent()}p.call(j||window,a,c)}}}};this.bindings.push(n)},checkModifiers:function(e,l){var k,n,m=["shift","ctrl","alt"];for(var o=0,i=m.length;o<i;++o){n=m[o];k=e[n];if(!(k===undefined||(k===l[n+"Key"]))){return false}}return true},on:function(i,n,o){var k,j,m,l;if(typeof i=="object"&&!Ext.isArray(i)){k=i.key;j=i.shift;m=i.ctrl;l=i.alt}else{k=i}this.addBinding({key:k,shift:j,ctrl:m,alt:l,fn:n,scope:o})},handleKeyDown:function(e){if(this.enabled){var i=this.bindings;for(var h=0,b=i.length;h<b;h++){i[h].call(this,e)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(b){this[b?"disable":"enable"]()}};Ext.util.TextMetrics=function(){var b;return{measure:function(a,g,e){if(!b){b=Ext.util.TextMetrics.Instance(a,e)}b.bind(a);b.setFixedWidth(e||"auto");return b.getSize(g)},createInstance:function(a,d){return Ext.util.TextMetrics.Instance(a,d)}}}();Ext.util.TextMetrics.Instance=function(e,h){var i=new Ext.Element(document.createElement("div"));document.body.appendChild(i.dom);i.position("absolute");i.setLeftTop(-1000,-1000);i.hide();if(h){i.setWidth(h)}var g={getSize:function(a){i.update(a);var b=i.getSize();i.update("");return b},bind:function(a){i.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){i.setWidth(a)},getWidth:function(a){i.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height}};g.bind(e);return g};Ext.Element.addMethods({getTextWidth:function(g,d,e){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(g,this.dom.innerHTML,true)).width).constrain(d||0,e||1000000)}});Ext.util.Cookies={set:function(q,o){var k=arguments;var l=arguments.length;var j=(l>2)?k[2]:null;var m=(l>3)?k[3]:"/";var p=(l>4)?k[4]:null;var n=(l>5)?k[5]:false;document.cookie=q+"="+escape(o)+((j===null)?"":("; expires="+j.toGMTString()))+((m===null)?"":("; path="+m))+((p===null)?"":("; domain="+p))+((n===true)?"; secure":"")},get:function(l){var h=l+"=";var j=h.length;var i=document.cookie.length;var k=0;var m=0;while(k<i){m=k+j;if(document.cookie.substring(k,m)==h){return Ext.util.Cookies.getCookieVal(m)}k=document.cookie.indexOf(" ",k)+1;if(k===0){break}}return null},clear:function(b){if(Ext.util.Cookies.get(b)){document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length}return unescape(document.cookie.substring(c,d))}};Ext.handleError=function(b){throw b};Ext.Error=function(b){this.message=(this.lang[b])?this.lang[b]:b};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});Ext.ComponentMgr=function(){var g=new Ext.util.MixedCollection();var d={};var e={};return{register:function(a){g.add(a)},unregister:function(a){g.remove(a)},get:function(a){return g.get(a)},onAvailable:function(a,b,c){g.on("add",function(k,j){if(j.id==a){b.call(c||j,j);g.un("add",b,c)}})},all:g,types:d,ptypes:e,isRegistered:function(a){return d[a]!==undefined},isPluginRegistered:function(a){return e[a]!==undefined},registerType:function(a,b){d[a]=b;b.xtype=a},create:function(b,a){return b.render?b:new d[b.xtype||a](b)},registerPlugin:function(a,b){e[a]=b;b.ptype=a},createPlugin:function(b,a){var c=e[b.ptype||a];if(c.init){return c}else{return new c(b)}}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.Component=function(d){d=d||{};if(d.initialConfig){if(d.isAction){this.baseAction=d}d=d.initialConfig}else{if(d.tagName||d.dom||Ext.isString(d)){d={applyTo:d,id:d.id||d}}}this.initialConfig=d;Ext.apply(this,d);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this)}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var g=0,e=this.plugins.length;g<e;g++){this.plugins[g]=this.initPlugin(this.plugins[g])}}else{this.plugins=this.initPlugin(this.plugins)}}if(this.stateful!==false){this.initState()}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabled:false,hidden:false,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,rendered:false,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(b){if(b.ptype&&!Ext.isFunction(b.init)){b=Ext.ComponentMgr.createPlugin(b)}else{if(Ext.isString(b)){b=Ext.ComponentMgr.createPlugin({ptype:b})}}b.init(this);return b},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners}this.enableBubble(this.bubbleEvents)},render:function(e,g){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!e&&this.el){this.el=Ext.get(this.el);e=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(e);if(this.ctCls){this.container.addClass(this.ctCls)}this.rendered=true;if(g!==undefined){if(Ext.isNumber(g)){g=this.container.dom.childNodes[g]}else{g=Ext.getDom(g)}}this.onRender(this.container,g||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode])}if(this.cls){this.el.addClass(this.cls);delete this.cls}if(this.style){this.el.applyStyles(this.style);delete this.style}if(this.overCls){this.el.addClassOnOver(this.overCls)}this.fireEvent("render",this);var i=this.getContentTarget();if(this.html){i.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var h=Ext.getDom(this.contentEl);Ext.fly(h).removeClass(["x-hidden","x-hide-display"]);i.appendChild(h)}if(this.tpl){if(!this.tpl.compile){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](i,this.data);delete this.data}}this.afterRender(this.container);if(this.hidden){this.doHide()}if(this.disabled){this.disable(true)}if(this.stateful!==false){this.initStateEvents()}this.fireEvent("afterrender",this)}return this},update:function(g,j,h){var k=this.getContentTarget();if(this.tpl&&typeof g!=="string"){this.tpl[this.tplWriteMode](k,g||{})}else{var i=Ext.isObject(g)?Ext.DomHelper.markup(g):g;k.update(i,j,h)}},onAdded:function(d,c){this.ownerCt=d;this.initRef();this.fireEvent("added",this,d,c)},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){var h=this.ref.split("/"),i=h.length,e=0,g=this;while(g&&e<i){g=g.ownerCt;++e}if(g){g[this.refName=h[--e]]=this;this.refOwner=g}}},removeRef:function(){if(this.refOwner&&this.refName){delete this.refOwner[this.refName];delete this.refOwner}},initState:function(){if(Ext.state.Manager){var c=this.getStateId();if(c){var d=Ext.state.Manager.get(c);if(d){if(this.fireEvent("beforestaterestore",this,d)!==false){this.applyState(Ext.apply({},d));this.fireEvent("staterestore",this,d)}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var d=0,c;c=this.stateEvents[d];d++){this.on(c,this.saveState,this,{delay:100})}}},applyState:function(b){if(b){Ext.apply(this,b)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var c=this.getStateId();if(c){var d=this.getState();if(this.fireEvent("beforestatesave",this,d)!==false){Ext.state.Manager.set(c,d);this.fireEvent("statesave",this,d)}}}},applyToMarkup:function(b){this.allowDomMove=false;this.el=Ext.get(b);this.render(this.el.dom.parentNode)},addClass:function(b){if(this.el){this.el.addClass(b)}else{this.cls=this.cls?this.cls+" "+b:b}return this},removeClass:function(b){if(this.el){this.el.removeClass(b)}else{if(this.cls){this.cls=this.cls.split(" ").remove(b).join(" ")}}return this},onRender:function(d,e){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl)){this.el=document.createElement(this.autoEl)}else{var g=document.createElement("div");Ext.DomHelper.overwrite(g,this.autoEl);this.el=g.firstChild}if(!this.el.id){this.el.id=this.getId()}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){d.dom.insertBefore(this.el.dom,e);if(g){Ext.removeNode(g);g=null}}}},getAutoCreate:function(){var b=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!b.id){b.id=this.id}return b},afterRender:Ext.emptyFn,destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove()}}if(this.focusTask&&this.focusTask.cancel){this.focusTask.cancel()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true}}},deleteMembers:function(){var d=arguments;for(var g=0,e=d.length;g<e;++g){delete this[d[g]]}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.getId()},focus:function(c,d){if(d){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[c,false]);this.focusTask.delay(Ext.isNumber(d)?d:10);return}if(this.rendered&&!this.isDestroyed){this.el.focus();if(c===true){this.el.dom.select()}}return this},blur:function(){if(this.rendered){this.el.blur()}return this},disable:function(b){if(this.rendered){this.onDisable()}this.disabled=true;if(b!==true){this.fireEvent("disable",this)}return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true},enable:function(){if(this.rendered){this.onEnable()}this.disabled=false;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false},setDisabled:function(b){return this[b?"disable":"enable"]()},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}if(this.rendered){this.onShow()}this.fireEvent("show",this)}return this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.doHide();this.fireEvent("hide",this)}return this},doHide:function(){this.hidden=true;if(this.rendered){this.onHide()}},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(b){return this[b?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(d){d=d||{};var g=d.id||Ext.id();var e=Ext.applyIf(d,this.initialConfig);e.id=g;return new this.constructor(e)},getXType:function(){return this.constructor.xtype},isXType:function(c,d){if(Ext.isFunction(c)){c=c.xtype}else{if(Ext.isObject(c)){c=c.constructor.xtype}}return !d?("/"+this.getXTypes()+"/").indexOf("/"+c+"/")!=-1:this.constructor.xtype==c},getXTypes:function(){var e=this.constructor;if(!e.xtypes){var g=[],c=this;while(c&&c.constructor.xtype){g.unshift(c.constructor.xtype);c=c.constructor.superclass}e.xtypeChain=g;e.xtypes=g.join("/")}return e.xtypes},findParentBy:function(d){for(var c=this.ownerCt;(c!=null)&&!d(c,this);c=c.ownerCt){}return c||null},findParentByType:function(b){return Ext.isFunction(b)?this.findParentBy(function(a){return a.constructor===b}):this.findParentBy(function(a){return a.constructor.xtype===b})},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons){this.on("beforedestroy",this.clearMons,this,{single:true})}},clearMons:function(){Ext.each(this.mons,function(b){b.item.un(b.ename,b.fn,b.scope)},this);this.mons=[]},createMons:function(){if(!this.mons){this.mons=[];this.on("beforedestroy",this.clearMons,this,{single:true})}},mon:function(o,e,p,q,k){this.createMons();if(Ext.isObject(e)){var l=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var m=e;for(var n in m){if(l.test(n)){continue}if(Ext.isFunction(m[n])){this.mons.push({item:o,ename:n,fn:m[n],scope:m.scope});o.on(n,m[n],m.scope,m)}else{this.mons.push({item:o,ename:n,fn:m[n],scope:m.scope});o.on(n,m[n])}}return}this.mons.push({item:o,ename:e,fn:p,scope:q});o.on(e,p,q,k)},mun:function(m,q,n,o){var l,p;this.createMons();for(var i=0,k=this.mons.length;i<k;++i){p=this.mons[i];if(m===p.item&&q==p.ename&&n===p.fn&&o===p.scope){this.mons.splice(i,1);m.un(q,n,o);l=true;break}}return l},nextSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b!=-1&&b+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(b+1)}}return null},previousSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b>0){return this.ownerCt.items.itemAt(b-1)}}return null},getBubbleTarget:function(){return this.ownerCt}});Ext.reg("component",Ext.Component);Ext.Action=Ext.extend(Object,{constructor:function(b){this.initialConfig=b;this.itemId=b.itemId=(b.itemId||b.id||Ext.id());this.items=[]},isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b])},getText:function(){return this.initialConfig.text},setIconClass:function(b){this.initialConfig.iconCls=b;this.callEach("setIconClass",[b])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(c,d){this.initialConfig.handler=c;this.initialConfig.scope=d;this.callEach("setHandler",[c,d])},each:function(c,d){Ext.each(this.items,c,d)},callEach:function(i,g){var j=this.items;for(var k=0,h=j.length;k<h;k++){j[k][i].apply(j[k],g)}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this)},removeComponent:function(b){this.items.remove(b)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}});(function(){Ext.Layer=function(l,m){l=l||{};var k=Ext.DomHelper;var b=l.parentEl,j=b?Ext.getDom(b):document.body;if(m){this.dom=Ext.getDom(m)}if(!this.dom){var a=l.dh||{tag:"div",cls:"x-layer"};this.dom=k.append(j,a)}if(l.cls){this.addClass(l.cls)}this.constrain=l.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(l.id){this.id=this.dom.id=l.id}else{this.id=Ext.id(this.dom)}this.zindex=l.zindex||this.getZIndex();this.position("absolute",this.zindex);if(l.shadow){this.shadowOffset=l.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:l.shadow})}else{this.shadowOffset=0}this.useShim=l.shim!==false&&Ext.useShims;this.useDisplay=l.useDisplay;this.hide()};var d=Ext.Element.prototype;var c=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var a=c.shift();if(!a){a=this.createShim();a.enableDisplayMode("block");a.dom.style.display="none";a.dom.style.visibility="visible"}var b=this.dom.parentNode;if(a.dom.parentNode!=b){b.insertBefore(a.dom,this.dom)}a.setStyle("z-index",this.getZIndex()-2);this.shim=a;return a},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);c.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(a){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(a){this.sync(true)}}},sync:function(t){var b=this.shadow;if(!this.updating&&this.isVisible()&&(b||this.useShim)){var q=this.getShim(),h=this.getWidth(),p=this.getHeight(),s=this.getLeft(true),a=this.getTop(true);if(b&&!this.shadowDisabled){if(t&&!b.isVisible()){b.show(this)}else{b.realign(s,a,h,p)}if(q){if(t){q.show()}var l=b.el.getXY(),r=q.dom.style,u=b.el.getSize();r.left=(l[0])+"px";r.top=(l[1])+"px";r.width=(u.width)+"px";r.height=(u.height)+"px"}}else{if(q){if(t){q.show()}q.setSize(h,p);q.setLeftTop(s,a)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(a){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var r=Ext.lib.Dom.getViewWidth(),v=Ext.lib.Dom.getViewHeight();var a=Ext.getDoc().getScroll();var b=this.getXY();var q=b[0],s=b[1];var x=this.shadowOffset;var p=this.dom.offsetWidth+x,u=this.dom.offsetHeight+x;var t=false;if((q+p)>r+a.left){q=r-p-x;t=true}if((s+u)>v+a.top){s=v-u-x;t=true}if(q<a.left){q=a.left;t=true}if(s<a.top){s=a.top;t=true}if(t){if(this.avoidY){var h=this.avoidY;if(s<=h&&(s+u)>=h){s=h-u-5}}b=[q,s];this.storeXY(b);d.setXY.call(this,b);this.sync()}}return this},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){d.setXY.call(this,this.lastXY)}else{if(this.lastLT){d.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(m,n,b,a,e){if(m){this.showAction()}if(n&&m){var o=function(){this.sync(true);if(a){a()}}.createDelegate(this);d.setVisible.call(this,true,true,b,o,e)}else{if(!m){this.hideUnders(true)}var o=a;if(n){o=function(){this.hideAction();if(a){a()}}.createDelegate(this)}d.setVisible.call(this,m,n,b,o,e);if(m){this.sync(true)}else{if(!n){this.hideAction()}}}return this},storeXY:function(a){delete this.lastLT;this.lastXY=a},storeLeftTop:function(a,b){delete this.lastXY;this.lastLT=[a,b]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.storeLeftTop(a,this.getTop(true));d.setLeft.apply(this,arguments);this.sync();return this},setTop:function(a){this.storeLeftTop(this.getLeft(true),a);d.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(a,b){this.storeLeftTop(a,b);d.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(e,n,b,a,m){this.fixDisplay();this.beforeAction();this.storeXY(e);var o=this.createCB(a);d.setXY.call(this,e,n,b,o,m);if(!n){o()}return this},createCB:function(a){var b=this;return function(){b.constrainXY();b.sync(true);if(a){a()}}},setX:function(m,l,b,a,e){this.setXY([m,this.getY()],l,b,a,e);return this},setY:function(a,m,e,b,l){this.setXY([this.getX(),a],m,e,b,l);return this},setSize:function(h,e,o,a,q,b){this.beforeAction();var p=this.createCB(q);d.setSize.call(this,h,e,o,a,p,b);if(!o){p()}return this},setWidth:function(m,n,b,a,e){this.beforeAction();var o=this.createCB(a);d.setWidth.call(this,m,n,b,o,e);if(!n){o()}return this},setHeight:function(h,n,b,a,e){this.beforeAction();var o=this.createCB(a);d.setHeight.call(this,h,n,b,o,e);if(!n){o()}return this},setBounds:function(b,h,a,t,e,r,q,s){this.beforeAction();var u=this.createCB(q);if(!e){this.storeXY([b,h]);d.setXY.call(this,[b,h]);d.setSize.call(this,a,t,e,r,u,s);u()}else{d.setBounds.call(this,b,h,a,t,e,r,u,s)}return this},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);if(this.shadow){this.shadow.setZIndex(a+1)}if(this.shim){this.shim.setStyle("z-index",a)}return this}})})();Ext.Shadow=function(h){Ext.apply(this,h);if(typeof this.mode!="string"){this.mode=this.defaultMode}var g=this.offset,i={h:0};var a=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":i.w=0;i.l=i.t=g;i.t-=1;if(Ext.isIE){i.l-=this.offset+a;i.t-=this.offset+a;i.w-=a;i.h-=a;i.t+=1}break;case"sides":i.w=(g*2);i.l=-g;i.t=g-1;if(Ext.isIE){i.l-=(this.offset-a);i.t-=this.offset+a;i.l+=1;i.w-=(this.offset-a)*2;i.w-=a+1;i.h-=1}break;case"frame":i.w=i.h=(g*2);i.l=i.t=-g;i.t+=1;i.h-=2;if(Ext.isIE){i.l-=(this.offset-a);i.t-=(this.offset-a);i.l+=1;i.w-=(this.offset+a+1);i.h-=(this.offset+a);i.h+=1}break}this.adjusts=i};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(b){b=Ext.get(b);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=b.dom){this.el.insertBefore(b)}}this.el.setStyle("z-index",this.zIndex||parseInt(b.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(b.getLeft(true),b.getTop(true),b.getWidth(),b.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(C,a,d,z){if(!this.el){return}var s=this.adjusts,v=this.el.dom,D=v.style;var y=0;D.left=(C+s.l)+"px";D.top=(a+s.t)+"px";var h=(d+s.w),A=(z+s.h),x=h+"px",l=A+"px";if(D.width!=x||D.height!=l){D.width=x;D.height=l;if(!Ext.isIE){var t=v.childNodes;var B=Math.max(0,(h-12))+"px";t[0].childNodes[1].style.width=B;t[1].childNodes[1].style.width=B;t[2].childNodes[1].style.width=B;t[1].style.height=Math.max(0,(A-12))+"px"}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b)}}};Ext.Shadow.Pool=function(){var c=[];var d=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var a=c.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,d));a.autoBoxAdjust=false}return a},push:function(a){c.push(a)}}}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:false,deferHeight:false,setSize:function(h,l){if(typeof h=="object"){l=h.height;h=h.width}if(Ext.isDefined(h)&&Ext.isDefined(this.boxMinWidth)&&(h<this.boxMinWidth)){h=this.boxMinWidth}if(Ext.isDefined(l)&&Ext.isDefined(this.boxMinHeight)&&(l<this.boxMinHeight)){l=this.boxMinHeight}if(Ext.isDefined(h)&&Ext.isDefined(this.boxMaxWidth)&&(h>this.boxMaxWidth)){h=this.boxMaxWidth}if(Ext.isDefined(l)&&Ext.isDefined(this.boxMaxHeight)&&(l>this.boxMaxHeight)){l=this.boxMaxHeight}if(!this.boxReady){this.width=h;this.height=l;return this}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==h&&this.lastSize.height==l){return this}this.lastSize={width:h,height:l};var m=this.adjustSize(h,l),j=m.width,i=m.height,k;if(j!==undefined||i!==undefined){k=this.getResizeEl();if(!this.deferHeight&&j!==undefined&&i!==undefined){k.setSize(j,i)}else{if(!this.deferHeight&&i!==undefined){k.setHeight(i)}else{if(j!==undefined){k.setWidth(j)}}}this.onResize(j,i,h,l);this.fireEvent("resize",this,j,i,h,l)}return this},setWidth:function(b){return this.setSize(b)},setHeight:function(b){return this.setSize(undefined,b)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var b=this.getResizeEl();return{width:b.getWidth()+b.getMargins("lr"),height:b.getHeight()+b.getMargins("tb")}},getPosition:function(d){var c=this.getPositionEl();if(d===true){return[c.getLeft(true),c.getTop(true)]}return this.xy||c.getXY()},getBox:function(e){var g=this.getPosition(e);var d=this.getSize();d.x=g[0];d.y=g[1];return d},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(b){if(this.rendered){this.getContentTarget().setOverflow(b?"auto":"")}this.autoScroll=b;return this},setPosition:function(i,j){if(i&&typeof i[1]=="number"){j=i[1];i=i[0]}this.x=i;this.y=j;if(!this.boxReady){return this}var h=this.adjustPosition(i,j);var k=h.x,l=h.y;var m=this.getPositionEl();if(k!==undefined||l!==undefined){if(k!==undefined&&l!==undefined){m.setLeftTop(k,l)}else{if(k!==undefined){m.setLeft(k)}else{if(l!==undefined){m.setTop(l)}}}this.onPosition(k,l);this.fireEvent("move",this,k,l)}return this},setPagePosition:function(e,g){if(e&&typeof e[1]=="number"){g=e[1];e=e[0]}this.pageX=e;this.pageY=g;if(!this.boxReady){return}if(e===undefined||g===undefined){return}var d=this.getPositionEl().translatePoints(e,g);this.setPosition(d.left,d.top);return this},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl)}if(this.positionEl){this.positionEl=Ext.get(this.positionEl)}this.boxReady=true;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y)}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY)}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this},onResize:function(h,e,g,i){},onPosition:function(d,c){},adjustSize:function(d,c){if(this.autoWidth){d="auto"}if(this.autoHeight){c="auto"}return{width:d,height:c}},adjustPosition:function(d,c){return{x:d,y:c}}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(k,i,g,j,h){this.el=Ext.get(k,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(i,true);this.orientation=g||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!h){this.proxy=Ext.SplitBar.createProxy(this.orientation)}else{this.proxy=Ext.get(h).dom}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=j||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h")}else{this.placement=j||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v")}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(h,i){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var k=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var j=k-this.activeMinSize;var g=Math.max(this.activeMaxSize-k,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?j:g,this.placement==Ext.SplitBar.LEFT?g:j,this.tickSize);this.dd.setYConstraint(0,0)}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?j:g,this.placement==Ext.SplitBar.TOP?g:j,this.tickSize)}this.dragSpecs.startSize=k;this.dragSpecs.startPoint=[h,i];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,h,i)},onEndProxyDrag:function(g){Ext.get(this.proxy).setDisplayed(false);var d=Ext.lib.Event.getXY(g);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay}var e;if(this.orientation==Ext.SplitBar.HORIZONTAL){e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?d[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-d[0])}else{e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?d[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-d[1])}e=Math.min(Math.max(e,this.activeMinSize),this.activeMaxSize);if(e!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,e)!==false){this.adapter.setElementSize(this,e);this.fireEvent("moved",this,e);this.fireEvent("resize",this,e)}}},getAdapter:function(){return this.adapter},setAdapter:function(b){this.adapter=b;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(b){this.minSize=b},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(b){this.maxSize=b},setCurrentSize:function(c){var d=this.animate;this.animate=false;this.adapter.setElementSize(this,c);this.animate=d},destroy:function(b){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();if(b){this.el.remove()}this.purgeListeners()}});Ext.SplitBar.createProxy=function(d){var g=new Ext.Element(document.createElement("div"));document.body.appendChild(g.dom);g.unselectable();var e="x-splitbar-proxy";g.addClass(e+" "+(d==Ext.SplitBar.HORIZONTAL?e+"-h":e+"-v"));return g.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(b){},getElementSize:function(b){if(b.orientation==Ext.SplitBar.HORIZONTAL){return b.resizingEl.getWidth()}else{return b.resizingEl.getHeight()}},setElementSize:function(d,e,g){if(d.orientation==Ext.SplitBar.HORIZONTAL){if(!d.animate){d.resizingEl.setWidth(e);if(g){g(d,e)}}else{d.resizingEl.setWidth(e,true,0.1,g,"easeOut")}}else{if(!d.animate){d.resizingEl.setHeight(e);if(g){g(d,e)}}else{d.resizingEl.setHeight(e,true,0.1,g,"easeOut")}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(b){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(b)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(b){this.basic.init(b)},getElementSize:function(b){return this.basic.getElementSize(b)},setElementSize:function(d,e,g){this.basic.setElementSize(d,e,this.moveSplitter.createDelegate(this,[d]))},moveSplitter:function(d){var c=Ext.SplitBar;switch(d.placement){case c.LEFT:d.el.setX(d.resizingEl.getRight());break;case c.RIGHT:d.el.setStyle("right",(this.container.getWidth()-d.resizingEl.getLeft())+"px");break;case c.TOP:d.el.setY(d.resizingEl.getBottom());break;case c.BOTTOM:d.el.setY(d.resizingEl.getTop()-d.el.getHeight());break}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:true,forceLayout:false,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var b=this.items;if(b){delete this.items;this.add(b)}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout()}},setLayout:function(b){if(this.layout&&this.layout!=b){this.layout.setContainer(null)}this.initItems();this.layout=b;b.setContainer(this)},afterRender:function(){Ext.Container.superclass.afterRender.call(this);if(!this.layout){this.layout="auto"}if(Ext.isObject(this.layout)&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type}if(Ext.isString(this.layout)){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig)}this.setLayout(this.layout);if(this.activeItem!==undefined){var b=this.activeItem;delete this.activeItem;this.layout.setActiveItem(b)}if(!this.ownerCt){this.doLayout(false,true)}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false])}},getLayoutTarget:function(){return this.el},getComponentId:function(b){return b.getItemId()},add:function(c){this.initItems();var j=arguments.length>1;if(j||Ext.isArray(c)){var h=[];Ext.each(j?arguments:c,function(a){h.push(this.add(a))},this);return h}var i=this.lookupComponent(this.applyDefaults(c));var k=this.items.length;if(this.fireEvent("beforeadd",this,i,k)!==false&&this.onBeforeAdd(i)!==false){this.items.add(i);i.onAdded(this,k);this.onAdd(i);this.fireEvent("add",this,i,k)}return i},onAdd:function(b){},onAdded:function(d,c){this.ownerCt=d;this.initRef();this.cascade(function(a){a.initRef()});this.fireEvent("added",this,d,c)},insert:function(l,m){this.initItems();var n=arguments,o=n.length;if(o>2){var a=[];for(var i=o-1;i>=1;--i){a.push(this.insert(l,n[i]))}return a}var c=this.lookupComponent(this.applyDefaults(m));l=Math.min(l,this.items.length);if(this.fireEvent("beforeadd",this,c,l)!==false&&this.onBeforeAdd(c)!==false){if(c.ownerCt==this){this.items.remove(c)}this.items.insert(l,c);c.onAdded(this,l);this.onAdd(c);this.fireEvent("add",this,c,l)}return c},applyDefaults:function(c){var d=this.defaults;if(d){if(Ext.isFunction(d)){d=d.call(this,c)}if(Ext.isString(c)){c=Ext.ComponentMgr.get(c);Ext.apply(c,d)}else{if(!c.events){Ext.applyIf(c,d)}else{Ext.apply(c,d)}}}return c},onBeforeAdd:function(b){if(b.ownerCt){b.ownerCt.remove(b,false)}if(this.hideBorders===true){b.border=(b.border===true)}},remove:function(e,c){this.initItems();var g=this.getComponent(e);if(g&&this.fireEvent("beforeremove",this,g)!==false){this.doRemove(g,c);this.fireEvent("remove",this,g)}return g},onRemove:function(b){},doRemove:function(h,i){var c=this.layout,g=c&&this.rendered;if(g){c.onRemove(h)}this.items.remove(h);h.onRemoved();this.onRemove(h);if(i===true||(i!==false&&this.autoDestroy)){h.destroy()}if(g){c.afterRemove(h)}},removeAll:function(m){this.initItems();var k,j=[],h=[];this.items.each(function(a){j.push(a)});for(var l=0,i=j.length;l<i;++l){k=j[l];this.remove(k,m);if(k.ownerCt!==this){h.push(k)}}return h},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.items.get(b)},lookupComponent:function(b){if(Ext.isString(b)){return Ext.ComponentMgr.get(b)}else{if(!b.events){return this.createComponent(b)}}return b},createComponent:function(e,g){if(e.render){return e}var c=Ext.create(Ext.apply({ownerCt:this},e),g||this.defaultType);delete c.initialConfig.ownerCt;delete c.ownerCt;return c},canLayout:function(){var b=this.getVisibilityEl();return b&&b.dom&&!b.isStyle("display","none")},doLayout:function(o,p){var l=this.rendered,m=p||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!o;if(!m){return}o=o&&!this.deferLayout}else{delete this.deferLayout}if(l&&this.layout){this.layout.layout()}if(o!==true&&this.items){var q=this.items.items;for(var c=0,i=q.length;c<i;c++){var n=q[c];if(n.doLayout){n.doLayout(false,m)}}}if(l){this.onLayout(o,m)}this.hasLayout=true;delete this.forceLayout},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var b=this.hasLayout;if(this.ownerCt){return b?!this.hasLayoutPending():false}return b},hasLayoutPending:function(){var b=false;this.ownerCt.bubble(function(a){if(a.layoutPending){b=true;return false}});return b},onShow:function(){Ext.Container.superclass.onShow.call(this);if(Ext.isDefined(this.deferLayout)){delete this.deferLayout;this.doLayout(true)}},getLayout:function(){if(!this.layout){var b=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(b)}return this.layout},beforeDestroy:function(){var b;if(this.items){while(b=this.items.first()){this.doRemove(b,true)}}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this)}Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this)},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break}h=h.ownerCt}return this},cascade:function(j,k,h){if(j.apply(k||this,h||[this])!==false){if(this.items){var l=this.items.items;for(var m=0,i=l.length;m<i;m++){if(l[m].cascade){l[m].cascade(j,k,h)}else{j.apply(k||l[m],h||[l[m]])}}}}return this},findById:function(g){var e,d=this;this.cascade(function(a){if(d!=a&&a.id===g){e=a;return false}});return e||null},findByType:function(c,d){return this.findBy(function(a){return a.isXType(c,d)})},find:function(c,d){return this.findBy(function(a){return a[c]===d})},findBy:function(h,i){var g=[],e=this;this.cascade(function(a){if(e!=a&&h.call(i||a,a,e)===true){g.push(a)}});return g},get:function(b){return this.items.get(b)}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:false,activeItem:null,constructor:function(b){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,b)},type:"container",IEMeasureHack:function(i,q){var s=i.dom.childNodes,r=s.length,c,d=[],e,p,o;for(p=0;p<r;p++){c=s[p];e=Ext.get(c);if(e){d[p]=e.getStyle("display");e.setStyle({display:"none"})}}o=i?i.getViewSize(q):{};for(p=0;p<r;p++){c=s[p];e=Ext.get(c);if(e){e.setStyle({display:d[p]})}}return o},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var d=this.container,c=d.getLayoutTarget();if(!(this.hasLayout||Ext.isEmpty(this.targetCls))){c.addClass(this.targetCls)}this.onLayout(d,c);d.fireEvent("afterlayout",d,this)},onLayout:function(d,c){this.renderAll(d,c)},isValidParent:function(c,d){return d&&c.getPositionEl().dom.parentNode==(d.dom||d)},renderAll:function(l,k){var c=l.items.items,m,j,i=c.length;for(m=0;m<i;m++){j=c[m];if(j&&(!j.rendered||!this.isValidParent(j,k))){this.renderItem(j,m,k)}}},renderItem:function(g,e,c){if(g){if(!g.rendered){g.render(c,e);this.configureItem(g,e)}else{if(!this.isValidParent(g,c)){if(Ext.isNumber(e)){e=c.dom.childNodes[e]}c.dom.insertBefore(g.getPositionEl().dom,e||null);g.container=c;this.configureItem(g,e)}}}},getRenderedItems:function(m){var n=m.getLayoutTarget(),l=m.items.items,i=l.length,o,k,c=[];for(o=0;o<i;o++){if((k=l[o]).rendered&&this.isValidParent(k,n)){c.push(k)}}return c},configureItem:function(g,e){if(this.extraCls){var c=g.getPositionEl?g.getPositionEl():g;c.addClass(this.extraCls)}if(g.doLayout&&this.forceLayout){g.doLayout()}if(this.renderHidden&&g!=this.activeItem){g.hide()}},onRemove:function(c){if(this.activeItem==c){delete this.activeItem}if(c.rendered&&this.extraCls){var d=c.getPositionEl?c.getPositionEl():c;d.removeClass(this.extraCls)}},afterRemove:function(b){if(b.removeRestore){b.removeMode="container";delete b.removeRestore}},onResize:function(){var d=this.container,b;if(d.collapsed){return}if(b=d.bufferResize&&d.shouldBufferLayout()){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this);this.resizeBuffer=Ext.isNumber(b)?b:50}d.layoutPending=true;this.resizeTask.delay(this.resizeBuffer)}else{this.runLayout()}},runLayout:function(){var b=this.container;this.layout();b.onLayout();delete b.layoutPending},setContainer:function(c){if(this.monitorResize&&c!=this.container){var d=this.container;if(d){d.un(d.resizeEvent,this.onResize,this)}if(c){c.on(c.resizeEvent,this.onResize,this)}}this.container=c},parseMargins:function(d){if(Ext.isNumber(d)){d=d.toString()}var g=d.split(" "),e=g.length;if(e==1){g[1]=g[2]=g[3]=g[0]}else{if(e==2){g[2]=g[0];g[3]=g[1]}else{if(e==3){g[3]=g[1]}}}return{top:parseInt(g[0],10)||0,right:parseInt(g[1],10)||0,bottom:parseInt(g[2],10)||0,left:parseInt(g[3],10)||0}},fieldTpl:(function(){var b=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");b.disableFormats=true;return b.compile()})(),destroy:function(){if(this.resizeTask&&this.resizeTask.cancel){this.resizeTask.cancel()}if(!Ext.isEmpty(this.targetCls)){var b=this.container.getLayoutTarget();if(b){b.removeClass(this.targetCls)}}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:true,onLayout:function(m,k){Ext.layout.AutoLayout.superclass.onLayout.call(this,m,k);var l=this.getRenderedItems(m),i=l.length,c,j;for(c=0;c<i;c++){j=l[c];if(j.doLayout){j.doLayout(true)}}}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"fit",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();if(!b){return{}}return b.getStyleSize()},onLayout:function(d,c){Ext.layout.FitLayout.superclass.onLayout.call(this,d,c);if(!d.collapsed){this.setItemSize(this.activeItem||d.items.itemAt(0),this.getLayoutTargetSize())}},setItemSize:function(c,d){if(c&&d.height>0){c.setSize(d)}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,layoutOnCardChange:false,renderHidden:true,type:"card",setActiveItem:function(h){var g=this.activeItem,e=this.container;h=e.getComponent(h);if(h&&g!=h){if(g){g.hide();if(g.hidden!==true){return false}g.fireEvent("deactivate",g)}var i=h.doLayout&&(this.layoutOnCardChange||!h.rendered);this.activeItem=h;delete h.deferLayout;h.show();this.layout();if(i){h.doLayout()}h.fireEvent("activate",h)}},renderAll:function(d,c){if(this.deferredRender){this.renderItem(this.activeItem,undefined,c)}else{Ext.layout.CardLayout.superclass.renderAll.call(this,d,c)}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();if(!b){return{}}return b.getStyleSize()},onLayout:function(y,h){Ext.layout.AnchorLayout.superclass.onLayout.call(this,y,h);var G=this.getLayoutTargetSize();var I=G.width,z=G.height;if(I<20&&z<20){return}var E,a;if(y.anchorSize){if(typeof y.anchorSize=="number"){E=y.anchorSize}else{E=y.anchorSize.width;a=y.anchorSize.height}}else{E=y.initialConfig.width;a=y.initialConfig.height}var i=this.getRenderedItems(y),x=i.length,B,c,J,C,F,D,H,A=[];for(B=0;B<x;B++){c=i[B];D=c.getPositionEl();if(!c.anchor&&c.items&&!Ext.isNumber(c.width)&&!(Ext.isIE6&&Ext.isStrict)){c.anchor=this.defaultAnchor}if(c.anchor){J=c.anchorSpec;if(!J){H=c.anchor.split(" ");c.anchorSpec=J={right:this.parseAnchor(H[0],c.initialConfig.width,E),bottom:this.parseAnchor(H[1],c.initialConfig.height,a)}}C=J.right?this.adjustWidthAnchor(J.right(I)-D.getMargins("lr"),c):undefined;F=J.bottom?this.adjustHeightAnchor(J.bottom(z)-D.getMargins("tb"),c):undefined;if(C||F){A.push({comp:c,width:C||undefined,height:F||undefined})}}}for(B=0,x=A.length;B<x;B++){c=A[B];c.comp.setSize(c.width,c.height)}},parseAnchor:function(m,i,a){if(m&&m!="none"){var k;if(this.parseAnchorRE.test(m)){var j=a-i;return function(b){if(b!==k){k=b;return b-j}}}else{if(m.indexOf("%")!=-1){var l=parseFloat(m.replace("%",""))*0.01;return function(b){if(b!==k){k=b;return Math.floor(b*l)}}}else{m=parseInt(m,10);if(!isNaN(m)){return function(b){if(b!==k){k=b;return b+m}}}}}}return false},adjustWidthAnchor:function(c,d){return c},adjustHeightAnchor:function(c,d){return c}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(c,d){return this.innerCt&&c.getPositionEl().dom.parentNode==this.innerCt.dom},getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize()}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb")}return d},renderAll:function(d,c){if(!this.innerCt){this.innerCt=c.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"})}Ext.layout.ColumnLayout.superclass.renderAll.call(this,d,this.innerCt)},onLayout:function(y,u){var x=y.items.items,v=x.length,s,A,B,m=[];this.renderAll(y,u);var c=this.getLayoutTargetSize();if(c.width<1&&c.height<1){return}var i=c.width-this.scrollOffset,z=c.height,h=i;this.innerCt.setWidth(i);for(A=0;A<v;A++){s=x[A];B=s.getPositionEl().getMargins("lr");m[A]=B;if(!s.columnWidth){h-=(s.getWidth()+B)}}h=h<0?0:h;for(A=0;A<v;A++){s=x[A];B=m[A];if(s.columnWidth){s.setSize(Math.floor(s.columnWidth*h)-B)}}if(Ext.isIE){if(A=u.getStyle("overflow")&&A!="hidden"&&!this.adjustmentPass){var t=this.getLayoutTargetSize();if(t.width!=c.width){this.adjustmentPass=true;this.onLayout(y,u)}}}delete this.adjustmentPass}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,type:"border",targetCls:"x-border-layout-ct",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();return b?b.getViewSize():{}},onLayout:function(X,e){var W,P,s,T,h=X.items.items,N=h.length;if(!this.rendered){W=[];for(P=0;P<N;P++){s=h[P];T=s.region;if(s.collapsed){W.push(s)}s.collapsed=false;if(!s.rendered){s.render(e,P);s.getPositionEl().addClass("x-border-panel")}this[T]=T!="center"&&s.split?new Ext.layout.BorderLayout.SplitRegion(this,s.initialConfig,T):new Ext.layout.BorderLayout.Region(this,s.initialConfig,T);this[T].render(e,s)}this.rendered=true}var n=this.getLayoutTargetSize();if(n.width<20||n.height<20){if(W){this.restoreCollapsed=W}return}else{if(this.restoreCollapsed){W=this.restoreCollapsed;delete this.restoreCollapsed}}var L=n.width,M=n.height,O=L,R=M,S=0,Q=0,c=this.north,J=this.south,U=this.west,K=this.east,s=this.center,i,b,Y,m;if(!s&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+X.id}if(c&&c.isVisible()){i=c.getSize();b=c.getMargins();i.width=L-(b.left+b.right);i.x=b.left;i.y=b.top;S=i.height+i.y+b.bottom;R-=S;c.applyLayout(i)}if(J&&J.isVisible()){i=J.getSize();b=J.getMargins();i.width=L-(b.left+b.right);i.x=b.left;m=(i.height+b.top+b.bottom);i.y=M-m+b.top;R-=m;J.applyLayout(i)}if(U&&U.isVisible()){i=U.getSize();b=U.getMargins();i.height=R-(b.top+b.bottom);i.x=b.left;i.y=S+b.top;Y=(i.width+b.left+b.right);Q+=Y;O-=Y;U.applyLayout(i)}if(K&&K.isVisible()){i=K.getSize();b=K.getMargins();i.height=R-(b.top+b.bottom);Y=(i.width+b.left+b.right);i.x=L-Y+b.left;i.y=S+b.top;O-=Y;K.applyLayout(i)}if(s){b=s.getMargins();var V={x:Q+b.left,y:S+b.top,width:O-(b.left+b.right),height:R-(b.top+b.bottom)};s.applyLayout(V)}if(W){for(P=0,N=W.length;P<N;P++){W[P].collapse(false)}}if(Ext.isIE&&Ext.isStrict){e.repaint()}if(P=e.getStyle("overflow")&&P!="hidden"&&!this.adjustmentPass){var Z=this.getLayoutTargetSize();if(Z.width!=n.width||Z.height!=n.height){this.adjustmentPass=true;this.onLayout(X,e)}}delete this.adjustmentPass},destroy:function(){var d=["north","south","east","west"],e,g;for(e=0;e<d.length;e++){g=this[d[e]];if(g){if(g.destroy){g.destroy()}else{if(g.split){g.split.destroy(true)}}}}Ext.layout.BorderLayout.superclass.destroy.call(this)}});Ext.layout.BorderLayout.Region=function(d,e,g){Ext.apply(this,e);this.layout=d;this.position=g;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins)}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins)}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0}}else{this.cmargins=Ext.applyIf(this.cmargins||{},g=="north"||g=="south"?this.defaultNSCMargins:this.defaultEWCMargins)}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(e,i){this.panel=i;i.el.enableDisplayMode();this.targetEl=e;this.el=i.el;var g=i.getState,h=this.position;i.getState=function(){return Ext.apply(g.call(i)||{},this.state)}.createDelegate(this);if(h!="center"){i.allowQueuedExpand=false;i.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible||this.floatable){i.collapseEl="el";i.slideAnchor=this.getSlideAnchor()}if(i.tools&&i.tools.toggle){i.tools.toggle.addClass("x-tool-collapse-"+h);i.tools.toggle.addClassOnOver("x-tool-collapse-"+h+"-over")}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var c=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');c.disableFormats=true;c.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=c}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true})}else{if(this.collapsible!==false&&!this.hideCollapseTool){var d=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);d.addClassOnOver("x-tool-expand-"+this.position+"-over");d.on("click",this.onExpandClick,this,{stopEvent:true})}if(this.floatable!==false||this.titleCollapse){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this[this.floatable?"collapseClick":"onExpandClick"],this)}}}return this.collapsedEl},onExpandClick:function(b){if(this.isSlid){this.panel.expand(false)}else{this.panel.expand()}},onCollapseClick:function(b){this.panel.collapse()},beforeCollapse:function(g,e){this.lastAnim=e;if(this.splitEl){this.splitEl.hide()}this.getCollapsedEl().show();var d=this.panel.getEl();this.originalZIndex=d.getStyle("z-index");d.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout()},onCollapse:function(b){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible"}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2})}this.state.collapsed=true;this.panel.saveState()},beforeExpand:function(d){if(this.isSlid){this.afterSlideIn()}var c=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,c.getHeight())}else{this.panel.setSize(c.getWidth(),undefined)}c.hide();c.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex)},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show()}this.layout.layout();this.panel.el.setStyle("z-index",this.originalZIndex);this.state.collapsed=false;this.panel.saveState()},collapseClick:function(b){if(this.isSlid){b.stopPropagation();this.slideIn()}else{b.stopPropagation();this.slideOut()}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide()}else{if(this.splitEl){this.splitEl.hide()}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show()}else{if(this.splitEl){this.splitEl.show()}}},isVisible:function(){return !this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(b){this.panel=b},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(d){var c=this.getCollapsedEl();c.setLeftTop(d.x,d.y);c.setSize(d.width,d.height)},applyLayout:function(b){if(this.isCollapsed){this.applyLayoutCollapsed(b)}else{this.panel.setPosition(b.x,b.y);this.panel.setSize(b.width,b.height)}},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){this.autoHideSlideTask=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(b){if(!b.within(this.el,true)){this.autoHideSlideTask.delay(500)}},mouseover:function(b){this.autoHideSlideTask.cancel()},scope:this}}this.el.on(this.autoHideHd);this.collapsedEl.on(this.autoHideHd)}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);this.collapsedEl.un("mouseout",this.autoHideHd.mouseout);this.collapsedEl.un("mouseover",this.autoHideHd.mouseover)}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return}this.isSlid=true;var d=this.panel.tools,g,e;if(d&&d.toggle){d.toggle.hide()}this.el.show();e=this.panel.collapsed;this.panel.collapsed=false;if(this.position=="east"||this.position=="west"){g=this.panel.deferHeight;this.panel.deferHeight=false;this.panel.setSize(undefined,this.collapsedEl.getHeight());this.panel.deferHeight=g}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined)}this.panel.collapsed=e;this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating");if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:true})}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var b=this.panel.tools;if(b&&b.toggle){b.toggle.show()}},slideIn:function(b){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(b);return}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(b)},scope:this,block:true})}else{this.el.hide();this.afterSlideIn()}},slideInIf:function(b){if(!b.within(this.el)){this.slideIn()}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){var b=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break}},getExpandAdj:function(){var c=this.collapsedEl,d=this.cmargins;switch(this.position){case"west":return[-(d.right+c.getWidth()+d.left),0];break;case"east":return[d.right+c.getWidth()+d.left,0];break;case"north":return[0,-(d.top+d.bottom+c.getHeight())];break;case"south":return[0,d.top+d.bottom+c.getHeight()];break}},destroy:function(){if(this.autoHideSlideTask&&this.autoHideSlideTask.cancel){this.autoHideSlideTask.cancel()}Ext.destroy(this.miniCollapsedEl,this.collapsedEl)}};Ext.layout.BorderLayout.SplitRegion=function(d,e,g){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,d,e,g);this.applyLayout=this.applyFns[g]};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i)}var h=this.splitEl.dom,e=h.style;this.panel.setPosition(i.x,i.y);var g=h.offsetWidth;e.left=(i.x+i.width-g)+"px";e.top=(i.y)+"px";e.height=Math.max(0,i.height)+"px";this.panel.setSize(i.width-g,i.height)},east:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i)}var h=this.splitEl.dom,e=h.style;var g=h.offsetWidth;this.panel.setPosition(i.x+g,i.y);e.left=(i.x)+"px";e.top=(i.y)+"px";e.height=Math.max(0,i.height)+"px";this.panel.setSize(i.width-g,i.height)},north:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i)}var h=this.splitEl.dom,e=h.style;var g=h.offsetHeight;this.panel.setPosition(i.x,i.y);e.left=(i.x)+"px";e.top=(i.y+i.height-g)+"px";e.width=Math.max(0,i.width)+"px";this.panel.setSize(i.width,i.height-g)},south:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i)}var h=this.splitEl.dom,e=h.style;var g=h.offsetHeight;this.panel.setPosition(i.x,i.y+g);e.left=(i.x)+"px";e.top=(i.y)+"px";e.width=Math.max(0,i.width)+"px";this.panel.setSize(i.width,i.height-g)}},render:function(g,i){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,g,i);var h=this.position;this.splitEl=g.createChild({cls:"x-layout-split x-layout-split-"+h,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+h,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true})}var e=this.splitSettings[h];this.split=new Ext.SplitBar(this.splitEl.dom,i.el,e.orientation);this.split.tickSize=this.tickSize;this.split.placement=e.placement;this.split.getMaximumSize=this[e.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[e.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[e.maxProp];if(i.hidden){this.splitEl.hide()}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this)}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize()}var b=this.panel.getSize();if(this.position=="north"||this.position=="south"){b.height+=this.splitEl.dom.offsetHeight}else{b.width+=this.splitEl.dom.offsetWidth}return b},getHMaxSize:function(){var c=this.maxSize||10000;var d=this.layout.center;return Math.min(c,(this.el.getWidth()+d.el.getWidth())-d.getMinWidth())},getVMaxSize:function(){var c=this.maxSize||10000;var d=this.layout.center;return Math.min(c,(this.el.getHeight()+d.el.getHeight())-d.getMinHeight())},onSplitMove:function(d,e){var g=this.panel.getSize();this.lastSplitSize=e;if(this.position=="north"||this.position=="south"){this.panel.setSize(g.width,e);this.state.height=e}else{this.panel.setSize(e,g.height);this.state.width=e}this.layout.layout();this.panel.saveState();return false},getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:false,type:"form",onRemove:function(g){Ext.layout.FormLayout.superclass.onRemove.call(this,g);if(this.trackLabels){g.un("show",this.onFieldShow,this);g.un("hide",this.onFieldHide,this)}var c=g.getPositionEl(),e=g.getItemCt&&g.getItemCt();if(g.rendered&&e){if(c&&c.dom){c.insertAfter(e)}Ext.destroy(e);Ext.destroyMembers(g,"label","itemCt");if(g.customItemCt){Ext.destroyMembers(g,"getItemCt","customItemCt")}}},setContainer:function(d){Ext.layout.FormLayout.superclass.setContainer.call(this,d);if(d.labelAlign){d.addClass("x-form-label-"+d.labelAlign)}if(d.hideLabels){Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0})}else{this.labelSeparator=d.labelSeparator||this.labelSeparator;d.labelWidth=d.labelWidth||100;if(Ext.isNumber(d.labelWidth)){var c=Ext.isNumber(d.labelPad)?d.labelPad:5;Ext.apply(this,{labelAdjust:d.labelWidth+c,labelStyle:"width:"+d.labelWidth+"px;",elementStyle:"padding-left:"+(d.labelWidth+c)+"px"})}if(d.labelAlign=="top"){Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}}},isHide:function(b){return b.hideLabel||this.container.hideLabels},onFieldShow:function(b){b.getItemCt().removeClass("x-hide-"+b.hideMode)},onFieldHide:function(b){b.getItemCt().addClass("x-hide-"+b.hideMode)},getLabelStyle:function(i){var g="",k=[this.labelStyle,i];for(var j=0,h=k.length;j<h;++j){if(k[j]){g+=k[j];if(g.substr(-1,1)!=";"){g+=";"}}}return g},renderItem:function(h,g,i){if(h&&(h.isFormField||h.fieldLabel)&&h.inputType!="hidden"){var c=this.getTemplateArgs(h);if(Ext.isNumber(g)){g=i.dom.childNodes[g]||null}if(g){h.itemCt=this.fieldTpl.insertBefore(g,c,true)}else{h.itemCt=this.fieldTpl.append(i,c,true)}if(!h.getItemCt){Ext.apply(h,{getItemCt:function(){return h.itemCt},customItemCt:true})}h.label=h.getItemCt().child("label.x-form-item-label");if(!h.rendered){h.render("x-form-el-"+h.id)}else{if(!this.isValidParent(h,i)){Ext.fly("x-form-el-"+h.id).appendChild(h.getPositionEl())}}if(this.trackLabels){if(h.hidden){this.onFieldHide(h)}h.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})}this.configureItem(h)}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}},getTemplateArgs:function(c){var d=!c.fieldLabel||c.hideLabel;return{id:c.id,label:c.fieldLabel,itemCls:(c.itemCls||this.container.itemCls||"")+(c.hideLabel?" x-hide-label":""),clearCls:c.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(c.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:d?"":(Ext.isDefined(c.labelSeparator)?c.labelSeparator:this.labelSeparator)}},adjustWidthAnchor:function(e,g){if(g.label&&!this.isHide(g)&&(this.container.labelAlign!="top")){var c=Ext.isIE6||(Ext.isIE&&!Ext.isStrict);return e-this.labelAdjust+(c?-3:0)}return e},adjustHeightAnchor:function(d,c){if(c.label&&!this.isHide(c)&&(this.container.labelAlign=="top")){return d-c.label.getHeight()}return d},isValidParent:function(c,d){return d&&this.container.getEl().contains(c.getPositionEl())}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,type:"accordion",renderItem:function(b){if(this.animate===false){b.animCollapse=false}b.collapsible=true;if(this.autoWidth){b.autoWidth=true}if(this.titleCollapse){b.titleCollapse=true}if(this.hideCollapseTool){b.hideCollapseTool=true}if(this.collapseFirst!==undefined){b.collapseFirst=this.collapseFirst}if(!this.activeItem&&!b.collapsed){this.setActiveItem(b,true)}else{if(this.activeItem&&this.activeItem!=b){b.collapsed=true}}Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);b.header.addClass("x-accordion-hd");b.on("beforeexpand",this.beforeExpand,this)},onRemove:function(b){Ext.layout.AccordionLayout.superclass.onRemove.call(this,b);if(b.rendered){b.header.removeClass("x-accordion-hd")}b.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(g,d){var e=this.activeItem;if(e){if(this.sequence){delete this.activeItem;if(!e.collapsed){e.collapse({callback:function(){g.expand(d||true)},scope:this});return false}}else{e.collapse(this.animate)}}this.setActive(g);if(this.activeOnTop){g.el.dom.parentNode.insertBefore(g.el.dom,g.el.dom.parentNode.firstChild)}this.layout()},setItemSize:function(l,m){if(this.fill&&l){var n=0,o,i=this.getRenderedItems(this.container),j=i.length,k;for(o=0;o<j;o++){if((k=i[o])!=l){n+=k.header.getHeight()}}m.height-=n;l.setSize(m)}},setActiveItem:function(b){this.setActive(b,true)},setActive:function(g,d){var e=this.activeItem;g=this.container.getComponent(g);if(e!=g){if(g.rendered&&g.collapsed&&d){g.expand()}else{if(e){e.fireEvent("deactivate",e)}this.activeItem=g;g.fireEvent("activate",g)}}}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(b){Ext.layout.TableLayout.superclass.setContainer.call(this,b);this.currentRow=0;this.currentColumn=0;this.cells=[]},onLayout:function(m,k){var l=m.items.items,i=l.length,j,c;if(!this.table){k.addClass("x-table-layout-ct");this.table=k.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}this.renderAll(m,k)},getRow:function(d){var c=this.table.tBodies[0].childNodes[d];if(!c){c=document.createElement("tr");this.table.tBodies[0].appendChild(c)}return c},getNextCell:function(l){var k=this.getNextNonSpan(this.currentColumn,this.currentRow);var o=this.currentColumn=k[0],p=this.currentRow=k[1];for(var m=p;m<p+(l.rowspan||1);m++){if(!this.cells[m]){this.cells[m]=[]}for(var q=o;q<o+(l.colspan||1);q++){this.cells[m][q]=true}}var n=document.createElement("td");if(l.cellId){n.id=l.cellId}var c="x-table-layout-cell";if(l.cellCls){c+=" "+l.cellCls}n.className=c;if(l.colspan){n.colSpan=l.colspan}if(l.rowspan){n.rowSpan=l.rowspan}this.getRow(p).appendChild(n);return n},getNextNonSpan:function(e,g){var d=this.columns;while((d&&e>=d)||(this.cells[g]&&this.cells[g][e])){if(d&&e>=d){g++;e=0}else{e++}}return[e,g]},renderItem:function(h,g,i){if(!this.table){this.table=i.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}if(h&&!h.rendered){h.render(this.getNextCell(h));this.configureItem(h,g)}else{if(h&&!this.isValidParent(h,i)){var c=this.getNextCell(h);c.insertBefore(h.getPositionEl().dom,null);h.container=Ext.get(c);this.configureItem(h,g)}}},isValidParent:function(c,d){return c.getPositionEl().up("table",5).dom.parentNode===(d.dom||d)}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(d,c){c.position();this.paddingLeft=c.getPadding("l");this.paddingTop=c.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,d,c)},adjustWidthAnchor:function(c,d){return c?c-d.getPosition(true)[0]+this.paddingLeft:c},adjustHeightAnchor:function(c,d){return c?c-d.getPosition(true)[1]+this.paddingTop:c}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:true,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(b){Ext.layout.BoxLayout.superclass.constructor.call(this,b);if(Ext.isString(this.defaultMargins)){this.defaultMargins=this.parseMargins(this.defaultMargins)}},onLayout:function(g,h){Ext.layout.BoxLayout.superclass.onLayout.call(this,g,h);var e=this.getVisibleItems(g),i=this.getLayoutTargetSize();this.layoutTargetLastSize=i;this.childBoxCache=this.calculateChildBoxes(e,i);this.updateInnerCtSize(i,this.childBoxCache);this.updateChildBoxes(this.childBoxCache.boxes);this.handleTargetOverflow(i,g,h)},updateChildBoxes:function(k){for(var g=0,i=k.length;g<i;g++){var j=k[g],h=j.component;if(j.dirtySize){h.setSize(j.width,j.height)}if(isNaN(j.left)||isNaN(j.top)){continue}h.setPosition(j.left,j.top)}},updateInnerCtSize:Ext.emptyFn,handleTargetOverflow:function(j,h,k){var i=k.getStyle("overflow");if(i&&i!="hidden"&&!this.adjustmentPass){var g=this.getLayoutTargetSize();if(g.width!=j.width||g.height!=j.height){this.adjustmentPass=true;this.onLayout(h,k)}}delete this.adjustmentPass},isValidParent:function(c,d){return this.innerCt&&c.getPositionEl().dom.parentNode==this.innerCt.dom},getVisibleItems:function(m){var m=m||this.container,n=m.getLayoutTarget(),l=m.items.items,i=l.length,o,k,c=[];for(o=0;o<i;o++){if((k=l[o]).rendered&&this.isValidParent(k,n)&&k.hidden!==true&&k.collapsed!==true){c.push(k)}}return c},renderAll:function(d,c){if(!this.innerCt){this.innerCt=c.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding)}Ext.layout.BoxLayout.superclass.renderAll.call(this,d,this.innerCt)},getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize()}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb")}return d},renderItem:function(b){if(Ext.isString(b.margins)){b.margins=this.parseMargins(b.margins)}else{if(!b.margins){b.margins=this.defaultMargins}}Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)}});Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",updateInnerCtSize:function(e,h){var i=e.height,g=h.meta.maxWidth+this.padding.left+this.padding.right;if(this.align=="stretch"){g=e.width}else{if(this.align=="center"){g=Math.max(e.width,g)}}this.innerCt.setSize(g||undefined,i||undefined)},calculateChildBoxes:function(N,al){var ah=N.length,S=this.padding,i=S.top,ac=S.left,aa=i+S.bottom,ap=ac+S.right,L=al.width-this.scrollOffset,Q=al.height,Z=Math.max(0,L-ap),ag=this.pack=="start",af=this.pack=="center",ae=this.pack=="end",K=0,R=0,ab=0,ai=[],aj,am,ak,ao,U,W,Y,V,P,O,T;for(Y=0;Y<ah;Y++){aj=N[Y];ak=aj.height;am=aj.width;W=!aj.hasLayout&&Ext.isFunction(aj.doLayout);if(!Ext.isNumber(ak)){if(aj.flex&&!ak){ab+=aj.flex}else{if(!ak&&W){aj.doLayout()}ao=aj.getSize();am=ao.width;ak=ao.height}}U=aj.margins;K+=(ak||0)+U.top+U.bottom;if(!Ext.isNumber(am)){if(W){aj.doLayout()}am=aj.getWidth()}R=Math.max(R,am+U.left+U.right);ai.push({component:aj,height:ak||undefined,width:am||undefined})}var an=Math.max(0,(Q-K-aa));if(af){i+=an/2}else{if(ae){i+=an}}var ad=an,M=ab;for(Y=0;Y<ah;Y++){aj=N[Y];V=ai[Y];U=aj.margins;O=U.left+U.right;i+=U.top;if(ag&&aj.flex&&!aj.height){P=Math.ceil((aj.flex/M)*ad);ad-=P;M-=aj.flex;V.height=P;V.dirtySize=true}V.left=ac+U.left;V.top=i;switch(this.align){case"stretch":T=Z-O;V.width=T.constrain(aj.minHeight||0,aj.maxWidth||1000000);V.dirtySize=true;break;case"stretchmax":T=R-O;V.width=T.constrain(aj.minHeight||0,aj.maxWidth||1000000);V.dirtySize=true;break;case"center":var X=Z-V.width-O;if(X>0){V.left=ac+O+(X/2)}}i+=V.height+U.bottom}return{boxes:ai,meta:{maxWidth:R}}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",updateInnerCtSize:function(e,h){var g=e.width,i=h.meta.maxHeight+this.padding.top+this.padding.bottom;if(this.align=="stretch"){i=e.height}else{if(this.align=="middle"){i=Math.max(e.height,i)}}this.innerCt.setSize(g||undefined,i||undefined)},calculateChildBoxes:function(ab,al){var ae=ab.length,L=this.padding,W=L.top,Y=L.left,V=W+L.bottom,ap=Y+L.right,X=al.width-this.scrollOffset,i=al.height,aj=Math.max(0,i-V),ad=this.pack=="start",ac=this.pack=="center",aa=this.pack=="end",K=0,Z=0,U=0,af=[],ag,am,ak,an,N,Q,S,P,M,ai,T;for(S=0;S<ae;S++){ag=ab[S];ak=ag.height;am=ag.width;Q=!ag.hasLayout&&Ext.isFunction(ag.doLayout);if(!Ext.isNumber(am)){if(ag.flex&&!am){U+=ag.flex}else{if(!am&&Q){ag.doLayout()}an=ag.getSize();am=an.width;ak=an.height}}N=ag.margins;K+=(am||0)+N.left+N.right;if(!Ext.isNumber(ak)){if(Q){ag.doLayout()}ak=ag.getHeight()}Z=Math.max(Z,ak+N.top+N.bottom);af.push({component:ag,height:ak||undefined,width:am||undefined})}var ao=Math.max(0,(X-K-ap));if(ac){Y+=ao/2}else{if(aa){Y+=ao}}var ah=ao,O=U;for(S=0;S<ae;S++){ag=ab[S];P=af[S];N=ag.margins;ai=N.top+N.bottom;Y+=N.left;if(ad&&ag.flex&&!ag.width){M=Math.ceil((ag.flex/O)*ah);ah-=M;O-=ag.flex;P.width=M;P.dirtySize=true}P.left=Y;P.top=W+N.top;switch(this.align){case"stretch":T=aj-ai;P.height=T.constrain(ag.minHeight||0,ag.maxHeight||1000000);P.dirtySize=true;break;case"stretchmax":T=Z-ai;P.height=T.constrain(ag.minHeight||0,ag.maxHeight||1000000);P.dirtySize=true;break;case"middle":var R=aj-P.height-ai;if(R>0){P.top=W+ai+(R/2)}}Y+=P.width+N.right}return{boxes:af,meta:{maxHeight:Z}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:false,tableHTML:['<table cellspacing="0" class="x-toolbar-ct">',"<tbody>","<tr>",'<td class="x-toolbar-left" align="{0}">','<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-left-row"></tr>',"</tbody>","</table>","</td>",'<td class="x-toolbar-right" align="right">','<table cellspacing="0" class="x-toolbar-right-ct">',"<tbody>","<tr>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-right-row"></tr>',"</tbody>","</table>","</td>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-extras-row"></tr>',"</tbody>","</table>","</td>","</tr>","</tbody>","</table>","</td>","</tr>","</tbody>","</table>"].join(""),onLayout:function(r,o){if(!this.leftTr){var p=r.buttonAlign=="center"?"center":"left";o.addClass("x-toolbar-layout-ct");o.insertHtml("beforeEnd",String.format(this.tableHTML,p));this.leftTr=o.child("tr.x-toolbar-left-row",true);this.rightTr=o.child("tr.x-toolbar-right-row",true);this.extrasTr=o.child("tr.x-toolbar-extras-row",true);if(this.hiddenItem==undefined){this.hiddenItems=[]}}var n=r.buttonAlign=="right"?this.rightTr:this.leftTr,i=r.items.items,s=0;for(var t=0,q=i.length,c;t<q;t++,s++){c=i[t];if(c.isFill){n=this.rightTr;s=-1}else{if(!c.rendered){c.render(this.insertCell(c,n,s))}else{if(!c.xtbHidden&&!this.isValidParent(c,n.childNodes[s])){var u=this.insertCell(c,n,s);u.appendChild(c.getPositionEl().dom);c.container=Ext.get(u)}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(o)},cleanup:function(c){var h=c.childNodes,g,i;for(g=h.length-1;g>=0&&(i=h[g]);g--){if(!i.firstChild){c.removeChild(i)}}},insertCell:function(h,c,g){var i=document.createElement("td");i.className="x-toolbar-cell";c.insertBefore(i,c.childNodes[g]||null);return i},hideItem:function(b){this.hiddenItems.push(b);b.xtbHidden=true;b.xtbWidth=b.getPositionEl().dom.parentNode.offsetWidth;b.hide()},unhideItem:function(b){b.show();b.xtbHidden=false;this.hiddenItems.remove(b)},getItemWidth:function(b){return b.hidden?(b.xtbWidth||0):b.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(s){if(this.container.enableOverflow===false){return}var A=s.dom.clientWidth,t=s.dom.firstChild.offsetWidth,q=A-this.triggerWidth,B=this.lastWidth||0,z=this.hiddenItems,x=z.length!=0,p=A>=B;this.lastWidth=A;if(t>A||(x&&p)){var r=this.container.items.items,u=r.length,y=0,i;for(var v=0;v<u;v++){i=r[v];if(!i.isFill){y+=this.getItemWidth(i);if(y>q){if(!(i.hidden||i.xtbHidden)){this.hideItem(i)}}else{if(i.xtbHidden){this.unhideItem(i)}}}}}x=z.length!=0;if(x){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true}}else{if(this.more){this.clearMenu();this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false}}}},createMenuConfig:function(i,g){var e=Ext.apply({},i.initialConfig),h=i.toggleGroup;Ext.copyTo(e,i,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(e,{text:i.overflowText||i.text,hideOnClick:g});if(h||i.enableToggle){Ext.apply(e,{group:h,checked:i.pressed,listeners:{checkchange:function(a,b){i.toggle(b)}}})}delete e.ownerCt;delete e.xtype;delete e.id;return e},addComponentToMenu:function(c,d){if(d instanceof Ext.Toolbar.Separator){c.add("-")}else{if(Ext.isFunction(d.isXType)){if(d.isXType("splitbutton")){c.add(this.createMenuConfig(d,true))}else{if(d.isXType("button")){c.add(this.createMenuConfig(d,!d.menu))}else{if(d.isXType("buttongroup")){d.items.each(function(a){this.addComponentToMenu(c,a)},this)}}}}}},clearMenu:function(){var b=this.moreMenu;if(b&&b.items){b.items.each(function(a){delete a.menu})}},beforeMoreShow:function(k){var i=this.container.items.items,j=i.length,l,m;var o=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.Toolbar.Separator)};this.clearMenu();k.removeAll();for(var n=0;n<j;n++){l=i[n];if(l.xtbHidden){if(m&&(o(l,m)||o(m,l))){k.add("-")}this.addComponentToMenu(k,l);m=l}}if(k.items.length<1){k.add(this.noItemsMenuText)}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});var b=this.insertCell(this.more,this.extrasTr,100);this.more.render(b)}},destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"menu",setContainer:function(b){this.monitorResize=!b.floating;b.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,b)},renderItem:function(c,a,h){if(!this.itemTpl){this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img src="{icon}" class="{iconCls}"/>',"</tpl>","</li>")}if(c&&!c.rendered){if(Ext.isNumber(a)){a=h.dom.childNodes[a]}var i=this.getItemArgs(c);c.render(c.positionEl=a?this.itemTpl.insertBefore(a,i,true):this.itemTpl.append(h,i,true));c.positionEl.menuItemId=c.getItemId();if(!i.isMenuItem&&i.needsIcon){c.positionEl.addClass("x-menu-list-item-indent")}this.configureItem(c,a)}else{if(c&&!this.isValidParent(c,h)){if(Ext.isNumber(a)){a=h.dom.childNodes[a]}h.dom.insertBefore(c.getActionEl().dom,a||null)}}},getItemArgs:function(c){var d=c instanceof Ext.menu.Item;return{isMenuItem:d,needsIcon:!d&&(c.icon||c.iconCls),icon:c.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(c.iconCls||""),itemId:"x-menu-el-"+c.id,itemCls:"x-menu-list-item "}},isValidParent:function(c,d){return c.el.up("li.x-menu-list-item",5).dom.parentNode===(d.dom||d)},onLayout:function(d,c){Ext.layout.MenuLayout.superclass.onLayout.call(this,d,c);this.doAutoSize()},doAutoSize:function(){var i=this.container,g=i.width;if(i.floating){if(g){i.setWidth(g)}else{if(Ext.isIE){i.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8)?"auto":i.minWidth);var h=i.getEl(),e=h.dom.offsetWidth;i.setWidth(i.getLayoutTarget().getWidth()+h.getFrameWidth("lr"))}}}}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el},fireResize:function(d,c){this.fireEvent("resize",this,d,c,d,c)}});Ext.reg("viewport",Ext.Viewport);Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",preventBodyReset:false,padding:undefined,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain"}this.toolbars=[];if(this.tbar){this.elements+=",tbar";this.topToolbar=this.createToolbar(this.tbar);this.tbar=null}if(this.bbar){this.elements+=",bbar";this.bottomToolbar=this.createToolbar(this.bbar);this.bbar=null}if(this.header===true){this.elements+=",header";this.header=null}else{if(this.headerCfg||(this.title&&this.header!==false)){this.elements+=",header"}}if(this.footerCfg||this.footer===true){this.elements+=",footer";this.footer=null}if(this.buttons){this.fbar=this.buttons;this.buttons=null}if(this.fbar){this.createFbar(this.fbar)}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10})}},createFbar:function(c){var d=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(c,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:false,defaults:function(a){return{minWidth:a.minWidth||d}}});this.fbar.items.each(function(a){a.minWidth=a.minWidth||this.minButtonWidth},this);this.buttons=this.fbar.items.items},createToolbar:function(d,g){var e;if(Ext.isArray(d)){d={items:d}}e=d.events?Ext.apply(d,g):this.createComponent(Ext.apply({},d,g),"toolbar");this.toolbars.push(e);return e},createElement:function(e,g){if(this[e]){g.appendChild(this[e].dom);return}if(e==="bwrap"||this.elements.indexOf(e)!=-1){if(this[e+"Cfg"]){this[e]=Ext.fly(g).createChild(this[e+"Cfg"])}else{var d=document.createElement("div");d.className=this[e+"Cls"];this[e]=Ext.get(g.appendChild(d))}if(this[e+"CssClass"]){this[e].addClass(this[e+"CssClass"])}if(this[e+"Style"]){this[e].applyStyles(this[e+"Style"])}}},onRender:function(q,r){Ext.Panel.superclass.onRender.call(this,q,r);this.createClasses();var u=this.el,p=u.dom,m,o;if(this.collapsible&&!this.hideCollapseTool){this.tools=this.tools?this.tools.slice(0):[];this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})}if(this.tools){o=this.tools;this.elements+=(this.header!==false)?",header":""}this.tools={};u.addClass(this.baseCls);if(p.firstChild){this.header=u.down("."+this.headerCls);this.bwrap=u.down("."+this.bwrapCls);var n=this.bwrap?this.bwrap:u;this.tbar=n.down("."+this.tbarCls);this.body=n.down("."+this.bodyCls);this.bbar=n.down("."+this.bbarCls);this.footer=n.down("."+this.footerCls);this.fromMarkup=true}if(this.preventBodyReset===true){u.addClass("x-panel-reset")}if(this.cls){u.addClass(this.cls)}if(this.buttons){this.elements+=",footer"}if(this.frame){u.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",p.firstChild.firstChild.firstChild);this.createElement("bwrap",p);m=this.bwrap.dom;var s=p.childNodes[1],t=p.childNodes[2];m.appendChild(s);m.appendChild(t);var d=m.firstChild.firstChild.firstChild;this.createElement("tbar",d);this.createElement("body",d);this.createElement("bbar",d);this.createElement("footer",m.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter"}this.ft=Ext.get(this.bwrap.dom.lastChild);this.mc=Ext.get(d)}else{this.createElement("header",p);this.createElement("bwrap",p);m=this.bwrap.dom;this.createElement("tbar",m);this.createElement("body",m);this.createElement("bbar",m);this.createElement("footer",m);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader")}}}if(Ext.isDefined(this.padding)){this.body.setStyle("padding",this.body.addUnits(this.padding))}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder")}if(this.footer){this.footer.addClass(this.footerCls+"-noborder")}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder")}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder")}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder")}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls)}}}if(this.floating){this.makeFloating(this.floating)}if(this.collapsible&&this.titleCollapse&&this.header){this.mon(this.header,"click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer")}if(o){this.addTool.apply(this,o)}if(this.fbar){this.footer.addClass("x-panel-btns");this.fbar.ownerCt=this;this.fbar.render(this.footer);this.footer.createChild({cls:"x-clear"})}if(this.tbar&&this.topToolbar){this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar)}if(this.bbar&&this.bottomToolbar){this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar)}},setIconClass:function(g){var h=this.iconCls;this.iconCls=g;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(h,this.iconCls)}else{var i=this.header,k=i.child("img.x-panel-inline-icon");if(k){Ext.fly(k).replaceClass(h,this.iconCls)}else{var j=i.child("span."+this.headerTextCls);if(j){Ext.DomHelper.insertBefore(j.dom,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}}}}this.fireEvent("iconchange",this,g,h)},makeFloating:function(b){this.floating=true;this.el=new Ext.Layer(Ext.apply({},b,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},getFooterToolbar:function(){return this.fbar},addButton:function(e,g,d){if(!this.fbar){this.createFbar([])}if(g){if(Ext.isString(e)){e={text:e}}e=Ext.apply({handler:g,scope:d},e)}return this.fbar.add(e)},addTool:function(){if(!this.rendered){if(!this.tools){this.tools=[]}Ext.each(arguments,function(b){this.tools.push(b)},this);return}if(!this[this.toolTarget]){return}if(!this.toolTemplate){var k=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');k.disableFormats=true;k.compile();Ext.Panel.prototype.toolTemplate=k}for(var l=0,n=arguments,o=n.length;l<o;l++){var a=n[l];if(!this.tools[a.id]){var i="x-tool-"+a.id+"-over";var m=this.toolTemplate.insertFirst(this[this.toolTarget],a,true);this.tools[a.id]=m;m.enableDisplayMode("block");this.mon(m,"click",this.createToolHandler(m,a,i,this));if(a.on){this.mon(m,a.on)}if(a.hidden){m.hide()}if(a.qtip){if(Ext.isObject(a.qtip)){Ext.QuickTips.register(Ext.apply({target:m.id},a.qtip))}else{m.dom.qtip=a.qtip}}m.addClassOnOver(i)}}},onLayout:function(c,d){Ext.Panel.superclass.onLayout.apply(this,arguments);if(this.hasLayout&&this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.doLayout(undefined,d)});this.syncHeight()}},syncHeight:function(){var e=this.toolbarHeight,i=this.body,g=this.lastSize.height,h;if(this.autoHeight||!Ext.isDefined(g)||g=="auto"){return}if(e!=this.getToolbarHeight()){e=Math.max(0,g-this.getFrameHeight());i.setHeight(e);h=i.getSize();this.toolbarHeight=this.getToolbarHeight();this.onBodyResize(h.width,h.height)}},onShow:function(){if(this.floating){return this.el.show()}Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating){return this.el.hide()}Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(i,g,h,e){return function(a){i.removeClass(h);if(g.stopEvent!==false){a.stopEvent()}if(g.handler){g.handler.call(g.scope||i,a,i,e,g)}}},afterRender:function(){if(this.floating&&!this.hidden){this.el.show()}if(this.title){this.setTitle(this.title)}Ext.Panel.superclass.afterRender.call(this);if(this.collapsed){this.collapsed=false;this.collapse(false)}this.initEvents()},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys)}return this.keyMap},initEvents:function(){if(this.keys){this.getKeyMap()}if(this.draggable){this.initDraggable()}if(this.toolbars.length>0){Ext.each(this.toolbars,function(b){b.doLayout();b.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this);this.syncHeight()}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(b){if(this.floating){this.el.beforeAction()}if(b!==false){this.el.addClass("x-panel-animated")}},afterEffect:function(b){this.syncShadow();this.el.removeClass("x-panel-animated")},createEffect:function(i,a,h){var g={scope:h,block:true};if(i===true){g.callback=a;return g}else{if(!i.callback){g.callback=a}else{g.callback=function(){a.call(h);Ext.callback(i.callback,i.scope)}}}return Ext.applyIf(g,i)},collapse:function(c){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,c)===false){return}var d=c===true||(c!==false&&this.animCollapse);this.beforeEffect(d);this.onCollapse(d,c);return this},onCollapse:function(d,c){if(d){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterCollapse,this),this.collapseDefaults))}else{this[this.collapseEl].hide(this.hideMode);this.afterCollapse(false)}},afterCollapse:function(b){this.collapsed=true;this.el.addClass(this.collapsedCls);if(b!==false){this[this.collapseEl].hide(this.hideMode)}this.afterEffect(b);this.cascade(function(a){if(a.lastSize){a.lastSize={width:0,height:0}}});this.fireEvent("collapse",this)},expand:function(c){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,c)===false){return}var d=c===true||(c!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect(d);this.onExpand(d,c);return this},onExpand:function(d,c){if(d){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterExpand,this),this.expandDefaults))}else{this[this.collapseEl].show(this.hideMode);this.afterExpand(false)}},afterExpand:function(b){this.collapsed=false;if(b!==false){this[this.collapseEl].show(this.hideMode)}this.afterEffect(b);if(this.deferLayout){delete this.deferLayout;this.doLayout(true)}this.fireEvent("expand",this)},toggleCollapse:function(b){this[this.collapsed?"expand":"collapse"](b);return this},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask()}Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask()}Ext.Panel.superclass.onEnable.call(this)},onResize:function(j,l,m,k){var i=j,h=l;if(Ext.isDefined(i)||Ext.isDefined(h)){if(!this.collapsed){if(Ext.isNumber(i)){this.body.setWidth(i=this.adjustBodyWidth(i-this.getFrameWidth()))}else{if(i=="auto"){i=this.body.setWidth("auto").dom.offsetWidth}else{i=this.body.dom.offsetWidth}}if(this.tbar){this.tbar.setWidth(i);if(this.topToolbar){this.topToolbar.setSize(i)}}if(this.bbar){this.bbar.setWidth(i);if(this.bottomToolbar){this.bottomToolbar.setSize(i);if(Ext.isIE){this.bbar.setStyle("position","static");this.bbar.setStyle("position","")}}}if(this.footer){this.footer.setWidth(i);if(this.fbar){this.fbar.setSize(Ext.isIE?(i-this.footer.getFrameWidth("lr")):"auto")}}if(Ext.isNumber(h)){h=Math.max(0,h-this.getFrameHeight());this.body.setHeight(h)}else{if(h=="auto"){this.body.setHeight(h)}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())}}else{this.queuedBodySize={width:i,height:h};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:true})}}this.onBodyResize(i,h)}this.syncShadow();Ext.Panel.superclass.onResize.call(this,j,l,m,k)},onBodyResize:function(d,c){this.fireEvent("bodyresize",this,d,c)},getToolbarHeight:function(){var b=0;if(this.rendered){Ext.each(this.toolbars,function(a){b+=a.getHeight()},this)}return b},adjustBodyHeight:function(b){return b},adjustBodyWidth:function(b){return b},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var c=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var d=this.bwrap.dom.firstChild;c+=(Ext.fly(d).getFrameWidth("l")+Ext.fly(d.firstChild).getFrameWidth("r"));c+=this.mc.getFrameWidth("lr")}return c},getFrameHeight:function(){var b=Math.max(0,this.getHeight()-this.body.getHeight());if(isNaN(b)){b=0}return b},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.body.getHeight()},syncShadow:function(){if(this.floating){this.el.sync(true)}},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(c,d){this.title=c;if(this.header&&this.headerAsText){this.header.child("span").update(c)}if(d){this.setIconClass(d)}this.fireEvent("titlechange",this,c);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var b=this.body.getUpdater();b.update.apply(b,arguments);return this},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);if(this.header){this.header.removeAllListeners()}if(this.tools){for(var b in this.tools){Ext.destroy(this.tools[b])}}if(this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.un("afterlayout",this.syncHeight,this);a.un("remove",this.syncHeight,this)},this)}if(Ext.isArray(this.buttons)){while(this.buttons.length){Ext.destroy(this.buttons[0])}}if(this.rendered){Ext.destroy(this.ft,this.header,this.footer,this.toolbars,this.tbar,this.bbar,this.body,this.mc,this.bwrap);if(this.fbar){Ext.destroy(this.fbar,this.fbar.el)}}else{Ext.destroy(this.topToolbar,this.bottomToolbar)}},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(h,i,g){var j=document.createElement("div");j.className="x-panel-ghost "+(h?h:"");if(this.header){j.appendChild(this.el.dom.firstChild.cloneNode(true))}Ext.fly(j.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());j.style.width=this.el.dom.offsetWidth+"px";if(!g){this.container.dom.appendChild(j)}else{Ext.getDom(g).appendChild(j)}if(i!==false&&this.el.useShim!==false){var k=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},j);k.show();return k}else{return new Ext.Element(j)}},doAutoLoad:function(){var b=this.body.getUpdater();if(this.renderer){b.setRenderer(this.renderer)}b.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(b){return this.tools[b]}});Ext.reg("panel",Ext.Panel);Ext.Editor=function(c,d){if(c.field){this.field=Ext.create(c.field,"textfield");d=Ext.apply({},c);delete d.field}else{this.field=c}Ext.Editor.superclass.constructor.call(this,d)};Ext.extend(Ext.Editor,Ext.Component,{allowBlur:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(c,d){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:c,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex)}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip"}this.field.inEditor=true;this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey});if(this.field.grow){this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1})}this.field.render(this.el).show();this.field.getEl().dom.name="";if(this.swallowKeys){this.field.el.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(i,j){var e=j.getKey(),h=this.completeOnEnter&&e==j.ENTER,k=this.cancelOnEsc&&e==j.ESC;if(h||k){j.stopEvent();if(h){this.completeEdit()}else{this.cancelEdit()}if(i.triggerBlur){i.triggerBlur()}}this.fireEvent("specialkey",i,j)},startEdit:function(d,g){if(this.editing){this.completeEdit()}this.boundEl=Ext.get(d);var e=g!==undefined?g:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body)}if(this.fireEvent("beforestartedit",this,this.boundEl,e)!==false){this.startValue=e;this.field.reset();this.field.setValue(e);this.realign(true);this.editing=true;this.show()}},doAutoSize:function(){if(this.autoSize){var c=this.boundEl.getSize(),d=this.field.getSize();switch(this.autoSize){case"width":this.setSize(c.width,d.height);break;case"height":this.setSize(d.width,c.height);break;case"none":this.setSize(d.width,d.height);break;default:this.setSize(c.width,c.height)}}},setSize:function(d,c){delete this.field.lastSize;this.field.setSize(d,c);if(this.el){if(Ext.isGecko2||Ext.isOpera){this.el.setSize(d,c)}this.el.sync()}},realign:function(b){if(b===true){this.doAutoSize()}this.el.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(d){if(!this.editing){return}if(this.field.assertValue){this.field.assertValue()}var c=this.getValue();if(!this.field.isValid()){if(this.revertInvalid!==false){this.cancelEdit(d)}return}if(String(c)===String(this.startValue)&&this.ignoreNoChange){this.hideEdit(d);return}if(this.fireEvent("beforecomplete",this,c,this.startValue)!==false){c=this.getValue();if(this.updateEl&&this.boundEl){this.boundEl.update(c)}this.hideEdit(d);this.fireEvent("complete",this,c,this.startValue)}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide()}this.field.show().focus(false,true);this.fireEvent("startedit",this.boundEl,this.startValue)},cancelEdit:function(d){if(this.editing){var c=this.getValue();this.setValue(this.startValue);this.hideEdit(d);this.fireEvent("canceledit",this,c,this.startValue)}},hideEdit:function(b){if(b!==true){this.editing=false;this.hide()}},onBlur:function(){if(this.allowBlur===true&&this.editing&&this.selectSameEditor!==true){this.completeEdit()}},onHide:function(){if(this.editing){this.completeEdit();return}this.field.blur();if(this.field.collapse){this.field.collapse()}this.el.hide();if(this.hideEl!==false){this.boundEl.show()}},setValue:function(b){this.field.setValue(b)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroyMembers(this,"field");delete this.parentEl;delete this.boundEl}});Ext.reg("editor",Ext.Editor);Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true)}},onRender:function(d,e){this.autoEl={tag:"div",cls:this.itemCls};Ext.ColorPalette.superclass.onRender.call(this,d,e);var g=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');g.overwrite(this.el,this.colors);this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:true})}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var b=this.value;this.value=null;this.select(b)}},handleClick:function(c,e){c.preventDefault();if(!this.disabled){var g=e.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(g.toUpperCase())}},select:function(d){d=d.replace("#","");if(d!=this.value||this.allowReselect){var c=this.el;if(this.value){c.child("a.color-"+this.value).removeClass("x-color-palette-sel")}c.child("a.color-"+d).addClass("x-color-palette-sel");this.value=d;this.fireEvent("select",this,d)}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,focusOnSelect:true,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime(true):new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this)}this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":d[b];if(b!=e){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(b){if(Ext.isArray(b)){this.disabledDates=b;this.disabledDatesRE=null}else{this.disabledDatesRE=b}this.initDisabledDays();this.update(this.value,true)},setDisabledDays:function(b){this.disabledDays=b;this.update(this.value,true)},setMinDate:function(b){this.minDate=b;this.update(this.value,true)},setMaxDate:function(b){this.maxDate=b;this.update(this.value,true)},setValue:function(b){this.value=b.clearTime(true);this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(b){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(false);this.update(b?this.value:this.activeDate);if(Ext.isIE){this.el.repaint()}},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);this.doDisabled(true);if(Ext.isIE&&!Ext.isIE8){Ext.each([].concat(this.textNodes,this.el.query("th span")),function(b){Ext.fly(b).repaint()})}},doDisabled:function(b){this.keyNav.setDisabled(b);this.prevRepeater.setDisabled(b);this.nextRepeater.setDisabled(b);if(this.showToday){this.todayKeyListener.setDisabled(b);this.todayBtn.setDisabled(b)}},onRender:function(p,d){var i=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],q=this.dayNames,n;for(n=0;n<7;n++){var l=this.startDay+n;if(l>6){l=l-7}i.push("<th><span>",q[l].substr(0,1),"</span></th>")}i[i.length]="</tr></thead><tbody><tr>";for(n=0;n<42;n++){if(n%7===0&&n!==0){i[i.length]="</tr><tr>"}i[i.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>'}i.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var m=document.createElement("div");m.className="x-date-picker";m.innerHTML=i.join("");p.dom.insertBefore(m,d);this.el=Ext.get(m);this.eventEl=Ext.get(m.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){if(a.ctrlKey){this.showPrevMonth()}else{this.update(this.activeDate.add("d",-1))}},right:function(a){if(a.ctrlKey){this.showNextMonth()}else{this.update(this.activeDate.add("d",1))}},up:function(a){if(a.ctrlKey){this.showNextYear()}else{this.update(this.activeDate.add("d",-7))}},down:function(a){if(a.ctrlKey){this.showPrevYear()}else{this.update(this.activeDate.add("d",7))}},pageUp:function(a){this.showNextMonth()},pageDown:function(a){this.showPrevMonth()},enter:function(a){a.stopPropagation();return true},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var o=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,o),tooltip:String.format(this.todayTip,o),handler:this.selectToday,scope:this})}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(true)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var d=['<table border="0" cellspacing="0">'];for(var c=0;c<6;c++){d.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(c),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(c+6),"</a></td>",c===0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>')}d.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(d.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(g,b,a){a+=1;if((a%2)===0){g.dom.xmonth=5+Math.round(a*0.5)}else{g.dom.xmonth=Math.round((a-1)*0.5)}})}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var b=this.el.getSize();this.monthPicker.setSize(b);this.monthPicker.child("table").setSize(b);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})}},updateMPYear:function(i){this.mpyear=i;var k=this.mpYears.elements;for(var g=1;g<=10;g++){var j=k[g-1],h;if((g%2)===0){h=i+Math.round(g*0.5);j.firstChild.innerHTML=h;j.xyear=h}else{h=i-(5-Math.round(g*0.5));j.firstChild.innerHTML=h;j.xyear=h}this.mpYears.item(g-1)[h==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(b){this.mpMonths.each(function(a,g,e){a[a.dom.xmonth==b?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(b){},onMonthClick:function(j,d){j.stopEvent();var k=new Ext.Element(d),e;if(k.is("button.x-date-mp-cancel")){this.hideMonthPicker()}else{if(k.is("button.x-date-mp-ok")){var i=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(i.getMonth()!=this.mpSelMonth){i=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()}this.update(i);this.hideMonthPicker()}else{if((e=k.up("td.x-date-mp-month",2))){this.mpMonths.removeClass("x-date-mp-sel");e.addClass("x-date-mp-sel");this.mpSelMonth=e.dom.xmonth}else{if((e=k.up("td.x-date-mp-year",2))){this.mpYears.removeClass("x-date-mp-sel");e.addClass("x-date-mp-sel");this.mpSelYear=e.dom.xyear}else{if(k.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10)}else{if(k.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10)}}}}}}},onMonthDblClick:function(h,e){h.stopEvent();var i=new Ext.Element(e),g;if((g=i.up("td.x-date-mp-month",2))){this.update(new Date(this.mpSelYear,g.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}else{if((g=i.up("td.x-date-mp-year",2))){this.update(new Date(g.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}}},hideMonthPicker:function(b){if(this.monthPicker){if(b===true){this.monthPicker.hide()}else{this.monthPicker.slideOut("t",{duration:0.2})}}},showPrevMonth:function(b){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(b){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(d){d.stopEvent();if(!this.disabled){var c=d.getWheelDelta();if(c>0){this.showPrevMonth()}else{if(c<0){this.showNextMonth()}}}},handleDateClick:function(c,d){c.stopEvent();if(!this.disabled&&d.dateValue&&!Ext.fly(d.parentNode).hasClass("x-date-disabled")){this.cancelFocus=this.focusOnSelect===false;this.setValue(new Date(d.dateValue));delete this.cancelFocus;this.fireEvent("select",this,this.value)}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value)}},update:function(L,W){if(this.rendered){var aj=this.activeDate,X=this.isVisible();this.activeDate=L;if(!W&&aj&&this.el){var Y=L.getTime();if(aj.getMonth()==L.getMonth()&&aj.getFullYear()==L.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(a){if(a.dom.firstChild.dateValue==Y){a.addClass("x-date-selected");if(X&&!this.cancelFocus){Ext.fly(a.dom.firstChild).focus(50)}return false}},this);return}}var ac=L.getDaysInMonth(),V=L.getFirstDateOfMonth(),af=V.getDay()-this.startDay;if(af<0){af+=7}ac+=af;var U=L.add("mo",-1),ae=U.getDaysInMonth()-af,ag=this.cells.elements,T=this.textNodes,R=(new Date(U.getFullYear(),U.getMonth(),ae,this.initHour)),S=new Date().clearTime().getTime(),M=L.clearTime(true).getTime(),O=this.minDate?this.minDate.clearTime(true):Number.NEGATIVE_INFINITY,i=this.maxDate?this.maxDate.clearTime(true):Number.POSITIVE_INFINITY,N=this.disabledDatesRE,Q=this.disabledDatesText,J=this.disabledDays?this.disabledDays.join(""):false,P=this.disabledDaysText,d=this.format;if(this.showToday){var aa=new Date().clearTime(),ah=(aa<O||aa>i||(N&&d&&N.test(aa.dateFormat(d)))||(J&&J.indexOf(aa.getDay())!=-1));if(!this.disabled){this.todayBtn.setDisabled(ah);this.todayKeyListener[ah?"disable":"enable"]()}}var ab=function(a,e){e.title="";var c=R.clearTime(true).getTime();e.firstChild.dateValue=c;if(c==S){e.className+=" x-date-today";e.title=a.todayText}if(c==M){e.className+=" x-date-selected";if(X){Ext.fly(e.firstChild).focus(50)}}if(c<O){e.className=" x-date-disabled";e.title=a.minText;return}if(c>i){e.className=" x-date-disabled";e.title=a.maxText;return}if(J){if(J.indexOf(R.getDay())!=-1){e.title=P;e.className=" x-date-disabled"}}if(N&&d){var b=R.dateFormat(d);if(N.test(b)){e.title=Q.replace("%0",b);e.className=" x-date-disabled"}}};var t=0;for(;t<af;t++){T[t].innerHTML=(++ae);R.setDate(R.getDate()+1);ag[t].className="x-date-prevday";ab(this,ag[t])}for(;t<ac;t++){var ai=t-af+1;T[t].innerHTML=(ai);R.setDate(R.getDate()+1);ag[t].className="x-date-active";ab(this,ag[t])}var K=0;for(;t<42;t++){T[t].innerHTML=(++K);R.setDate(R.getDate()+1);ag[t].className="x-date-nextday";ab(this,ag[t])}this.mbtn.setText(this.monthNames[L.getMonth()]+" "+L.getFullYear());if(!this.internalRender){var ad=this.el.dom.firstChild,Z=ad.offsetWidth;this.el.setWidth(Z+this.el.getBorderWidth("lr"));Ext.fly(ad).setWidth(Z);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){ad.rows[0].cells[1].style.width=(Z-(ad.rows[0].cells[0].offsetWidth+ad.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[L])}}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn);delete this.textNodes;delete this.cells.elements}}});Ext.reg("datepicker",Ext.DatePicker);Ext.LoadMask=function(g,d){this.el=Ext.get(g);Ext.apply(this,d);if(this.store){this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});this.removeMask=Ext.value(this.removeMask,false)}else{var e=this.el.getUpdater();e.showLoadIndicator=false;e.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,true)}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true},enable:function(){this.disabled=false},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoad,this)}else{var b=this.el.getUpdater();b.un("beforeupdate",this.onBeforeLoad,this);b.un("update",this.onLoad,this);b.un("failure",this.onLoad,this)}}};Ext.ns("Ext.slider");Ext.slider.Thumb=Ext.extend(Object,{constructor:function(b){Ext.apply(this,b||{},{cls:"x-slider-thumb",constrain:false});Ext.slider.Thumb.superclass.constructor.call(this,b);if(this.slider.vertical){Ext.apply(this,Ext.slider.Thumb.Vertical)}},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents()},enable:function(){this.disabled=false;this.el.removeClass(this.slider.disabledClass)},disable:function(){this.disabled=true;this.el.addClass(this.slider.disabledClass)},initEvents:function(){var b=this.el;b.addClassOnOver("x-slider-thumb-over");this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(b)},onBeforeDragStart:function(b){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(b){this.el.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.slider.fireEvent("dragstart",this.slider,b,this)},onDrag:function(k){var m=this.slider,e=this.index,l=this.getNewValue();if(this.constrain){var i=m.thumbs[e+1],j=m.thumbs[e-1];if(j!=undefined&&l<=j.value){l=j.value}if(i!=undefined&&l>=i.value){l=i.value}}m.setValue(e,l,false);m.fireEvent("drag",m,k,this)},getNewValue:function(){var d=this.slider,c=d.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(d.reverseValue(c.left),d.decimalPrecision)},onDragEnd:function(g){var e=this.slider,d=this.value;this.el.removeClass("x-slider-thumb-drag");this.dragging=false;e.fireEvent("dragend",e,g);if(this.dragStartValue!=d){e.fireEvent("changecomplete",e,d,this)}}});Ext.slider.MultiSlider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,topThumbZIndex:10000,initComponent:function(){if(!Ext.isDefined(this.value)){this.value=this.minValue}this.thumbs=[];Ext.slider.MultiSlider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.values==undefined||Ext.isEmpty(this.values)){this.values=[0]}var d=this.values;for(var c=0;c<d.length;c++){this.addThumb(d[c])}if(this.vertical){Ext.apply(this,Ext.slider.Vertical)}},addThumb:function(c){var d=new Ext.slider.Thumb({value:c,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(d);if(this.rendered){d.render()}},promoteThumb:function(l){var i=this.thumbs,j,h;for(var k=0,m=i.length;k<m;k++){h=i[k];if(h==l){j=this.topThumbZIndex}else{j=""}h.el.setStyle("zIndex",j)}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.slider.MultiSlider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.focusEl=this.innerEl.child(".x-slider-focus");for(var c=0;c<this.thumbs.length;c++){this.thumbs[c].render()}var d=this.innerEl.child(".x-slider-thumb");this.halfThumb=(this.vertical?d.getHeight():d.getWidth())/2;this.initEvents()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown});this.focusEl.swallowEvent("click",true)},onMouseDown:function(h){if(this.disabled){return}var i=false;for(var e=0;e<this.thumbs.length;e++){i=i||h.target==this.thumbs[e].el.dom}if(this.clickToChange&&!i){var g=this.innerEl.translatePoints(h.getXY());this.onClickChange(g)}this.focus()},onClickChange:function(g){if(g.top>this.clickRange[0]&&g.top<this.clickRange[1]){var e=this.getNearest(g,"left"),d=e.index;this.setValue(d,Ext.util.Format.round(this.reverseValue(g.left),this.decimalPrecision),undefined,true)}},getNearest:function(o,v){var i=v=="top"?this.innerEl.getHeight()-o[v]:o[v],r=this.reverseValue(i),p=(this.maxValue-this.minValue)+5,s=0,u=null;for(var t=0;t<this.thumbs.length;t++){var x=this.thumbs[t],n=x.value,q=Math.abs(n-r);if(Math.abs(q<=p)){u=x;s=t;p=q}}return u},onKeyDown:function(c){if(this.disabled){c.preventDefault();return}var d=c.getKey();switch(d){case c.UP:case c.RIGHT:c.stopEvent();if(c.ctrlKey){this.setValue(this.maxValue,undefined,true)}else{this.setValue(this.value+this.keyIncrement,undefined,true)}break;case c.DOWN:case c.LEFT:c.stopEvent();if(c.ctrlKey){this.setValue(this.minValue,undefined,true)}else{this.setValue(this.value-this.keyIncrement,undefined,true)}break;default:c.preventDefault()}},doSnap:function(e){if(!(this.increment&&e)){return e}var h=e,i=this.increment,g=e%i;if(g!=0){h-=g;if(g*2>=i){h+=i}else{if(g*2<-i){h-=i}}}return h.constrain(this.minValue,this.maxValue)},afterRender:function(){Ext.slider.MultiSlider.superclass.afterRender.apply(this,arguments);for(var g=0;g<this.thumbs.length;g++){var d=this.thumbs[g];if(d.value!==undefined){var e=this.normalizeValue(d.value);if(e!==d.value){this.setValue(g,e,false)}else{this.moveThumb(g,this.translateValue(e),false)}}}},getRatio:function(){var d=this.innerEl.getWidth(),c=this.maxValue-this.minValue;return c==0?d:(d/c)},normalizeValue:function(b){b=this.doSnap(b);b=Ext.util.Format.round(b,this.decimalPrecision);b=b.constrain(this.minValue,this.maxValue);return b},setMinValue:function(g){this.minValue=g;this.syncThumb();for(var d=0,e=this.thumbs.length;d<e;d++){if(this.thumbs[d].value<g){this.thumbs[d].value=g}}},setMaxValue:function(c){this.maxValue=c;this.syncThumb();for(var d=0;d<this.thumbs.length;d++){if(this.thumbs[d].value>c){this.thumbs[d].value=c}}},setValue:function(l,m,h,j){var i=this.thumbs[l],k=i.el;m=this.normalizeValue(m);if(m!==i.value&&this.fireEvent("beforechange",this,m,i.value)!==false){i.value=m;this.moveThumb(l,this.translateValue(m),h!==false);this.fireEvent("change",this,m,i);if(j){this.fireEvent("changecomplete",this,m,i)}}},translateValue:function(d){var c=this.getRatio();return(d*c)-(this.minValue*c)-this.halfThumb},reverseValue:function(c){var d=this.getRatio();return(c+(this.minValue*d))/d},moveThumb:function(h,i,e){var g=this.thumbs[h].el;if(!e||this.animate===false){g.setLeft(i)}else{g.shift({left:i,stopFx:true,duration:0.35})}},focus:function(){this.focusEl.focus(10)},onResize:function(k,i){var g=this.thumbs,h=g.length,j=0;for(;j<h;++j){g[j].el.stopFx()}this.innerEl.setWidth(k-(this.el.getPadding("l")+this.endEl.getPadding("r")));this.syncThumb();Ext.slider.MultiSlider.superclass.onResize.apply(this,arguments)},onDisable:function(){Ext.slider.MultiSlider.superclass.onDisable.call(this);for(var e=0;e<this.thumbs.length;e++){var g=this.thumbs[e],i=g.el;g.disable();if(Ext.isIE){var h=i.getXY();i.hide();this.innerEl.addClass(this.disabledClass).dom.disabled=true;if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})}this.thumbHolder.show().setXY(h)}}},onEnable:function(){Ext.slider.MultiSlider.superclass.onEnable.call(this);for(var d=0;d<this.thumbs.length;d++){var e=this.thumbs[d],g=e.el;e.enable();if(Ext.isIE){this.innerEl.removeClass(this.disabledClass).dom.disabled=false;if(this.thumbHolder){this.thumbHolder.hide()}g.show();this.syncThumb()}}},syncThumb:function(){if(this.rendered){for(var b=0;b<this.thumbs.length;b++){this.moveThumb(b,this.translateValue(this.thumbs[b].value))}}},getValue:function(b){return this.thumbs[b].value},getValues:function(){var d=[];for(var c=0;c<this.thumbs.length;c++){d.push(this.thumbs[c].value)}return d},beforeDestroy:function(){Ext.destroyMembers(this,"endEl","innerEl","thumb","halfThumb","focusEl","tracker","thumbHolder");Ext.slider.MultiSlider.superclass.beforeDestroy.call(this)}});Ext.reg("multislider",Ext.slider.MultiSlider);Ext.slider.SingleSlider=Ext.extend(Ext.slider.MultiSlider,{constructor:function(b){b=b||{};Ext.applyIf(b,{values:[b.value||0]});Ext.slider.SingleSlider.superclass.constructor.call(this,b)},getValue:function(){return Ext.slider.SingleSlider.superclass.getValue.call(this,0)},setValue:function(h,e){var i=Ext.toArray(arguments),g=i.length;if(g==1||(g<=3&&typeof arguments[1]!="number")){i.unshift(0)}return Ext.slider.SingleSlider.superclass.setValue.apply(this,i)},syncThumb:function(){return Ext.slider.SingleSlider.superclass.syncThumb.apply(this,[0].concat(arguments))},getNearest:function(){return this.thumbs[0]}});Ext.Slider=Ext.slider.SingleSlider;Ext.reg("slider",Ext.slider.SingleSlider);Ext.slider.Vertical={onResize:function(d,c){this.innerEl.setHeight(c-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb()},getRatio:function(){var c=this.innerEl.getHeight(),d=this.maxValue-this.minValue;return c/d},moveThumb:function(j,k,g){var h=this.thumbs[j],i=h.el;if(!g||this.animate===false){i.setBottom(k)}else{i.shift({bottom:k,stopFx:true,duration:0.35})}},onClickChange:function(i){if(i.left>this.clickRange[0]&&i.left<this.clickRange[1]){var g=this.getNearest(i,"top"),e=g.index,h=this.minValue+this.reverseValue(this.innerEl.getHeight()-i.top);this.setValue(e,Ext.util.Format.round(h,this.decimalPrecision),undefined,true)}}};Ext.slider.Thumb.Vertical={getNewValue:function(){var e=this.slider,i=e.innerEl,h=i.translatePoints(this.tracker.getXY()),g=i.getHeight()-h.top;return e.minValue+Ext.util.Format.round(g/e.getRatio(),e.decimalPrecision)}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(j,h){var k=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=h?k.insertBefore(h,{cls:this.baseCls},true):k.append(j,{cls:this.baseCls},true);if(this.id){this.el.dom.id=this.id}var g=this.el.dom.firstChild;this.progressBar=Ext.get(g.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var i=Ext.get(g.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,i.dom.firstChild]);this.textEl.setWidth(g.offsetWidth)}this.progressBar.setHeight(g.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text)}else{this.updateText(this.text)}},updateProgress:function(i,h,e){this.value=i||0;if(h){this.updateText(h)}if(this.rendered&&!this.isDestroyed){var g=Math.floor(i*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(g,e===true||(e!==false&&this.animate));if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(g)}}this.fireEvent("update",this,i,h);return this},wait:function(c){if(!this.waitTimer){var d=this;c=c||{};this.updateText(c.text);this.waitTimer=Ext.TaskMgr.start({run:function(b){var a=c.increment||10;b-=1;this.updateProgress(((((b+a)%a)+1)*(100/a))*0.01,null,c.animate)},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||this)}this.reset()},scope:d})}return this},isWaiting:function(){return this.waitTimer!==null},updateText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text)}return this},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text)}return this},setSize:function(e,g){Ext.ProgressBar.superclass.setSize.call(this,e,g);if(this.textTopEl){var d=this.el.dom.firstChild;this.textEl.setSize(d.offsetWidth,d.offsetHeight)}this.syncProgressBar();return this},reset:function(b){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden")}this.clearTimer();if(b===true){this.hide()}return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear()}Ext.destroyMembers(this,"textEl","progressBar","textTopEl")}Ext.ProgressBar.superclass.onDestroy.call(this)}});Ext.reg("progress",Ext.ProgressBar);(function(){var d=Ext.EventManager;var c=Ext.lib.Dom;Ext.dd.DragDrop=function(a,g,b){if(a){this.init(a,g,b)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(b,a){},startDrag:function(b,a){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(s,u,a){if(Ext.isNumber(u)){u={left:u,right:u,top:u,bottom:u}}u=u||this.defaultPadding;var q=Ext.get(this.getEl()).getBox(),y=Ext.get(s),b=y.getScroll(),r,x=y.dom;if(x==document.body){r={x:b.left,y:b.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var p=y.getXY();r={x:p[0],y:p[1],width:x.clientWidth,height:x.clientHeight}}var t=q.y-r.y,v=q.x-r.x;this.resetConstraints();this.setXConstraint(v-(u.left||0),r.width-v-q.width-(u.right||0),this.xTickSize);this.setYConstraint(t-(u.top||0),r.height-t-q.height-(u.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,g,b){this.initTarget(a,g,b);d.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,g,b){this.config=b||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof a!=="string"){a=Ext.id(a)}this.id=a;this.addToGroup((g)?g:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(b,i,a,h){if(!i&&0!==i){this.padding=[b,b,b,b]}else{if(!a&&0!==a){this.padding=[b,i,b,i]}else{this.padding=[b,i,a,h]}}},setInitPosition:function(j,k){var b=this.getEl();if(!this.DDM.verifyEl(b)){return}var l=j||0;var m=k||0;var a=c.getXY(b);this.initPageX=a[0]-l;this.initPageY=a[1]-m;this.lastPageX=a[0];this.lastPageY=a[1];this.setStartPosition(a)},setStartPosition:function(a){var b=a||c.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=true;this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDM.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}d.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){d.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(a,b){if(this.primaryButtonOnly&&a.button!=0){return}if(this.isLocked()){return}this.DDM.refreshCache(this.groups);var e=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(e,this)){}else{if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDM.handleMouseDown(a,this);this.DDM.stopEvent(a)}else{}}},clickValidator:function(a){var b=a.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id)))},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(b){var a=b.toUpperCase();delete this.invalidHandleTypes[a]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var a=0,g=this.invalidHandleClasses.length;a<g;++a){if(this.invalidHandleClasses[a]==b){delete this.invalidHandleClasses[a]}}},isValidHandleChild:function(e){var i=true;var a;try{a=e.nodeName.toUpperCase()}catch(b){a=e.nodeName}i=i&&!this.invalidHandleTypes[a];i=i&&!this.invalidHandleIds[e.id];for(var l=0,m=this.invalidHandleClasses.length;i&&l<m;++l){i=!Ext.fly(e).hasClass(this.invalidHandleClasses[l])}return i},setXTicks:function(a,i){this.xTicks=[];this.xTickSize=i;var b={};for(var h=this.initPageX;h>=this.minX;h=h-i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true}}for(h=this.initPageX;h<=this.maxX;h=h+i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,i){this.yTicks=[];this.yTickSize=i;var b={};for(var h=this.initPageY;h>=this.minY;h=h-i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true}}for(h=this.initPageY;h<=this.maxY;h=h+i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(a,b,g){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(g){this.setXTicks(this.initPageX,g)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(g,a,b){this.topConstraint=g;this.bottomConstraint=a;this.minY=this.initPageY-g;this.maxY=this.initPageY+a;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(a,l){if(!l){return a}else{if(l[0]>=a){return l[0]}else{for(var n=0,o=l.length;n<o;++n){var m=n+1;if(l[m]&&l[m]>=a){var b=a-l[n];var i=l[m]-a;return(i>b)?l[n]:l[m]}}return l[l.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var b=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(j,k){for(var i in this.ids){for(var a in this.ids[i]){var h=this.ids[i][a];if(!this.isTypeOfDD(h)){continue}h[j].apply(h,k)}}},_onLoad:function(){this.init();b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(d,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][d.id]=d},removeDDFromGroup:function(e,a){if(!this.ids[a]){this.ids[a]={}}var g=this.ids[a];if(g&&g[e.id]){delete g[e.id]}},_remove:function(d){for(var a in d.groups){if(a&&this.ids[a]&&this.ids[a][d.id]){delete this.ids[a][d.id]}}delete this.handleIds[d.id]},regHandle:function(d,a){if(!this.handleIds[d]){this.handleIds[d]={}}this.handleIds[d][a]=a},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(i,m){var j=[];for(var k in i.groups){for(var l in this.ids[k]){var a=this.ids[k][l];if(!this.isTypeOfDD(a)){continue}if(!m||a.isTarget){j[j.length]=a}}}return j},isLegalTarget:function(h,i){var k=this.getRelated(h,true);for(var j=0,a=k.length;j<a;++j){if(k[j].id==i.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(d,a){return(this.handleIds[d]&&this.handleIds[d][a])},getDDById:function(d){for(var a in this.ids){if(this.ids[a][d]){return this.ids[a][d]}}return null},handleMouseDown:function(e,g){if(Ext.QuickTips){Ext.QuickTips.disable()}if(this.dragCurrent){this.handleMouseUp(e)}this.currentTarget=e.getTarget();this.dragCurrent=g;var a=g.getEl();this.startX=e.getPageX();this.startY=e.getPageY();this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var c=Ext.dd.DDM;c.startDrag(c.startX,c.startY)},this.clickTimeThresh)},startDrag:function(a,d){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,d);this.dragCurrent.startDrag(a,d)}this.dragThreshMet=true},handleMouseUp:function(a){if(Ext.QuickTips){Ext.QuickTips.enable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true)}else{}this.stopDrag(a);this.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(e){if(!this.dragCurrent){return true}if(Ext.isIE&&(e.button!==0&&e.button!==1&&e.button!==2)){this.stopEvent(e);return this.handleMouseUp(e)}if(!this.dragThreshMet){var g=Math.abs(this.startX-e.getPageX());var a=Math.abs(this.startY-e.getPageY());if(g>this.clickPixelThresh||a>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(e);this.dragCurrent.onDrag(e);if(!this.dragCurrent.moveOnly){this.fireEvents(e,false)}}this.stopEvent(e);return true},fireEvents:function(t,s){var e=this.dragCurrent;if(!e||e.isLocked()){return}var a=t.getPoint();var D=[];var A=[];var v=[];var y=[];var B=[];for(var z in this.dragOvers){var C=this.dragOvers[z];if(!this.isTypeOfDD(C)){continue}if(!this.isOverTarget(a,C,this.mode)){A.push(C)}D[z]=true;delete this.dragOvers[z]}for(var i in e.groups){if("string"!=typeof i){continue}for(z in this.ids[i]){var x=this.ids[i][z];if(!this.isTypeOfDD(x)){continue}if(x.isTarget&&!x.isLocked()&&((x!=e)||(e.ignoreSelf===false))){if(this.isOverTarget(a,x,this.mode)){if(s){y.push(x)}else{if(!D[x.id]){B.push(x)}else{v.push(x)}this.dragOvers[x.id]=x}}}}}if(this.mode){if(A.length){e.b4DragOut(t,A);e.onDragOut(t,A)}if(B.length){e.onDragEnter(t,B)}if(v.length){e.b4DragOver(t,v);e.onDragOver(t,v)}if(y.length){e.b4DragDrop(t,y);e.onDragDrop(t,y)}}else{var u=0;for(z=0,u=A.length;z<u;++z){e.b4DragOut(t,A[z].id);e.onDragOut(t,A[z].id)}for(z=0,u=B.length;z<u;++z){e.onDragEnter(t,B[z].id)}for(z=0,u=v.length;z<u;++z){e.b4DragOver(t,v[z].id);e.onDragOver(t,v[z].id)}for(z=0,u=y.length;z<u;++z){e.b4DragDrop(t,y[z].id);e.onDragDrop(t,y[z].id)}}if(s&&!y.length){e.onInvalidDrop(t)}},getBestMatch:function(j){var h=null;var k=j.length;if(k==1){h=j[0]}else{for(var i=0;i<k;++i){var a=j[i];if(a.cursorIsOver){h=a;break}else{if(!h||h.overlap.getArea()<a.overlap.getArea()){h=a}}}}return h},refreshCache:function(k){for(var a in k){if("string"!=typeof a){continue}for(var j in this.ids[a]){var i=this.ids[a][j];if(this.isTypeOfDD(i)){var h=this.getLocation(i);if(h){this.locationCache[i.id]=h}else{delete this.locationCache[i.id]}}}}},verifyEl:function(g){if(g){var a;if(Ext.isIE){try{a=g.offsetParent}catch(e){}}else{a=g.offsetParent}if(a){return true}}return false},getLocation:function(u){if(!this.isTypeOfDD(u)){return null}var x=u.getEl(),r,y,z,e,l,a,A,s,v;try{r=Ext.lib.Dom.getXY(x)}catch(t){}if(!r){return null}y=r[0];z=y+x.offsetWidth;e=r[1];l=e+x.offsetHeight;a=e-u.padding[0];A=z+u.padding[1];s=l+u.padding[2];v=y-u.padding[3];return new Ext.lib.Region(a,A,s,v)},isOverTarget:function(a,s,q){var o=this.locationCache[s.id];if(!o||!this.useCache){o=this.getLocation(s);this.locationCache[s.id]=o}if(!o){return false}s.cursorIsOver=o.contains(a);var l=this.dragCurrent;if(!l||!l.getTargetCoord||(!q&&!l.constrainX&&!l.constrainY)){return s.cursorIsOver}s.overlap=null;var n=l.getTargetCoord(a.x,a.y);var r=l.getDragEl();var p=new Ext.lib.Region(n.y,n.x+r.offsetWidth,n.y+r.offsetHeight,n.x);var m=p.intersect(o);if(m){s.overlap=m;return(q)?true:s.cursorIsOver}else{return false}},_onUnload:function(d,a){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(d){var a=this.elementCache[d];if(!a||!a.el){a=this.elementCache[d]=new this.ElementWrapper(Ext.getDom(d))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(d){var a=Ext.getDom(d);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.lib.Dom.getX(a)},getPosY:function(a){return Ext.lib.Dom.getY(a)},swapNode:function(h,a){if(h.swapNode){h.swapNode(a)}else{var g=a.parentNode;var i=a.nextSibling;if(i==h){g.insertBefore(h,a)}else{if(a==h.nextSibling){g.insertBefore(a,h)}else{h.parentNode.replaceChild(a,h);g.insertBefore(h,i)}}}},getScroll:function(){var h,a,g=document.documentElement,i=document.body;if(g&&(g.scrollTop||g.scrollLeft)){h=g.scrollTop;a=g.scrollLeft}else{if(i){h=i.scrollTop;a=i.scrollLeft}else{}}return{top:h,left:a}},getStyle:function(d,a){return Ext.fly(d).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,e){var g=Ext.lib.Dom.getXY(e);Ext.lib.Dom.setXY(a,g)},numericSort:function(a,e){return(a-e)},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;if(Ext.lib.Event&&document){a._onLoad()}else{if(a._timeoutCount>2000){}else{setTimeout(a._addListeners,10);if(document&&document.body){a._timeoutCount+=1}}}},handleWasClicked:function(a,e){if(this.isHandle(e,a.id)){return true}else{var g=a.parentNode;while(g){if(this.isHandle(e,g.id)){return true}else{g=g.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(g,e,d){if(g){this.init(g,e,d)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(i,e){var g=i-this.startPageX;var h=e-this.startPageY;this.setDelta(g,h)},setDelta:function(c,d){this.deltaX=c;this.deltaY=d},setDragElPos:function(g,d){var e=this.getDragEl();this.alignElWithMouse(e,g,d)},alignElWithMouse:function(q,m,n){var o=this.getTargetCoord(m,n);var j=q.dom?q:Ext.fly(q,"_dd");if(!this.deltaSetXY){var l=[o.x,o.y];j.setXY(l);var p=j.getLeft(true);var k=j.getTop(true);this.deltaSetXY=[p-o.x,k-o.y]}else{j.setLeftTop(o.x+this.deltaSetXY[0],o.y+this.deltaSetXY[1])}this.cachePosition(o.x,o.y);this.autoScroll(o.x,o.y,q.offsetHeight,q.offsetWidth);return o},cachePosition:function(d,e){if(d){this.lastPageX=d;this.lastPageY=e}else{var g=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(t,u,z,s){if(this.scroll){var r=Ext.lib.Dom.getViewHeight();var C=Ext.lib.Dom.getViewWidth();var h=this.DDM.getScrollTop();var A=this.DDM.getScrollLeft();var v=z+u;var q=s+t;var x=(r+h-u-this.deltaY);var y=(C+A-t-this.deltaX);var B=40;var D=(document.all)?80:30;if(v>r&&x<B){window.scrollTo(A,h+D)}if(u<h&&h>0&&u-h<B){window.scrollTo(A,h-D)}if(q>C&&y<B){window.scrollTo(A+D,h)}if(t<A&&A>0&&t-A<B){window.scrollTo(A-D,h)}}},getTargetCoord:function(i,e){var g=i-this.deltaX;var h=e-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX}if(g>this.maxX){g=this.maxX}}if(this.constrainY){if(h<this.minY){h=this.minY}if(h>this.maxY){h=this.maxY}}g=this.getTick(g,this.xTicks);h=this.getTick(h,this.yTicks);return{x:g,y:h}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY())},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(g,e,d){if(g){this.init(g,e,d);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var e=this;var g=document.body;if(!g||!g.firstChild){setTimeout(function(){e.createFrame()},50);return}var h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;var i=h.style;i.position="absolute";i.visibility="hidden";i.cursor="move";i.border="2px solid #aaa";i.zIndex=999;g.insertBefore(h,g.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(i,j){var k=this.getEl();var h=this.getDragEl();var g=h.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(g.width,10)/2),Math.round(parseInt(g.height,10)/2))}this.setDragElPos(i,j);Ext.fly(h).show()},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight)}},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);this.setDragElPos(e,g)},b4StartDrag:function(d,c){this.showFrame(d,c)},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide()},endDrag:function(g){var d=this.getEl();var e=this.getDragEl();e.style.visibility="";this.beforeMove();d.style.visibility="hidden";Ext.dd.DDM.moveToEl(d,e);e.style.visibility="hidden";d.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(g,e,d){if(g){this.initTarget(g,e,d)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(b){Ext.apply(this,b);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}Ext.dd.DragTracker.superclass.constructor.call(this,b)},initEl:function(b){this.el=Ext.get(b);b.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this)},onMouseDown:function(g,d){if(this.fireEvent("mousedown",this,g)!==false&&this.onBeforeStart(g)!==false){this.startXY=this.lastXY=g.getXY();this.dragTarget=this.delegate?d:this.el.dom;if(this.preventDefault!==false){g.preventDefault()}var e=Ext.getDoc();e.on("mouseup",this.onMouseUp,this);e.on("mousemove",this.onMouseMove,this);e.on("selectstart",this.stopSelect,this);if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this)}}},onMouseMove:function(h,i){if(this.active&&Ext.isIE&&!h.browserEvent.button){h.preventDefault();this.onMouseUp(h);return}h.preventDefault();var e=h.getXY(),g=this.startXY;this.lastXY=e;if(!this.active){if(Math.abs(g[0]-e[0])>this.tolerance||Math.abs(g[1]-e[1])>this.tolerance){this.triggerStart()}else{return}}this.fireEvent("mousemove",this,h);this.onDrag(h);this.fireEvent("drag",this,h)},onMouseUp:function(g){var d=Ext.getDoc();d.un("mousemove",this.onMouseMove,this);d.un("mouseup",this.onMouseUp,this);d.un("selectstart",this.stopSelect,this);g.preventDefault();this.clearStart();var e=this.active;this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,g);if(e){this.onEnd(g);this.fireEvent("dragend",this,g)}},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(b){b.stopEvent();return false},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(b){return b?this.constrainModes[b].call(this,this.lastXY):this.lastXY},getOffset:function(g){var d=this.getXY(g);var e=this.startXY;return[e[0]-d[0],e[1]-d[1]]},constrainModes:{point:function(c){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var d=this.dragRegion;d.left=c[0];d.top=c[1];d.right=c[0];d.bottom=c[1];d.constrainTo(this.elRegion);return[d.left,d.top]}}});Ext.dd.ScrollManager=function(){var s=Ext.dd.DragDropMgr;var q={};var t=null;var n={};var o=function(a){t=null;u()};var m=function(){if(s.dragCurrent){s.refreshCache(s.dragCurrent.groups)}};var r=function(){if(s.dragCurrent){var b=Ext.dd.ScrollManager;var a=n.el.ddScrollConfig?n.el.ddScrollConfig.increment:b.increment;if(!b.animate){if(n.el.scroll(n.dir,a)){m()}}else{n.el.scroll(n.dir,a,true,b.animDuration,m)}}};var u=function(){if(n.id){clearInterval(n.id)}n.id=0;n.el=null;n.dir=""};var p=function(a,b){u();n.el=a;n.dir=b;var c=(a.ddScrollConfig&&a.ddScrollConfig.frequency)?a.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;n.id=setInterval(r,c)};var l=function(c,a){if(a||!s.dragCurrent){return}var j=Ext.dd.ScrollManager;if(!t||t!=s.dragCurrent){t=s.dragCurrent;j.refreshCache()}var i=Ext.lib.Event.getXY(c);var h=new Ext.lib.Point(i[0],i[1]);for(var e in q){var d=q[e],g=d._region;var b=d.ddScrollConfig?d.ddScrollConfig:j;if(g&&g.contains(h)&&d.isScrollable()){if(g.bottom-h.y<=b.vthresh){if(n.el!=d){p(d,"down")}return}else{if(g.right-h.x<=b.hthresh){if(n.el!=d){p(d,"left")}return}else{if(h.y-g.top<=b.vthresh){if(n.el!=d){p(d,"up")}return}else{if(h.x-g.left<=b.hthresh){if(n.el!=d){p(d,"right")}return}}}}}}u()};s.fireEvents=s.fireEvents.createSequence(l,s);s.stopDrag=s.stopDrag.createSequence(o,s);return{register:function(c){if(Ext.isArray(c)){for(var a=0,b=c.length;a<b;a++){this.register(c[a])}}else{c=Ext.get(c);q[c.id]=c}},unregister:function(c){if(Ext.isArray(c)){for(var a=0,b=c.length;a<b;a++){this.unregister(c[a])}}else{c=Ext.get(c);delete q[c.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var a in q){if(typeof q[a]=="object"){q[a]._region=q[a].getRegion()}}}}}();Ext.dd.Registry=function(){var h={};var e={};var g=0;var i=function(b,c){if(typeof b=="string"){return b}var a=b.id;if(!a&&c!==false){a="extdd-"+(++g);b.id=a}return a};return{register:function(b,a){a=a||{};if(typeof b=="string"){b=document.getElementById(b)}a.ddel=b;h[i(b)]=a;if(a.isHandle!==false){e[a.ddel.id]=a}if(a.handles){var c=a.handles;for(var d=0,l=c.length;d<l;d++){e[i(c[d])]=a}}},unregister:function(c){var a=i(c,false);var b=h[a];if(b){delete h[a];if(b.handles){var d=b.handles;for(var m=0,n=d.length;m<n;m++){delete e[i(d[m],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return e[a]},getHandleFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?e[b.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return h[a]},getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?h[b.id]||e[b.id]:null}}}();Ext.dd.StatusProxy=function(b){Ext.apply(this,b);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!b||b.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceClass(this.dropStatus,b);this.dropStatus=b}},reset:function(b){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("")}},update:function(d){if(typeof d=="string"){this.ghost.update(d)}else{this.ghost.update("");d.style.margin="0";this.ghost.dom.appendChild(d)}var c=this.ghost.dom.firstChild;if(c){Ext.fly(c).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(b){this.el.hide();if(b){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(d,g,e){this.callback=g;this.scope=e;if(d&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:d,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};Ext.dd.DragSource=function(c,d){this.el=Ext.get(c);if(!this.dragData){this.dragData={}}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(b){return this.dragData},onDragEnter:function(i,h){var e=Ext.dd.DragDropMgr.getDDById(h);this.cachedTarget=e;if(this.beforeDragEnter(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyEnter(this,i,this.dragData);this.proxy.setStatus(g)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(e,i,h)}}},beforeDragEnter:function(d,e,g){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(i,h){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(h);if(this.beforeDragOver(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyOver(this,i,this.dragData);this.proxy.setStatus(g)}if(this.afterDragOver){this.afterDragOver(e,i,h)}}},beforeDragOver:function(d,e,g){return true},onDragOut:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragOut(e,d,g)!==false){if(e.isNotifyTarget){e.notifyOut(this,d,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(e,d,g)}}this.cachedTarget=null},beforeDragOut:function(d,e,g){return true},onDragDrop:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragDrop(e,d,g)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,d,this.dragData)){this.onValidDrop(e,d,g)}else{this.onInvalidDrop(e,d,g)}}else{this.onValidDrop(e,d,g)}if(this.afterDragDrop){this.afterDragDrop(e,d,g)}}delete this.cachedTarget},beforeDragDrop:function(d,e,g){return true},onValidDrop:function(d,e,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(d,e,g)}},getRepairXY:function(c,d){return this.el.getXY()},onInvalidDrop:function(d,e,g){this.beforeInvalidDrop(d,e,g);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,e,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(e,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(e,g)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(d,e,g){return true},handleMouseDown:function(c){if(this.dragging){return}var d=this.getDragData(c);if(d&&this.onBeforeDrag(d,c)!==false){this.dragData=d;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(d,c){return true},onStartDrag:Ext.emptyFn,startDrag:function(d,c){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(d,c);this.proxy.show()},onInitDrag:function(e,g){var d=this.el.dom.cloneNode(true);d.id=Ext.id();this.proxy.update(d);this.onStartDrag(e,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b)},onEndDrag:function(d,c){},autoOffset:function(d,c){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});Ext.dd.DropTarget=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})};Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,g,d){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(e,g,d){return this.dropAllowed},notifyOut:function(e,g,d){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(e,g,d){return false}});Ext.dd.DragZone=function(c,d){Ext.dd.DragZone.superclass.constructor.call(this,c,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}};Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(b){return Ext.dd.Registry.getHandleFromEvent(b)},onInitDrag:function(d,c){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,c);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(b){return Ext.Element.fly(this.dragData.ddel).getXY()}});Ext.dd.DropZone=function(c,d){Ext.dd.DropZone.superclass.constructor.call(this,c,d)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(b){return Ext.dd.Registry.getTargetFromEvent(b)},onNodeEnter:function(h,g,i,e){},onNodeOver:function(h,g,i,e){return this.dropAllowed},onNodeOut:function(h,g,i,e){},onNodeDrop:function(h,g,i,e){return false},onContainerOver:function(e,g,d){return this.dropNotAllowed},onContainerDrop:function(e,g,d){return false},notifyEnter:function(e,g,d){return this.dropNotAllowed},notifyOver:function(g,i,e){var h=this.getTargetFromEvent(i);if(!h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null}return this.onContainerOver(g,i,e)}if(this.lastOverNode!=h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e)}this.onNodeEnter(h,g,i,e);this.lastOverNode=h}return this.onNodeOver(h,g,i,e)},notifyOut:function(e,g,d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,g,d);this.lastOverNode=null}},notifyDrop:function(g,i,e){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null}var h=this.getTargetFromEvent(i);return h?this.onNodeDrop(h,g,i,e):this.onContainerDrop(g,i,e)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.Element.addMethods({initDD:function(i,e,h){var g=new Ext.dd.DD(Ext.id(this.dom),i,e);return Ext.apply(g,h)},initDDProxy:function(i,e,h){var g=new Ext.dd.DDProxy(Ext.id(this.dom),i,e);return Ext.apply(g,h)},initDDTarget:function(i,e,h){var g=new Ext.dd.DDTarget(Ext.id(this.dom),i,e);return Ext.apply(g,h)}});Ext.data.Api=(function(){var b={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(a){return(Ext.data.Api.actions[a])?true:false},getVerb:function(a){if(b[a]){return b[a]}for(var d in this.actions){if(this.actions[d]===a){b[a]=d;break}}return(b[a]!==undefined)?b[a]:null},isValid:function(a){var g=[];var h=this.actions;for(var i in a){if(!(i in h)){g.push(i)}}return(!g.length)?true:g},hasUniqueUrl:function(k,h){var a=(k.api[h])?k.api[h].url:null;var i=true;for(var j in k.api){if((i=(j===h)?true:(k.api[j].url!=a)?true:false)===false){break}}return i},prepare:function(a){if(!a.api){a.api={}}for(var e in this.actions){var g=this.actions[e];a.api[g]=a.api[g]||a.url||a.directFn;if(typeof(a.api[g])=="string"){a.api[g]={url:a.api[g],method:(a.restful===true)?Ext.data.Api.restActions[g]:undefined}}}},restify:function(a){a.restful=true;for(var d in this.restActions){a.api[this.actions[d]].method||(a.api[this.actions[d]].method=this.restActions[d])}a.onWrite=a.onWrite.createInterceptor(function(k,c,m,n){var o=c.reader;var l=new Ext.data.Response({action:k,raw:m});switch(m.status){case 200:return true;break;case 201:if(Ext.isEmpty(l.raw.responseText)){l.success=true}else{return true}break;case 204:l.success=true;l.data=null;break;default:return true;break}if(l.success===true){this.fireEvent("write",this,k,l.data,l,n,c.request.arg)}else{this.fireEvent("exception",this,"remote",k,c,l,n)}c.request.callback.call(c.request.scope,l.data,l,l.success);return false},a)}}})();Ext.data.Response=function(c,d){Ext.apply(this,c,{raw:d})};Ext.data.Response.prototype={message:null,success:false,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.Api"});Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});Ext.data.SortTypes={none:function(b){return b},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"")},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(b){return String(b).toUpperCase()},asDate:function(b){if(!b){return 0}if(Ext.isDate(b)){return b.getTime()}return Date.parse(String(b))},asFloat:function(d){var c=parseFloat(String(d).replace(/,/g,""));return isNaN(c)?0:c},asInt:function(d){var c=parseInt(String(d).replace(/,/g,""),10);return isNaN(c)?0:c}};Ext.data.Record=function(d,c){this.id=(c||c===0)?c:Ext.data.Record.id(this);this.data=d||{}};Ext.data.Record.create=function(i){var k=Ext.extend(Ext.data.Record,{});var j=k.prototype;j.fields=new Ext.util.MixedCollection(false,function(a){return a.name});for(var g=0,h=i.length;g<h;g++){j.fields.add(new Ext.data.Field(i[g]))}k.getField=function(a){return j.fields.get(a)};return k};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(b){b.phantom=true;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")};Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,phantom:false,join:function(b){this.store=b},set:function(e,g){var d=Ext.isPrimitive(g)?String:Ext.encode;if(d(this.data[e])==d(g)){return}this.dirty=true;if(!this.modified){this.modified={}}if(this.modified[e]===undefined){this.modified[e]=this.data[e]}this.data[e]=g;if(!this.editing){this.afterEdit()}},afterEdit:function(){if(this.store!=undefined&&typeof this.store.afterEdit=="function"){this.store.afterEdit(this)}},afterReject:function(){if(this.store){this.store.afterReject(this)}},afterCommit:function(){if(this.store){this.store.afterCommit(this)}},get:function(b){return this.data[b]},beginEdit:function(){this.editing=true;this.modified=this.modified||{}},cancelEdit:function(){this.editing=false;delete this.modified},endEdit:function(){this.editing=false;if(this.dirty){this.afterEdit()}},reject:function(d){var e=this.modified;for(var g in e){if(typeof e[g]!="function"){this.data[g]=e[g]}}this.dirty=false;delete this.modified;this.editing=false;if(d!==true){this.afterReject()}},commit:function(b){this.dirty=false;delete this.modified;this.editing=false;if(b!==true){this.afterCommit()}},getChanges:function(){var e=this.modified,d={};for(var g in e){if(e.hasOwnProperty(g)){d[g]=this.data[g]}}return d},hasError:function(){return this.error!==null},clearError:function(){this.error=null},copy:function(b){return new this.constructor(Ext.apply({},this.data),b||this.id)},isModified:function(b){return !!(this.modified&&this.modified.hasOwnProperty(b))},isValid:function(){return this.fields.find(function(b){return(b.allowBlank===false&&Ext.isEmpty(this.data[b.name]))?true:false},this)?false:true},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(b){this.modified[b.name]=this.data[b.name]},this)}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c)}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.lookup(c))}},lookup:function(i){if(Ext.isArray(i)){var g=["field1"],j=!Ext.isArray(i[0]);if(!j){for(var k=2,h=i[0].length;k<=h;++k){g.push("field"+k)}}return new Ext.data.ArrayStore({fields:g,data:i,expandData:j,autoDestroy:true,autoCreated:true})}return Ext.isObject(i)?(i.events?i:Ext.create(i,"store")):this.get(i)},getKey:function(b){return b.storeId}});Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:undefined,remoteSort:false,autoDestroy:false,pruneModifiedRecords:false,lastOptions:null,autoSave:true,batch:true,restful:false,paramNames:undefined,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:false,hasMultiSort:false,batchKey:"_ext_batch_",constructor:function(b){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(a){return a.id};this.removed=[];if(b&&b.data){this.inlineData=b.data;delete b.data}Ext.apply(this,b);this.baseParams=Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api})}if(this.restful===true&&this.proxy){this.batch=false;Ext.data.Api.restify(this.proxy)}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType}if(this.reader.onMetaChange){this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)}if(this.writer){if(this.writer instanceof (Ext.data.DataWriter)===false){this.writer=this.buildWriter(this.writer)}this.writer.meta=this.reader.meta;this.pruneModifiedRecords=true}}if(this.recordType){this.fields=this.recordType.prototype.fields}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");if(this.proxy){this.relayEvents(this.proxy,["loadexception","exception"])}if(this.writer){this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear})}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir)}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction)}}Ext.data.Store.superclass.constructor.call(this);if(this.id){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}this.batchCounter=0;this.batches={}},buildWriter:function(d){var e=undefined,g=(d.format||"json").toLowerCase();switch(g){case"json":e=Ext.data.JsonWriter;break;case"xml":e=Ext.data.XmlWriter;break;default:e=Ext.data.JsonWriter}return new e(d)},destroy:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;Ext.destroy(this.proxy);this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true}},add:function(e){e=[].concat(e);if(e.length<1){return}for(var h=0,g=e.length;h<g;h++){e[h].join(this)}var i=this.data.length;this.data.addAll(e);if(this.snapshot){this.snapshot.addAll(e)}this.fireEvent("add",this,e,i)},addSorted:function(d){var c=this.findInsertIndex(d);this.insert(c,d)},remove:function(d){if(Ext.isArray(d)){Ext.each(d,function(a){this.remove(a)},this)}var c=this.data.indexOf(d);if(c>-1){d.join(null);this.data.removeAt(c)}if(this.pruneModifiedRecords){this.modified.remove(d)}if(this.snapshot){this.snapshot.remove(d)}if(c>-1){this.fireEvent("remove",this,d,c)}},removeAt:function(b){this.remove(this.getAt(b))},removeAll:function(c){var d=[];this.each(function(a){d.push(a)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(this.pruneModifiedRecords){this.modified=[]}if(c!==true){this.fireEvent("clear",this,d)}},onClear:function(c,d){Ext.each(d,function(a,b){this.destroyRecord(this,a,b)},this)},insert:function(i,e){e=[].concat(e);for(var h=0,g=e.length;h<g;h++){this.data.insert(i,e[h]);e[h].join(this)}if(this.snapshot){this.snapshot.addAll(e)}this.fireEvent("add",this,e,i)},indexOf:function(b){return this.data.indexOf(b)},indexOfId:function(b){return this.data.indexOfKey(b)},getById:function(b){return(this.snapshot||this.data).key(b)},getAt:function(b){return this.data.itemAt(b)},getRange:function(c,d){return this.data.getRange(c,d)},storeOptions:function(b){b=Ext.apply({},b);delete b.callback;delete b.scope;this.lastOptions=b},clearData:function(){this.data.each(function(b){b.join(null)});this.data.clear()},load:function(d){d=Ext.apply({},d);this.storeOptions(d);if(this.sortInfo&&this.remoteSort){var e=this.paramNames;d.params=Ext.apply({},d.params);d.params[e.sort]=this.sortInfo.field;d.params[e.dir]=this.sortInfo.direction}try{return this.execute("read",null,d)}catch(g){this.handleException(g);return false}},updateRecord:function(d,e,g){if(g==Ext.data.Record.EDIT&&this.autoSave===true&&(!e.phantom||(e.phantom&&e.isValid()))){this.save()}},createRecords:function(k,g,j){for(var i=0,h=g.length;i<h;i++){if(g[i].phantom&&g[i].isValid()){g[i].markDirty();this.modified.push(g[i])}}if(this.autoSave===true){this.save()}},destroyRecord:function(d,e,g){if(this.modified.indexOf(e)!=-1){this.modified.remove(e)}if(!e.phantom){this.removed.push(e);e.lastIndex=g;if(this.autoSave===true){this.save()}}},execute:function(i,h,k,g){if(!Ext.data.Api.isAction(i)){throw new Ext.data.Api.Error("execute",i)}k=Ext.applyIf(k||{},{params:{}});if(g!==undefined){this.addToBatch(g)}var j=true;if(i==="read"){j=this.fireEvent("beforeload",this,k);Ext.applyIf(k.params,this.baseParams)}else{if(this.writer.listful===true&&this.restful!==true){h=(Ext.isArray(h))?h:[h]}else{if(Ext.isArray(h)&&h.length==1){h=h.shift()}}if((j=this.fireEvent("beforewrite",this,i,h,k))!==false){this.writer.apply(k.params,this.baseParams,i,h)}}if(j!==false){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,i)){k.params.xaction=i}this.proxy.request(Ext.data.Api.actions[i],h,k.params,this.reader,this.createCallback(i,h,g),this,k)}return j},save:function(){if(!this.writer){throw new Ext.data.Store.Error("writer-undefined")}var m=[],l,i,o,q={};if(this.removed.length){m.push(["destroy",this.removed])}var r=[].concat(this.getModifiedRecords());if(r.length){var n=[];for(var p=r.length-1;p>=0;p--){if(r[p].phantom===true){var s=r.splice(p,1).shift();if(s.isValid()){n.push(s)}}else{if(!r[p].isValid()){r.splice(p,1)}}}if(n.length){m.push(["create",n])}if(r.length){m.push(["update",r])}}l=m.length;if(l){o=++this.batchCounter;for(var p=0;p<l;++p){i=m[p];q[i[0]]=i[1]}if(this.fireEvent("beforesave",this,q)!==false){for(var p=0;p<l;++p){i=m[p];this.doTransaction(i[0],i[1],o)}return o}}return -1},doTransaction:function(k,h,m){function j(b){try{this.execute(k,b,undefined,m)}catch(a){this.handleException(a)}}if(this.batch===false){for(var l=0,i=h.length;l<i;l++){j.call(this,h[l])}}else{j.call(this,h)}},addToBatch:function(i){var b=this.batches,h=this.batchKey+i,g=b[h];if(!g){b[h]=g={id:i,count:0,data:{}}}++g.count},removeFromBatch:function(n,k,l){var o=this.batches,m=this.batchKey+n,j=o[m],l,b;if(j){b=j.data[k]||[];j.data[k]=b.concat(l);if(j.count===1){l=j.data;delete o[m];this.fireEvent("save",this,n,l)}else{--j.count}}},createCallback:function(i,g,e){var h=Ext.data.Api.actions;return(i=="read")?this.loadRecords:function(b,c,a){this["on"+Ext.util.Format.capitalize(i)+"Records"](a,g,[].concat(b));if(a===true){this.fireEvent("write",this,i,b,c,g)}this.removeFromBatch(e,i,b)}},clearModified:function(d){if(Ext.isArray(d)){for(var c=d.length-1;c>=0;c--){this.modified.splice(this.modified.indexOf(d[c]),1)}}else{this.modified.splice(this.modified.indexOf(d),1)}},reMap:function(e){if(Ext.isArray(e)){for(var h=0,g=e.length;h<g;h++){this.reMap(e[h])}}else{delete this.data.map[e._phid];this.data.map[e.id]=e;var i=this.data.keys.indexOf(e._phid);this.data.keys.splice(i,1,e.id);delete e._phid}},onCreateRecords:function(h,g,e){if(h===true){try{this.reader.realize(g,e);this.reMap(g)}catch(i){this.handleException(i);if(Ext.isArray(g)){this.onCreateRecords(h,g,e)}}}},onUpdateRecords:function(h,g,e){if(h===true){try{this.reader.update(g,e)}catch(i){this.handleException(i);if(Ext.isArray(g)){this.onUpdateRecords(h,g,e)}}}},onDestroyRecords:function(i,g,j){g=(g instanceof Ext.data.Record)?[g]:[].concat(g);for(var k=0,h=g.length;k<h;k++){this.removed.splice(this.removed.indexOf(g[k]),1)}if(i===false){for(k=g.length-1;k>=0;k--){this.insert(g[k].lastIndex,g[k])}}},handleException:function(b){Ext.handleError(b)},reload:function(b){this.load(Ext.applyIf(b||{},this.lastOptions))},loadRecords:function(k,i,l){if(this.isDestroyed===true){return}if(!k||l===false){if(l!==false){this.fireEvent("load",this,[],i)}if(i.callback){i.callback.call(i.scope||this,[],i,false,k)}return}var m=k.records,n=k.totalRecords||m.length;if(!i||i.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(var o=0,j=m.length;o<j;o++){m[o].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.clearData();this.data.addAll(m);this.totalLength=n;this.applySort();this.fireEvent("datachanged",this)}else{this.totalLength=Math.max(n,this.data.length+m.length);this.add(m)}this.fireEvent("load",this,m,i);if(i.callback){i.callback.call(i.scope||this,m,i,true)}},loadData:function(g,e){var d=this.reader.readRecords(g);this.loadRecords(d,{add:e},true)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if((this.sortInfo||this.multiSortInfo)&&!this.remoteSort){this.sortData()}},sortData:function(){var j=this.hasMultiSort?this.multiSortInfo:this.sortInfo,l=j.direction||"ASC",m=j.sorters,q=[];if(!this.hasMultiSort){m=[{direction:l,field:j.field}]}for(var p=0,i=m.length;p<i;p++){q.push(this.createSortFunction(m[p].field,m[p].direction))}if(q.length==0){return}var n=l.toUpperCase()=="DESC"?-1:1;var o=function(e,a){var b=q[0].call(this,e,a);if(q.length>1){for(var c=1,d=q.length;c<d;c++){b=b||q[c].call(this,e,a)}}return n*b};this.data.sort(l,o);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(l,o)}},createSortFunction:function(i,e){e=e||"ASC";var g=e.toUpperCase()=="DESC"?-1:1;var h=this.fields.get(i).sortType;return function(c,d){var a=h(c.data[i]),b=h(d.data[i]);return g*(a>b?1:(a<b?-1:0))}},setDefaultSort:function(c,d){d=d?d.toUpperCase():"ASC";this.sortInfo={field:c,direction:d};this.sortToggle[c]=d},sort:function(c,d){if(Ext.isArray(arguments[0])){return this.multiSort.call(this,c,d)}else{return this.singleSort(c,d)}},singleSort:function(j,m){var k=this.fields.get(j);if(!k){return false}var h=k.name,i=this.sortInfo||null,l=this.sortToggle?this.sortToggle[h]:null;if(!m){if(i&&i.field==h){m=(this.sortToggle[h]||"ASC").toggle("ASC","DESC")}else{m=k.sortDir}}this.sortToggle[h]=m;this.sortInfo={field:h,direction:m};this.hasMultiSort=false;if(this.remoteSort){if(!this.load(this.lastOptions)){if(l){this.sortToggle[h]=l}if(i){this.sortInfo=i}}}else{this.applySort();this.fireEvent("datachanged",this)}},multiSort:function(c,d){this.hasMultiSort=true;d=d||"ASC";if(this.multiSortInfo&&d==this.multiSortInfo.direction){d=d.toggle("ASC","DESC")}this.multiSortInfo={sorters:c,direction:d};if(this.remoteSort){this.singleSort(c[0].field,c[0].direction)}else{this.applySort();this.fireEvent("datachanged",this)}},each:function(c,d){this.data.each(c,d)},getModifiedRecords:function(){return this.modified},sum:function(k,j,i){var m=this.data.items,h=0;j=j||0;i=(i||i===0)?i:m.length-1;for(var l=j;l<=i;l++){h+=(m[l].data[k]||0)}return h},createFilterFn:function(j,k,i,h,g){if(Ext.isEmpty(k,false)){return false}k=this.data.createValueMatcher(k,i,h,g);return function(a){return k.test(a.data[j])}},createMultipleFilterFn:function(b){return function(a){var i=true;for(var n=0,o=b.length;n<o;n++){var j=b[n],l=j.fn,m=j.scope;i=i&&l.call(m,a)}return i}},filter:function(j,p,s,r,u){if(Ext.isObject(j)){j=[j]}if(Ext.isArray(j)){var y=[];for(var t=0,v=j.length;t<v;t++){var z=j[t],x=z.fn,i=z.scope||this;if(!Ext.isFunction(x)){x=this.createFilterFn(z.property,z.value,z.anyMatch,z.caseSensitive,z.exactMatch)}y.push({fn:x,scope:i})}var q=this.createMultipleFilterFn(y)}else{var q=this.createFilterFn(j,p,s,r,u)}return q?this.filterBy(q):this.clearFilter()},filterBy:function(c,d){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(c,d||this);this.fireEvent("datachanged",this)},clearFilter:function(b){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(b!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},query:function(j,k,i,h){var g=this.createFilterFn(j,k,i,h);return g?this.queryBy(g):this.data.clone()},queryBy:function(d,e){var g=this.snapshot||this.data;return g.filterBy(d,e||this)},find:function(l,m,j,k,i){var h=this.createFilterFn(l,m,k,i);return h?this.data.findIndexBy(h,null,j):-1},findExact:function(d,e,g){return this.data.findIndexBy(function(a){return a.get(d)===e},this,g)},findBy:function(d,e,g){return this.data.findIndexBy(d,e,g)},collect:function(o,l,t){var p=(t===true&&this.snapshot)?this.snapshot.items:this.data.items;var i,d,u=[],s={};for(var r=0,q=p.length;r<q;r++){i=p[r].data[o];d=String(i);if((l||!Ext.isEmpty(i))&&!s[d]){s[d]=true;u[u.length]=i}}return u},afterEdit:function(b){if(this.modified.indexOf(b)==-1){this.modified.push(b)}this.fireEvent("update",this,b,Ext.data.Record.EDIT)},afterReject:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.REJECT)},afterCommit:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.COMMIT)},commitChanges:function(){var d=this.modified.slice(0);this.modified=[];for(var g=0,e=d.length;g<e;g++){d[g].commit()}},rejectChanges:function(){var d=this.modified.slice(0);this.modified=[];for(var g=0,e=d.length;g<e;g++){d[g].reject()}var d=this.removed.slice(0).reverse();this.removed=[];for(var g=0,e=d.length;g<e;g++){this.insert(d[g].lastIndex||0,d[g]);d[g].reject()}},onMetaChange:function(b){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;delete this.snapshot;if(this.reader.meta.sortInfo){this.sortInfo=this.reader.meta.sortInfo}else{if(this.sortInfo&&!this.fields.get(this.sortInfo.field)){delete this.sortInfo}}if(this.writer){this.writer.meta=this.reader.meta}this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(e){this.suspendEvents();var g=this.data.clone();this.data.add(e);this.applySort();var d=this.data.indexOf(e);this.data=g;this.resumeEvents();return d},setBaseParam:function(d,c){this.baseParams=this.baseParams||{};this.baseParams[d]=c}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});Ext.data.Field=Ext.extend(Object,{constructor:function(e){if(Ext.isString(e)){e={name:e}}Ext.apply(this,e);var h=Ext.data.Types,g=this.sortType,i;if(this.type){if(Ext.isString(this.type)){this.type=Ext.data.Types[this.type.toUpperCase()]||h.AUTO}}else{this.type=h.AUTO}if(Ext.isString(g)){this.sortType=Ext.data.SortTypes[g]}else{if(Ext.isEmpty(g)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.DataReader=function(d,c){this.meta=d;this.recordType=Ext.isArray(c)?Ext.data.Record.create(c):c;if(this.recordType){this.buildExtractors()}};Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(e,g){if(Ext.isArray(e)){for(var d=e.length-1;d>=0;d--){if(Ext.isArray(g)){this.realize(e.splice(d,1).shift(),g.splice(d,1).shift())}else{this.realize(e.splice(d,1).shift(),g)}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}if(!this.isData(g)){throw new Ext.data.DataReader.Error("realize",e)}e.phantom=false;e._phid=e.id;e.id=this.getId(g);e.data=g;e.commit()}},update:function(e,g){if(Ext.isArray(e)){for(var d=e.length-1;d>=0;d--){if(Ext.isArray(g)){this.update(e.splice(d,1).shift(),g.splice(d,1).shift())}else{this.update(e.splice(d,1).shift(),g)}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}if(this.isData(g)){e.data=Ext.apply(e.data,g)}e.commit()}},extractData:function(q,z){var r=(this instanceof Ext.data.JsonReader)?"json":"node";var x=[];if(this.isData(q)&&!(this instanceof Ext.data.XmlReader)){q=[q]}var s=this.recordType.prototype.fields,i=s.items,n=s.length,x=[];if(z===true){var p=this.recordType;for(var u=0;u<q.length;u++){var y=q[u];var t=new p(this.extractValues(y,i,n),this.getId(y));t[r]=y;x.push(t)}}else{for(var u=0;u<q.length;u++){var v=this.extractValues(q[u],i,n);v[this.meta.idProperty]=this.getId(q[u]);x.push(v)}}return x},isData:function(b){return(b&&Ext.isObject(b)&&!Ext.isEmpty(this.getId(b)))?true:false},onMetaChange:function(b){delete this.ef;this.meta=b;this.recordType=Ext.data.Record.create(b.fields);this.buildExtractors()}};Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});Ext.data.DataWriter=function(b){Ext.apply(this,b)};Ext.data.DataWriter.prototype={writeAllFields:false,listful:false,apply:function(k,j,l,i){var m=[],h=l+"Record";if(Ext.isArray(i)){Ext.each(i,function(a){m.push(this[h](a))},this)}else{if(i instanceof Ext.data.Record){m=this[h](i)}}this.render(k,j,m)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(j,m){var k=j.fields.map,l={},h=(this.writeAllFields===false&&j.phantom===false)?j.getChanges():j.data,i;Ext.iterate(h,function(a,b){if((i=k[a])){l[i.mapping?i.mapping:i.name]=b}});if(j.phantom){if(j.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(j.data[this.meta.idProperty])){delete l[this.meta.idProperty]}}else{l[this.meta.idProperty]=j.id}return l},toArray:function(c){var d=[];Ext.iterate(c,function(a,b){d.push({name:a,value:b})},this);return d}};Ext.data.DataProxy=function(d){d=d||{};this.api=d.api;this.url=d.url;this.restful=d.restful;this.listeners=d.listeners;this.prettyUrls=d.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(c){if(c instanceof Ext.data.Api.Error){c.toConsole()}}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])};Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:false,setApi:function(){if(arguments.length==1){var b=Ext.data.Api.isValid(arguments[0]);if(b===true){this.api=arguments[0]}else{throw new Ext.data.Api.Error("invalid",b)}}else{if(arguments.length==2){if(!Ext.data.Api.isAction(arguments[0])){throw new Ext.data.Api.Error("invalid",arguments[0])}this.api[arguments[0]]=arguments[1]}}Ext.data.Api.prepare(this)},isApiAction:function(b){return(this.api[b])?true:false},request:function(m,i,l,j,k,n,o){if(!this.api[m]&&!this.load){throw new Ext.data.DataProxy.Error("action-undefined",m)}l=l||{};if((m===Ext.data.Api.actions.read)?this.fireEvent("beforeload",this,l):this.fireEvent("beforewrite",this,m,i,l)!==false){this.doRequest.apply(this,arguments)}else{k.call(n||this,null,o,false)}},load:null,doRequest:function(m,i,l,j,k,n,o){this.load(l,j,k,n,o)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(j,g){g=g||null;var k=(this.conn&&this.conn.url)?this.conn.url:(this.api[j])?this.api[j].url:this.url;if(!k){throw new Ext.data.Api.Error("invalid-url",j)}var i=null;var h=k.match(/(.*)(\.json|\.xml|\.html)$/);if(h){i=h[2];k=h[1]}if((this.restful===true||this.prettyUrls===true)&&g instanceof Ext.data.Record&&!g.phantom){k+="/"+g.id}return(i===null)?k:k+i},destroy:function(){this.purgeListeners()}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.DataProxy"});Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});Ext.data.Request=function(b){Ext.apply(this,b)};Ext.data.Request.prototype={action:undefined,rs:undefined,params:undefined,callback:Ext.emptyFn,scope:undefined,reader:undefined};Ext.data.Response=function(b){Ext.apply(this,b)};Ext.data.Response.prototype={action:undefined,success:undefined,message:undefined,data:undefined,raw:undefined,records:undefined};Ext.data.ScriptTagProxy=function(b){Ext.apply(this,b);Ext.data.ScriptTagProxy.superclass.constructor.call(this,b);this.head=document.getElementsByTagName("head")[0]};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(u,t,v,s,q,p,o){var x=Ext.urlEncode(Ext.apply(v,this.extraParams));var y=this.buildUrl(u,t);if(!y){throw new Ext.data.Api.Error("invalid-url",y)}y=Ext.urlAppend(y,x);if(this.nocache){y=Ext.urlAppend(y,"_dc="+(new Date().getTime()))}var z=++Ext.data.ScriptTagProxy.TRANS_ID;var n={id:z,action:u,cb:"stcCallback"+z,scriptId:"stcScript"+z,params:v,arg:o,url:y,callback:q,scope:p,reader:s};window[n.cb]=this.createCallback(u,t,n);y+=String.format("&{0}={1}",this.callbackParam,n.cb);if(this.autoAbort!==false){this.abort()}n.timeoutId=this.handleFailure.defer(this.timeout,this,[n]);var r=document.createElement("script");r.setAttribute("src",y);r.setAttribute("type","text/javascript");r.setAttribute("id",n.scriptId);this.head.appendChild(r);this.trans=n},createCallback:function(h,e,i){var g=this;return function(a){g.trans=false;g.destroyTrans(i,true);if(h===Ext.data.Api.actions.read){g.onRead.call(g,h,i,a)}else{g.onWrite.call(g,h,i,a,e)}}},onRead:function(j,k,e){var h;try{h=k.reader.readRecords(e)}catch(i){this.fireEvent("loadexception",this,k,e,i);this.fireEvent("exception",this,"response",j,k,e,i);k.callback.call(k.scope||window,null,k.arg,false);return}if(h.success===false){this.fireEvent("loadexception",this,k,e);this.fireEvent("exception",this,"remote",j,k,e,null)}else{this.fireEvent("load",this,e,k.arg)}k.callback.call(k.scope||window,h,k.arg,h.success)},onWrite:function(l,m,o,e){var j=m.reader;try{var n=j.readResponse(l,o)}catch(k){this.fireEvent("exception",this,"response",l,m,n,k);m.callback.call(m.scope||window,null,n,false);return}if(!n.success===true){this.fireEvent("exception",this,"remote",l,m,n,e);m.callback.call(m.scope||window,null,n,false);return}this.fireEvent("write",this,l,n.data,n,e,m.arg);m.callback.call(m.scope||window,n.data,n,true)},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(d,e){this.head.removeChild(document.getElementById(d.scriptId));clearTimeout(d.timeoutId);if(e){window[d.cb]=undefined;try{delete window[d.cb]}catch(g){}}else{window[d.cb]=function(){window[d.cb]=undefined;try{delete window[d.cb]}catch(a){}}}},handleFailure:function(b){this.trans=false;this.destroyTrans(b,false);if(b.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,b.arg)}this.fireEvent("exception",this,"response",b.action,{response:null,options:b.arg});b.callback.call(b.scope||window,null,b.arg,false)},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});Ext.data.HttpProxy=function(e){Ext.data.HttpProxy.superclass.constructor.call(this,e);this.conn=e;this.conn.url=null;this.useAjax=!e||!e.events;var g=Ext.data.Api.actions;this.activeRequest={};for(var d in g){this.activeRequest[g[d]]=undefined}};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(d,c){this.conn.url=d;if(c===true){this.url=d;this.api=null;Ext.data.Api.prepare(this)}},doRequest:function(n,p,l,q,j,o,k){var m={method:(this.api[n])?this.api[n]["method"]:undefined,request:{callback:j,scope:o,arg:k},reader:q,callback:this.createCallback(n,p),scope:this};if(l.jsonData){m.jsonData=l.jsonData}else{if(l.xmlData){m.xmlData=l.xmlData}else{m.params=l||{}}}this.conn.url=this.buildUrl(n,p);if(this.useAjax){Ext.applyIf(m,this.conn);if(this.activeRequest[n]){}this.activeRequest[n]=Ext.Ajax.request(m)}else{this.conn.request(m)}this.conn.url=null},createCallback:function(c,d){return function(a,b,g){this.activeRequest[c]=undefined;if(!b){if(c===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,a,g)}this.fireEvent("exception",this,"response",c,a,g);a.request.callback.call(a.request.scope,null,a.request.arg,false);return}if(c===Ext.data.Api.actions.read){this.onRead(c,a,g)}else{this.onWrite(c,a,g,d)}}},onRead:function(l,j,e){var i;try{i=j.reader.read(e)}catch(k){this.fireEvent("loadexception",this,j,e,k);this.fireEvent("exception",this,"response",l,j,e,k);j.request.callback.call(j.request.scope,null,j.request.arg,false);return}if(i.success===false){this.fireEvent("loadexception",this,j,e);var m=j.reader.readResponse(l,e);this.fireEvent("exception",this,"remote",l,j,m,null)}else{this.fireEvent("load",this,j,j.request.arg)}j.request.callback.call(j.request.scope,i,j.request.arg,i.success)},onWrite:function(m,k,o,e){var j=k.reader;var n;try{n=j.readResponse(m,o)}catch(l){this.fireEvent("exception",this,"response",m,k,o,l);k.request.callback.call(k.request.scope,null,k.request.arg,false);return}if(n.success===true){this.fireEvent("write",this,m,n.data,n,e,k.request.arg)}else{this.fireEvent("exception",this,"remote",m,k,n,e)}k.request.callback.call(k.request.scope,n.data,n,n.success)},destroy:function(){if(!this.useAjax){this.conn.abort()}else{if(this.activeRequest){var c=Ext.data.Api.actions;for(var d in c){if(this.activeRequest[c[d]]){Ext.Ajax.abort(this.activeRequest[c[d]])}}}}Ext.data.HttpProxy.superclass.destroy.call(this)}});Ext.data.MemoryProxy=function(c){var d={};d[Ext.data.Api.actions.read]=true;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:d});this.data=c};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(r,q,s,p,n,m,l){s=s||{};var e;try{e=p.readRecords(this.data)}catch(o){this.fireEvent("loadexception",this,null,l,o);this.fireEvent("exception",this,"response",r,l,null,o);n.call(m,null,l,false);return}n.call(m,e,l,true)}});Ext.data.Types=new function(){var b=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(a){return(a===undefined||a===null)?"":String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):0},sortType:b.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):0},sortType:b.none,type:"float"},BOOL:{convert:function(a){return a===true||a==="true"||a==1},sortType:b.none,type:"bool"},DATE:{convert:function(g){var e=this.dateFormat;if(!g){return null}if(Ext.isDate(g)){return g}if(e){if(e=="timestamp"){return new Date(g*1000)}if(e=="time"){return new Date(parseInt(g,10))}return Date.parseDate(g,e)}var a=Date.parse(g);return a?new Date(a):null},sortType:b.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:true,encodeDelete:false,constructor:function(b){Ext.data.JsonWriter.superclass.constructor.call(this,b)},render:function(i,h,e){if(this.encode===true){Ext.apply(i,h);i[this.meta.root]=Ext.encode(e)}else{var g=Ext.apply({},h);g[this.meta.root]=e;i.jsonData=g}},createRecord:function(b){return this.toHash(b)},updateRecord:function(b){return this.toHash(b)},destroyRecord:function(c){if(this.encodeDelete){var d={};d[this.meta.idProperty]=c.id;return d}else{return c.id}}});Ext.data.JsonReader=function(d,c){d=d||{};Ext.applyIf(d,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,d,c||d.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(e){var d=e.responseText;var g=Ext.decode(d);if(!g){throw {message:"JsonReader.read: Json object not found"}}return this.readRecords(g)},readResponse:function(k,h){var j=(h.responseText!==undefined)?Ext.decode(h.responseText):h;if(!j){throw new Ext.data.JsonReader.Error("response")}var i=this.getRoot(j);if(k===Ext.data.Api.actions.create){var l=Ext.isDefined(i);if(l&&Ext.isEmpty(i)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!l){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}var m=new Ext.data.Response({action:k,success:this.getSuccess(j),data:(i)?this.extractData(i,false):[],message:this.getMessage(j),raw:j});if(Ext.isEmpty(m.success)){throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty)}return m},readRecords:function(x){this.jsonData=x;if(x.metaData){this.onMetaChange(x.metaData)}var c=this.meta,r=this.recordType,v=r.prototype.fields,n=v.items,q=v.length,p;var s=this.getRoot(x),t=s.length,u=t,o=true;if(c.totalProperty){p=parseInt(this.getTotal(x),10);if(!isNaN(p)){u=p}}if(c.successProperty){p=this.getSuccess(x);if(p===false||p==="false"){o=false}}return{success:o,records:this.extractData(s,true),totalRecords:u}},buildExtractors:function(){if(this.ef){return}var g=this.meta,n=this.recordType,o=n.prototype.fields,i=o.items,m=o.length;if(g.totalProperty){this.getTotal=this.createAccessor(g.totalProperty)}if(g.successProperty){this.getSuccess=this.createAccessor(g.successProperty)}if(g.messageProperty){this.getMessage=this.createAccessor(g.messageProperty)}this.getRoot=g.root?this.createAccessor(g.root):function(a){return a};if(g.id||g.idProperty){var p=this.createAccessor(g.id||g.idProperty);this.getId=function(a){var b=p(a);return(b===undefined||b==="")?null:b}}else{this.getId=function(){return null}}var q=[];for(var r=0;r<m;r++){o=i[r];var s=(o.mapping!==undefined&&o.mapping!==null)?o.mapping:o.name;q.push(this.createAccessor(s))}this.ef=q},simpleAccess:function(c,d){return c[d]},createAccessor:function(){var b=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}var a=String(d).search(b);if(a>=0){return new Function("obj","return obj"+(a>0?".":"")+d)}return function(c){return c[d]}}}(),extractValues:function(k,n,j){var l,o={};for(var m=0;m<j;m++){l=n[m];var i=this.ef[m](k);o[l.name]=l.convert((i!==undefined)?i:l.defaultValue,k)}return o}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.JsonReader"});Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(v){this.arrayData=v;var I=this.meta,M=I?Ext.num(I.idIndex,I.id):null,O=this.recordType,E=O.prototype.fields,F=[],L=true,K;var n=this.getRoot(v);for(var i=0,D=n.length;i<D;i++){var o=n[i],P={},G=((M||M===0)&&o[M]!==undefined&&o[M]!==""?o[M]:null);for(var j=0,H=E.length;j<H;j++){var s=E.items[j],k=s.mapping!==undefined&&s.mapping!==null?s.mapping:j;K=o[k]!==undefined?o[k]:s.defaultValue;K=s.convert(K,o);P[s.name]=K}var N=new O(P,G);N.json=o;F[F.length]=N}var J=F.length;if(I.totalProperty){K=parseInt(this.getTotal(v),10);if(!isNaN(K)){J=K}}if(I.successProperty){K=this.getSuccess(v);if(K===false||K==="false"){L=false}}return{success:L,records:F,totalRecords:J}}});Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.ArrayReader(b)}))},loadData:function(i,g){if(this.expandData===true){var j=[];for(var k=0,h=i.length;k<h;k++){j[j.length]=[i[k]]}i=j}Ext.data.ArrayStore.superclass.loadData.call(this,i,g)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.JsonReader(b)}))}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlWriter=function(b){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments);this.tpl=(typeof(this.tpl)==="string")?new Ext.XTemplate(this.tpl).compile():this.tpl.compile()};Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:false,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><\u003fxml version="{version}" encoding="{encoding}"\u003f><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}</tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',render:function(d,g,e){g=this.toArray(g);d.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:(g.length>0||this.forceDocumentRoot===true)?this.documentRoot:false,record:this.meta.record,root:this.root,baseParams:g,records:(Ext.isArray(e[0]))?e:[e]})},createRecord:function(b){return this.toArray(this.toHash(b))},updateRecord:function(b){return this.toArray(this.toHash(b))},destroyRecord:function(c){var d={};d[this.meta.idProperty]=c.id;return this.toArray(d)}});Ext.data.XmlReader=function(d,c){d=d||{};Ext.applyIf(d,{idProperty:d.idProperty||d.idPath||d.id,successProperty:d.successProperty||d.success});Ext.data.XmlReader.superclass.constructor.call(this,d,c||d.fields)};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(d){var c=d.responseXML;if(!c){throw {message:"XmlReader.read: XML Document not available"}}return this.readRecords(c)},readRecords:function(l){this.xmlData=l;var i=l.documentElement||l,m=Ext.DomQuery,j=0,k=true;if(this.meta.totalProperty){j=this.getTotal(i,0)}if(this.meta.successProperty){k=this.getSuccess(i)}var h=this.extractData(m.select(this.meta.record,i),true);return{success:k,records:h,totalRecords:j||h.length}},readResponse:function(k,i){var l=Ext.DomQuery,j=i.responseXML;var h=new Ext.data.Response({action:k,success:this.getSuccess(j),message:this.getMessage(j),data:this.extractData(l.select(this.meta.record,j)||l.select(this.meta.root,j),false),raw:j});if(Ext.isEmpty(h.success)){throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty)}if(k===Ext.data.Api.actions.create){var m=Ext.isDefined(h.data);if(m&&Ext.isEmpty(h.data)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!m){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}return h},getSuccess:function(){return true},buildExtractors:function(){if(this.ef){return}var g=this.meta,n=this.recordType,o=n.prototype.fields,i=o.items,m=o.length;if(g.totalProperty){this.getTotal=this.createAccessor(g.totalProperty)}if(g.successProperty){this.getSuccess=this.createAccessor(g.successProperty)}if(g.messageProperty){this.getMessage=this.createAccessor(g.messageProperty)}this.getRoot=function(a){return(!Ext.isEmpty(a[this.meta.record]))?a[this.meta.record]:a[this.meta.root]};if(g.idPath||g.idProperty){var p=this.createAccessor(g.idPath||g.idProperty);this.getId=function(b){var a=p(b)||b.id;return(a===undefined||a==="")?null:a}}else{this.getId=function(){return null}}var q=[];for(var r=0;r<m;r++){o=i[r];var s=(o.mapping!==undefined&&o.mapping!==null)?o.mapping:o.name;q.push(this.createAccessor(s))}this.ef=q},createAccessor:function(){var b=Ext.DomQuery;return function(a){switch(a){case this.meta.totalProperty:return function(g,e){return b.selectNumber(a,g,e)};break;case this.meta.successProperty:return function(j,i){var k=b.selectValue(a,j,true);var h=k!==false&&k!=="false";return h};break;default:return function(g,e){return b.selectValue(a,g,e)};break}}}(),extractValues:function(k,n,j){var l,o={};for(var m=0;m<j;m++){l=n[m];var i=this.ef[m](k);o[l.name]=l.convert((i!==undefined)?i:l.defaultValue,k)}return o}});Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.XmlReader(b)}))}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(j){j=j||{};this.hasMultiSort=true;this.multiSortInfo=this.multiSortInfo||{sorters:[]};var i=this.multiSortInfo.sorters,k=j.groupField||this.groupField,g=j.sortInfo||this.sortInfo,h=j.groupDir||this.groupDir;if(k){i.push({field:k,direction:h})}if(g){i.push(g)}Ext.data.GroupingStore.superclass.constructor.call(this,j);this.addEvents("groupchange");this.applyGroupField()},remoteGroup:false,groupOnSort:false,groupDir:"ASC",clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;delete this.baseParams.groupDir}var b=this.lastOptions;if(b&&b.params){delete b.params.groupBy;delete b.params.groupDir}this.reload()}else{this.sort();this.fireEvent("datachanged",this)}},groupBy:function(h,g,i){i=i?(String(i).toUpperCase()=="DESC"?"DESC":"ASC"):this.groupDir;if(this.groupField==h&&this.groupDir==i&&!g){return}sorters=this.multiSortInfo.sorters;if(sorters.length>0&&sorters[0].field==this.groupField){sorters.shift()}this.groupField=h;this.groupDir=i;this.applyGroupField();var e=function(){this.fireEvent("groupchange",this,this.getGroupState())};if(this.groupOnSort){this.sort(h,i);e.call(this);return}if(this.remoteGroup){this.on("load",e,this,{single:true});this.reload()}else{this.sort(sorters);e.call(this)}},sort:function(k,o){if(this.remoteSort){return Ext.data.GroupingStore.superclass.sort.call(this,k,o)}var l=[];if(Ext.isArray(arguments[0])){l=arguments[0]}else{if(k==undefined){l=[this.sortInfo]}else{var m=this.fields.get(k);if(!m){return false}var i=m.name,j=this.sortInfo||null,n=this.sortToggle?this.sortToggle[i]:null;if(!o){if(j&&j.field==i){o=(this.sortToggle[i]||"ASC").toggle("ASC","DESC")}else{o=m.sortDir}}this.sortToggle[i]=o;this.sortInfo={field:i,direction:o};l=[this.sortInfo]}}if(this.groupField){l.unshift({direction:this.groupDir,field:this.groupField})}return this.multiSort.call(this,l,o)},applyGroupField:function(){if(this.remoteGroup){if(!this.baseParams){this.baseParams={}}Ext.apply(this.baseParams,{groupBy:this.groupField,groupDir:this.groupDir});var b=this.lastOptions;if(b&&b.params){b.params.groupDir=this.groupDir;delete b.params.groupBy}}},applyGrouping:function(b){if(this.groupField!==false){this.groupBy(this.groupField,true,this.groupDir);return true}else{if(b===true){this.fireEvent("datachanged",this)}return false}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField}});Ext.reg("groupingstore",Ext.data.GroupingStore);Ext.data.DirectProxy=function(b){Ext.apply(this,b);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/)}Ext.data.DirectProxy.superclass.constructor.call(this,b)};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,doRequest:function(y,x,z,u,q,p,i){var r=[],s=this.api[y]||this.directFn;switch(y){case Ext.data.Api.actions.create:r.push(z.jsonData);break;case Ext.data.Api.actions.read:if(s.directCfg.method.len>0){if(this.paramOrder){for(var v=0,t=this.paramOrder.length;v<t;v++){r.push(z[this.paramOrder[v]])}}else{if(this.paramsAsHash){r.push(z)}}}break;case Ext.data.Api.actions.update:r.push(z.jsonData);break;case Ext.data.Api.actions.destroy:r.push(z.jsonData);break}var o={params:z||{},request:{callback:q,scope:p,arg:i},reader:u};r.push(this.createCallback(y,x,o),this);s.apply(window,r)},createCallback:function(h,g,e){var i=this;return function(b,a){if(!a.status){if(h===Ext.data.Api.actions.read){i.fireEvent("loadexception",i,e,a,null)}i.fireEvent("exception",i,"remote",h,e,a,null);e.request.callback.call(e.request.scope,null,e.request.arg,false);return}if(h===Ext.data.Api.actions.read){i.onRead(h,e,b,a)}else{i.onWrite(h,e,b,a,g)}}},onRead:function(j,k,i,l){var h;try{h=k.reader.readRecords(i)}catch(m){this.fireEvent("loadexception",this,k,l,m);this.fireEvent("exception",this,"response",j,k,l,m);k.request.callback.call(k.request.scope,null,k.request.arg,false);return}this.fireEvent("load",this,l,k.request.arg);k.request.callback.call(k.request.scope,h,k.request.arg,true)},onWrite:function(l,n,j,o,i){var m=n.reader.extractData(n.reader.getRoot(j),false);var k=n.reader.getSuccess(j);k=(k!==false);if(k){this.fireEvent("write",this,l,m,o,i,n.request.arg)}else{this.fireEvent("exception",this,"remote",l,n,j,i)}n.request.callback.call(n.request.scope,m,o,k)}});Ext.data.DirectStore=Ext.extend(Ext.data.Store,{constructor:function(d){var c=Ext.apply({},{batchTransactions:false},d);Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(c,{proxy:Ext.isDefined(c.proxy)?c.proxy:new Ext.data.DirectProxy(Ext.copyTo({},c,"paramOrder,paramsAsHash,directFn,api")),reader:(!Ext.isDefined(c.reader)&&c.fields)?new Ext.data.JsonReader(Ext.copyTo({},c,"totalProperty,root,idProperty"),c.fields):c.reader}))}});Ext.reg("directstore",Ext.data.DirectStore);Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={}},addProvider:function(g){var i=arguments;if(i.length>1){for(var h=0,a=i.length;h<a;h++){this.addProvider(i[h])}return}if(!g.events){g=new Ext.Direct.PROVIDERS[g.type](g)}g.id=g.id||Ext.id();this.providers[g.id]=g;g.on("data",this.onProviderData,this);g.on("exception",this.onProviderException,this);if(!g.isConnected()){g.connect()}return g},getProvider:function(b){return this.providers[b]},removeProvider:function(c){var d=c.id?c:this.providers[c];d.un("data",this.onProviderData,this);d.un("exception",this.onProviderException,this);delete this.providers[d.id];return d},addTransaction:function(b){this.transactions[b.tid]=b;return b},removeTransaction:function(b){delete this.transactions[b.tid||b];return b},getTransaction:function(b){return this.transactions[b.tid||b]},onProviderData:function(h,i){if(Ext.isArray(i)){for(var e=0,g=i.length;e<g;e++){this.onProviderData(h,i[e])}return}if(i.name&&i.name!="event"&&i.name!="exception"){this.fireEvent(i.name,i)}else{if(i.type=="exception"){this.fireEvent("exception",i)}}this.fireEvent("event",i,h)},createEvent:function(d,c){return new Ext.Direct.eventTypes[d.type](Ext.apply(d,c))}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(b){Ext.apply(this,b);this.tid=++Ext.Direct.TID;this.retryCount=0};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}};Ext.Direct.Event=function(b){Ext.apply(this,b)};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid)}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(b){Ext.apply(this,b);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,b)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(b){if(!Ext.isEmpty(b.responseText)){if(typeof b.responseText=="object"){return b.responseText}return Ext.decode(b.responseText)}return null},getEvents:function(k){var m=null;try{m=this.parseResponse(k)}catch(l){var n=new Ext.Direct.ExceptionEvent({data:l,xhr:k,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+m});return[n]}var o=[];if(Ext.isArray(m)){for(var e=0,i=m.length;e<i;e++){o.push(Ext.Direct.createEvent(m[e]))}}else{o.push(Ext.Direct.createEvent(m))}return o}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(b){Ext.direct.PollingProvider.superclass.constructor.call(this,b);this.addEvents("beforepoll","poll")},isConnected:function(){return !!this.pollTask},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams)}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams})}}},interval:this.interval,scope:this});this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing PollingProvider, no url configured."}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this)}},onData:function(n,k,l){if(k){var o=this.getEvents(l);for(var e=0,i=o.length;e<i;e++){var m=o[e];this.fireEvent("data",this,m)}}else{var m=new Ext.Direct.ExceptionEvent({data:m,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:l});this.fireEvent("data",this,m)}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(b){Ext.direct.RemotingProvider.superclass.constructor.call(this,b);this.addEvents("beforecall","call");this.namespace=(Ext.isString(this.namespace))?Ext.ns(this.namespace):this.namespace||window;this.transactions={};this.callBuffer=[]},initAPI:function(){var l=this.actions;for(var k in l){var o=this.namespace[k]||(this.namespace[k]={}),n=l[k];for(var m=0,c=n.length;m<c;m++){var i=n[m];o[i.name]=this.createMethod(k,i)}}},isConnected:function(){return !!this.connected},connect:function(){if(this.url){this.initAPI();this.connected=true;this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured."}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this)}},onData:function(s,n,m){if(n){var i=this.getEvents(m);for(var r=0,q=i.length;r<q;r++){var p=i[r],e=this.getTransaction(p);this.fireEvent("data",this,p);if(e){this.doCallback(e,p,true);Ext.Direct.removeTransaction(e)}}}else{var o=[].concat(s.ts);for(var r=0,q=o.length;r<q;r++){var e=this.getTransaction(o[r]);if(e&&e.retryCount<this.maxRetries){e.retry()}else{var p=new Ext.Direct.ExceptionEvent({data:p,transaction:e,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:m});this.fireEvent("data",this,p);if(e){this.doCallback(e,p,false);Ext.Direct.removeTransaction(e)}}}}},getCallData:function(b){return{action:b.action,method:b.method,data:b.data,type:"rpc",tid:b.tid}},doSend:function(l){var j={url:this.url,callback:this.onData,scope:this,ts:l,timeout:this.timeout},h;if(Ext.isArray(l)){h=[];for(var m=0,i=l.length;m<i;m++){h.push(this.getCallData(l[m]))}}else{h=this.getCallData(l)}if(this.enableUrlEncode){var k={};k[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(h);j.params=k}else{j.jsonData=h}Ext.Ajax.request(j)},combineAndSend:function(){var b=this.callBuffer.length;if(b>0){this.doSend(b==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[]}},queueTransaction:function(b){if(b.form){this.processForm(b);return}this.callBuffer.push(b);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)}this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10)}else{this.combineAndSend()}},doCall:function(k,j,c){var l=null,n=c[j.len],m=c[j.len+1];if(j.len!==0){l=c.slice(0,j.len)}var o=new Ext.Direct.Transaction({provider:this,args:c,action:k,method:j.name,data:l,cb:m&&Ext.isFunction(n)?n.createDelegate(m):n});if(this.fireEvent("beforecall",this,o)!==false){Ext.Direct.addTransaction(o);this.queueTransaction(o);this.fireEvent("call",this,o)}},doForm:function(l,c,o,m,p){var q=new Ext.Direct.Transaction({provider:this,action:l,method:c.name,args:[o,m,p],cb:p&&Ext.isFunction(m)?m.createDelegate(p):m,isForm:true});if(this.fireEvent("beforecall",this,q)!==false){Ext.Direct.addTransaction(q);var k=String(o.getAttribute("enctype")).toLowerCase()=="multipart/form-data",n={extTID:q.tid,extAction:l,extMethod:c.name,extType:"rpc",extUpload:String(k)};Ext.apply(q,{form:Ext.getDom(o),isUpload:k,params:m&&Ext.isObject(m.params)?Ext.apply(n,m.params):n});this.fireEvent("call",this,q);this.processForm(q)}},processForm:function(b){Ext.Ajax.request({url:this.url,params:b.params,callback:this.onData,scope:this,form:b.form,isUpload:b.isUpload,ts:b})},createMethod:function(g,e){var c;if(!e.formHandler){c=function(){this.doCall(g,e,Array.prototype.slice.call(arguments,0))}.createDelegate(this)}else{c=function(b,a,d){this.doForm(g,e,b,a,d)}.createDelegate(this)}c.directCfg={action:g,method:e};return c},getTransaction:function(b){return b&&b.tid?Ext.Direct.getTransaction(b.tid):null},doCallback:function(k,i){var j=i.status?"success":"failure";if(k&&k.cb){var e=k.cb,h=Ext.isDefined(i.result)?i.result:i.data;if(Ext.isFunction(e)){e(h,i)}else{Ext.callback(e[j],e.scope,[h,i]);Ext.callback(e.callback,e.scope,[h,i])}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(y,x){this.el=Ext.get(y);if(x&&x.wrap){x.resizeChild=this.el;this.el=this.el.wrap(typeof x.wrap=="object"?x.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=x.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(x.resizeChild.getPositioning());x.resizeChild.clearPositioning();if(!x.width||!x.height){var v=x.resizeChild.getSize();this.el.setSize(v.width,v.height)}if(x.pinned&&!x.adjustments){x.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,x);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var s=this.el.getStyle("position");if(s!="absolute"&&s!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var i=this.handles.split(/\s*?[,;]\s*?| /);var z=Ext.Resizable.positions;for(var t=0,r=i.length;t<r;t++){if(i[t]&&z[i[t]]){var p=z[i[t]];this[p]=new Ext.Resizable.Handle(this,p,this.disableTrackOver,this.transparent,this.handleCls)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var A=this.resizeChild;var q=this.west,u=this.east,B=this.north,i=this.south;if(A&&(q||B)){A.position("relative");A.setLeft(q?q.el.getWidth():0);A.setTop(B?B.el.getHeight():0)}this.adjustments=[(u?-u.el.getWidth():0)+(q?-q.el.getWidth():0),(B?-B.el.getHeight():0)+(i?-i.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo)}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(c,d){this.el.setSize(c,d);this.updateChildSize();this.fireEvent("resize",this,c,d,null)},startSizing:function(g,d){this.fireEvent("beforeresize",this,g);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})}this.overlay.setStyle("cursor",d.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=g.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var e=Ext.get(this.constrainTo);this.resizeRegion=e.getRegion().adjust(e.getFrameWidth("t"),e.getFrameWidth("l"),-e.getFrameWidth("b"),-e.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(d,c){if(this.enabled){c.stopEvent();this.activeHandle=d;this.startSizing(c,d)}},onMouseUp:function(c){this.activeHandle=null;var d=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,d.width,d.height,c)},updateChildSize:function(){if(this.resizeChild){var h=this.el;var g=this.resizeChild;var i=this.adjustments;if(h.dom.offsetWidth){var b=h.getSize(true);g.setSize(b.width+i[0],b.height+i[1])}if(Ext.isIE){setTimeout(function(){if(h.dom.offsetWidth){var a=h.getSize(true);g.setSize(a.width+i[0],a.height+i[1])}},10)}}},snap:function(k,i,g){if(!i||!k){return k}var j=k;var h=k%i;if(h>0){if(h>(i/2)){j=k+(i-h)}else{j=k-h}}return Math.max(g,j)},resizeElement:function(){var b=this.proxy.getBox();if(this.updateBox){this.el.setBox(b,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(b.width,b.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo)}return b},constrain:function(e,i,g,h){if(e-i<g){i=e-g}else{if(e-i>h){i=e-h}}return i},onMouseMove:function(e){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(e.getPoint())){return}var F=this.curSize||this.startBox,R=this.startBox.x,S=this.startBox.y,X=R,Y=S,Q=F.width,x=F.height,W=Q,O=x,P=this.minWidth,N=this.minHeight,G=this.maxWidth,H=this.maxHeight,U=this.widthIncrement,Z=this.heightIncrement,L=e.getXY(),J=-(this.startPoint[0]-Math.max(this.minX,L[0])),M=-(this.startPoint[1]-Math.max(this.minY,L[1])),T=this.activeHandle.position,y,V;switch(T){case"east":Q+=J;Q=Math.min(Math.max(P,Q),G);break;case"south":x+=M;x=Math.min(Math.max(N,x),H);break;case"southeast":Q+=J;x+=M;Q=Math.min(Math.max(P,Q),G);x=Math.min(Math.max(N,x),H);break;case"north":M=this.constrain(x,M,N,H);S+=M;x-=M;break;case"west":J=this.constrain(Q,J,P,G);R+=J;Q-=J;break;case"northeast":Q+=J;Q=Math.min(Math.max(P,Q),G);M=this.constrain(x,M,N,H);S+=M;x-=M;break;case"northwest":J=this.constrain(Q,J,P,G);M=this.constrain(x,M,N,H);S+=M;x-=M;R+=J;Q-=J;break;case"southwest":J=this.constrain(Q,J,P,G);x+=M;x=Math.min(Math.max(N,x),H);R+=J;Q-=J;break}var K=this.snap(Q,U,P);var I=this.snap(x,Z,N);if(K!=Q||I!=x){switch(T){case"northeast":S-=I-x;break;case"north":S-=I-x;break;case"southwest":R-=K-Q;break;case"west":R-=K-Q;break;case"northwest":R-=K-Q;S-=I-x;break}Q=K;x=I}if(this.preserveRatio){switch(T){case"southeast":case"east":x=O*(Q/W);x=Math.min(Math.max(N,x),H);Q=W*(x/O);break;case"south":Q=W*(x/O);Q=Math.min(Math.max(P,Q),G);x=O*(Q/W);break;case"northeast":Q=W*(x/O);Q=Math.min(Math.max(P,Q),G);x=O*(Q/W);break;case"north":y=Q;Q=W*(x/O);Q=Math.min(Math.max(P,Q),G);x=O*(Q/W);R+=(y-Q)/2;break;case"southwest":x=O*(Q/W);x=Math.min(Math.max(N,x),H);y=Q;Q=W*(x/O);R+=y-Q;break;case"west":V=x;x=O*(Q/W);x=Math.min(Math.max(N,x),H);S+=(V-x)/2;y=Q;Q=W*(x/O);R+=y-Q;break;case"northwest":y=Q;V=x;x=O*(Q/W);x=Math.min(Math.max(N,x),H);Q=W*(x/O);S+=V-x;R+=y-Q;break}}this.proxy.setBounds(R,S,Q,x);if(this.dynamic){this.resizeElement()}}catch(h){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(d){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var g=Ext.Resizable.positions;for(var e in g){if(typeof g[e]!="function"&&this[g[e]]){this[g[e]].destroy()}}if(d){this.el.update("");Ext.destroy(this.el);this.el=null}this.purgeListeners()},syncHandleHeight:function(){var b=this.el.getHeight(true);if(this.west){this.west.el.setHeight(b)}if(this.east){this.east.el.setHeight(b)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(l,j,m,k,i){if(!this.tpl){var h=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});h.compile();Ext.Resizable.Handle.prototype.tpl=h}this.position=j;this.rz=l;this.el=this.tpl.append(l.el.dom,[this.position],true);this.el.unselectable();if(k){this.el.setOpacity(0)}if(!Ext.isEmpty(i)){this.el.addClass(i)}this.el.on("mousedown",this.onMouseDown,this);if(!m){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})}},afterResize:function(b){},onMouseDown:function(b){this.rz.onMouseDown(this,b)},onMouseOver:function(b){this.rz.handleOver(this,b)},onMouseOut:function(b){this.rz.handleOut(this,b)},destroy:function(){Ext.destroy(this.el);this.el=null}});Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,closeAction:"close",constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,collapsible:false,initHidden:undefined,hidden:true,elements:"header,body",frame:true,floating:true,initComponent:function(){this.initTools();Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");if(Ext.isDefined(this.initHidden)){this.hidden=this.initHidden}if(this.hidden===false){this.hidden=true;this.show()}},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(true))},onRender:function(c,d){Ext.Window.superclass.onRender.call(this,c,d);if(this.plain){this.el.addClass("x-window-plain")}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mon(this.mask,"click",this.focus,this)}if(this.maximizable){this.mon(this.header,"dblclick",this.toggleMaximize,this)}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget)}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction,handleCls:"x-window-handle"});this.resizer.window=this;this.mon(this.resizer,"beforeresize",this.beforeResize,this)}if(this.draggable){this.header.addClass("x-window-draggable")}this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){var b=this.getKeyMap();b.on(27,this.onEsc,this);b.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(d,c){c.stopEvent();this[this.closeAction]()},beforeDestroy:function(){if(this.rendered){this.hide();this.clearAnchor();Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask)}Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.manager){this.manager.unregister(this)}Ext.Window.superclass.onDestroy.call(this)},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])})}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true})}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})}},resizerAction:function(){var b=this.proxy.getBox();this.proxy.hide();this.window.handleResize(b);return b},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint()}},handleResize:function(c){var d=this.resizeBox;if(d.x!=c.x||d.y!=c.y){this.updateBox(c)}else{this.setSize(c);if(Ext.isIE6&&Ext.isStrict){this.doLayout()}}this.focus();this.updateHandles();this.saveState()},focus:function(){var i=this.focusEl,h=this.defaultButton,k=typeof h,j,g;if(Ext.isDefined(h)){if(Ext.isNumber(h)&&this.fbar){i=this.fbar.items.get(h)}else{if(Ext.isString(h)){i=Ext.getCmp(h)}else{i=h}}j=i.getEl();g=Ext.getDom(this.container);if(j&&g){if(!Ext.lib.Region.getRegion(g).contains(Ext.lib.Region.getRegion(j.dom))){return}}}i=i||this.focusEl;i.focus.defer(10,i)},setAnimateTarget:function(b){b=Ext.get(b);this.animateTarget=b},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var d=this.el.getAlignToXY(this.container,"c-c");var c=this.el.translatePoints(d[0],d[1]);this.x=this.x===undefined?c.left:this.x;this.y=this.y===undefined?c.top:this.y}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false)}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show()}},show:function(g,e,d){if(!this.rendered){this.render(Ext.getBody())}if(this.hidden===false){this.toFront();return this}if(this.fireEvent("beforeshow",this)===false){return this}if(e){this.on("show",e,d,{single:true})}this.hidden=false;if(Ext.isDefined(g)){this.setAnimateTarget(g)}this.beforeShow();if(this.animateTarget){this.animShow()}else{this.afterShow()}return this},afterShow:function(c){if(this.isDestroyed){return false}this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer()}if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this)}this.doConstrain();this.doLayout();if(this.keyMap){this.keyMap.enable()}this.toFront();this.updateHandles();if(c&&(Ext.isIE||Ext.isWebKit)){var d=this.getSize();this.onResize(d.width,d.height)}this.onShow();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var b=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(b,{callback:this.afterShow.createDelegate(this,[true],false),scope:this,easing:"easeNone",duration:0.25,opacity:0.5}))},hide:function(g,e,d){if(this.hidden||this.fireEvent("beforehide",this)===false){return this}if(e){this.on("hide",e,d,{single:true})}this.hidden=true;if(g!==undefined){this.setAnimateTarget(g)}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked")}if(this.animateTarget){this.animHide()}else{this.el.hide();this.afterHide()}return this},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this)}if(this.keyMap){this.keyMap.disable()}this.onHide();this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var b=this.getBox(false);this.proxy.setBox(b);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:0.25,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized){this.fitContainer()}if(this.modal){this.mask.setSize("100%","100%");var b=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var d;if(this.constrain){d={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}}else{var e=this.getSize();d={right:-(e.width-100),bottom:-(e.height-25)}}var g=this.el.getConstrainToXY(this.container,true,d);if(g){this.setPosition(g[0],g[1])}}},ghost:function(e){var g=this.createGhost(e);var d=this.getBox(true);g.setLeftTop(d.x,d.y);g.setWidth(d.width);this.el.hide();this.activeGhost=g;return g},unghost:function(c,d){if(!this.activeGhost){return}if(c!==false){this.el.show();this.focus.defer(10,this);if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}}if(d!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true))}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost},minimize:function(){this.fireEvent("minimize",this);return this},close:function(){if(this.fireEvent("beforeclose",this)!==false){if(this.hidden){this.doClose()}else{this.hide(null,this.doClose,this)}}},doClose:function(){this.fireEvent("close",this);this.destroy()},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show()}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock()}if(this.collapsible){this.tools.toggle.hide()}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this)}return this},restore:function(){if(this.maximized){var b=this.tools;this.el.removeClass("x-window-maximized");if(b.restore){b.restore.hide()}if(b.maximize){b.maximize.show()}this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock()}if(this.collapsible&&b.toggle){b.toggle.show()}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var b=this.container.getViewSize(false);this.setSize(b.width,b.height)},setZIndex:function(b){if(this.modal){this.mask.setStyle("z-index",b)}this.el.setZIndex(++b);b+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++b)}this.lastZIndex=b},alignTo:function(e,g,i){var h=this.el.getAlignToXY(e,g,i);this.setPagePosition(h[0],h[1]);return this},anchorTo:function(k,i,j,g){this.clearAnchor();this.anchorTarget={el:k,alignment:i,offsets:j};Ext.EventManager.onWindowResize(this.doAnchor,this);var h=typeof g;if(h!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:h=="number"?g:50})}return this.doAnchor()},doAnchor:function(){var b=this.anchorTarget;this.alignTo(b.el,b.alignment,b.offsets);return this},clearAnchor:function(){if(this.anchorTarget){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);delete this.anchorTarget}return this},toFront:function(b){if(this.manager.bringToFront(this)){if(!b||!b.getTarget().focus){this.focus()}}return this},setActive:function(b){if(b){if(!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var b=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(b[0],b[1]);return this}});Ext.reg("window",Ext.Window);Ext.Window.DD=function(b){this.win=b;Ext.Window.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false};Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:true,headerOffsets:[100,25],startDrag:function(){var e=this.win;this.proxy=e.ghost();if(e.constrain!==false){var g=e.el.shadowOffset;this.constrainTo(e.container,{right:g,left:g,bottom:g})}else{if(e.constrainHeader!==false){var d=this.proxy.getSize();this.constrainTo(e.container,{right:-(d.width-this.headerOffsets[0]),bottom:-(d.height-this.headerOffsets[1])})}}},b4Drag:Ext.emptyFn,onDrag:function(b){this.alignElWithMouse(this.proxy,b.getPageX(),b.getPageY())},endDrag:function(b){this.win.unghost();this.win.saveState()}});Ext.WindowGroup=function(){var l={};var n=[];var m=null;var o=function(a,b){return(!a._lastAccess||a._lastAccess<b._lastAccess)?-1:1};var k=function(){var b=n,d=b.length;if(d>0){b.sort(o);var c=b[0].manager.zseed;for(var a=0;a<d;a++){var e=b[a];if(e&&!e.hidden){e.setZIndex(c+(a*10))}}}j()};var i=function(a){if(a!=m){if(m){m.setActive(false)}m=a;if(a){a.setActive(true)}}};var j=function(){for(var a=n.length-1;a>=0;--a){if(!n[a].hidden){i(n[a]);return}}i(null)};return{zseed:9000,register:function(a){if(a.manager){a.manager.unregister(a)}a.manager=this;l[a.id]=a;n.push(a);a.on("hide",j)},unregister:function(a){delete a.manager;delete l[a.id];a.un("hide",j);n.remove(a)},get:function(a){return typeof a=="object"?a:l[a]},bringToFront:function(a){a=this.get(a);if(a!=m){a._lastAccess=new Date().getTime();k();return true}return false},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date().getTime());k();return a},hideAll:function(){for(var a in l){if(l[a]&&typeof l[a]!="function"&&l[a].isVisible()){l[a].hide()}}},getActive:function(){return m},getBy:function(b,c){var a=[];for(var d=n.length-1;d>=0;--d){var e=n[d];if(b.call(c||e,e)!==false){a.push(e)}}return a},each:function(b,c){for(var a in l){if(l[a]&&typeof l[a]!="function"){if(b.call(c||l[a],l[a])===false){return}}}}}};Ext.WindowMgr=new Ext.WindowGroup();Ext.MessageBox=function(){var A,S,E,B,N,J,C,T,H,F,L,O,D,z,G,M="",Q="",I=["ok","yes","no","cancel"];var R=function(a){D[a].blur();if(A.isVisible()){A.hide();y();Ext.callback(S.fn,S.scope||window,[a,z.dom.value,S],1)}};var y=function(){if(S&&S.cls){A.el.removeClass(S.cls)}H.reset()};var P=function(a,c,b){if(S&&S.closable!==false){A.hide();y()}if(b){b.stopEvent()}};var K=function(c){var a=0,b;if(!c){Ext.each(I,function(d){D[d].hide()});return a}A.footer.dom.style.display="";Ext.iterate(D,function(e,d){b=c[e];if(b){d.show();d.setText(Ext.isString(b)?b:Ext.MessageBox.buttonText[e]);a+=d.getEl().getWidth()+15}else{d.hide()}});return a};return{getDialog:function(c){if(!A){var a=[];D={};Ext.each(I,function(d){a.push(D[d]=new Ext.Button({text:this.buttonText[d],handler:R.createCallback(d),hideMode:"offsets"}))},this);A=new Ext.Window({autoCreate:true,title:c,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(S&&S.buttons&&S.buttons.no&&!S.buttons.cancel){R("no")}else{R("cancel")}},fbar:new Ext.Toolbar({items:a,enableOverflow:false})});A.render(document.body);A.getEl().addClass("x-window-dlg");E=A.mask;N=A.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});L=Ext.get(N.dom.firstChild);var b=N.dom.childNodes[1];J=Ext.get(b.firstChild);C=Ext.get(b.childNodes[2].firstChild);C.enableDisplayMode();C.addKeyListener([10,13],function(){if(A.isVisible()&&S&&S.buttons){if(S.buttons.ok){R("ok")}else{if(S.buttons.yes){R("yes")}}}});T=Ext.get(b.childNodes[2].childNodes[1]);T.enableDisplayMode();H=new Ext.ProgressBar({renderTo:N});N.createChild({cls:"x-clear"})}return A},updateText:function(g){if(!A.isVisible()&&!S.width){A.setSize(this.maxWidth,100)}J.update(g||"&#160;");var d=Q!=""?(L.getWidth()+L.getMargins("lr")):0,b=J.getWidth()+J.getMargins("lr"),a=A.getFrameWidth("lr"),c=A.body.getFrameWidth("lr"),e;if(Ext.isIE&&d>0){d+=3}e=Math.max(Math.min(S.width||d+b+a+c,S.maxWidth||this.maxWidth),Math.max(S.minWidth||this.minWidth,G||0));if(S.prompt===true){z.setWidth(e-d-a-c)}if(S.progress===true||S.wait===true){H.setSize(e-d-a-c)}if(Ext.isIE&&e==G){e+=4}A.setSize(e,"auto").center();return this},updateProgress:function(b,c,a){H.updateProgress(b,c);if(a){this.updateText(a)}return this},isVisible:function(){return A&&A.isVisible()},hide:function(){var a=A?A.activeGhost:null;if(this.isVisible()||a){A.hide();y();if(a){A.unghost(false,false)}}return this},show:function(e){if(this.isVisible()){this.hide()}S=e;var c=this.getDialog(S.title||"&#160;");c.setTitle(S.title||"&#160;");var d=(S.closable!==false&&S.progress!==true&&S.wait!==true);c.tools.close.setDisplayed(d);z=C;S.prompt=S.prompt||(S.multiline?true:false);if(S.prompt){if(S.multiline){C.hide();T.show();T.setHeight(Ext.isNumber(S.multiline)?S.multiline:this.defaultTextHeight);z=T}else{C.show();T.hide()}}else{C.hide();T.hide()}z.dom.value=S.value||"";if(S.prompt){c.focusEl=z}else{var a=S.buttons;var b=null;if(a&&a.ok){b=D.ok}else{if(a&&a.yes){b=D.yes}}if(b){c.focusEl=b}}if(S.iconCls){c.setIconClass(S.iconCls)}this.setIcon(Ext.isDefined(S.icon)?S.icon:M);G=K(S.buttons);H.setVisible(S.progress===true||S.wait===true);this.updateProgress(0,S.progressText);this.updateText(S.msg);if(S.cls){c.el.addClass(S.cls)}c.proxyDrag=S.proxyDrag===true;c.modal=S.modal!==false;c.mask=S.modal!==false?E:false;if(!c.isVisible()){document.body.appendChild(A.el.dom);c.setAnimateTarget(S.animEl);c.on("show",function(){if(d===true){c.keyMap.enable()}else{c.keyMap.disable()}},this,{single:true});c.show(S.animEl)}if(S.wait===true){H.wait(S.waitConfig)}return this},setIcon:function(a){if(!A){M=a;return}M=undefined;if(a&&a!=""){L.removeClass("x-hidden");L.replaceClass(Q,a);N.addClass("x-dlg-icon");Q=a}else{L.replaceClass(Q,"x-hidden");N.removeClass("x-dlg-icon");Q=""}return this},progress:function(a,b,c){this.show({title:a,msg:b,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:c});return this},wait:function(a,b,c){this.show({title:b,msg:a,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:c});return this},alert:function(d,a,b,c){this.show({title:d,msg:a,buttons:this.OK,fn:b,scope:c,minWidth:this.minWidth});return this},confirm:function(d,a,b,c){this.show({title:d,msg:a,buttons:this.YESNO,fn:b,scope:c,icon:this.QUESTION,minWidth:this.minWidth});return this},prompt:function(b,d,a,c,g,e){this.show({title:b,msg:d,buttons:this.OKCANCEL,fn:a,minWidth:this.minPromptWidth,scope:c,prompt:true,multiline:g,value:e});return this},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.dd.PanelProxy=function(d,c){this.panel=d;this.id=this.panel.id+"-ddproxy";Ext.apply(this,c)};Ext.dd.PanelProxy.prototype={insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(undefined,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize())}this.panel.el.dom.style.display="none"}},repair:function(d,g,e){this.hide();if(typeof g=="function"){g.call(e||this)}},moveProxy:function(d,c){if(this.proxy){d.insertBefore(this.proxy.dom,c)}}};Ext.Panel.DD=function(d,e){this.panel=d;this.dragData={panel:d};this.proxy=new Ext.dd.PanelProxy(d,e);Ext.Panel.DD.superclass.constructor.call(this,d.el,e);var g=d.header;if(g){this.setHandleElId(g.id)}(g?g:this.panel.body).setStyle("cursor","move");this.scroll=false};Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,c){this.proxy.show()},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g)},onInitDrag:function(d,c){this.onStartDrag(d,c);return true},createFrame:Ext.emptyFn,getDragEl:function(b){return this.proxy.ghost.dom},endDrag:function(b){this.proxy.hide();this.panel.saveState()},autoOffset:function(d,c){d-=this.startPageX;c-=this.startPageY;this.setDelta(d,c)}});Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)};Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(c,d){return typeof this.state[c]=="undefined"?d:this.state[c]},clear:function(b){delete this.state[b];this.fireEvent("statechange",this,b,null)},set:function(d,c){this.state[d]=c;this.fireEvent("statechange",this,d,c)},decodeValue:function(h){var k=/^(a|n|d|b|s|o)\:(.*)$/;var j=k.exec(unescape(h));if(!j||!j[1]){return}var l=j[1];var i=j[2];switch(l){case"n":return parseFloat(i);case"d":return new Date(Date.parse(i));case"b":return(i=="1");case"a":var m=[];if(i!=""){Ext.each(i.split("^"),function(a){m.push(this.decodeValue(a))},this)}return m;case"o":var m={};if(i!=""){Ext.each(i.split("^"),function(a){var b=a.split("=");m[b[0]]=this.decodeValue(b[1])},this)}return m;default:return i}},encodeValue:function(m){var h;if(typeof m=="number"){h="n:"+m}else{if(typeof m=="boolean"){h="b:"+(m?"1":"0")}else{if(Ext.isDate(m)){h="d:"+m.toGMTString()}else{if(Ext.isArray(m)){var j="";for(var k=0,i=m.length;k<i;k++){j+=this.encodeValue(m[k]);if(k!=i-1){j+="^"}}h="a:"+j}else{if(typeof m=="object"){var j="";for(var l in m){if(typeof m[l]!="function"&&m[l]!==undefined){j+=l+"="+this.encodeValue(m[l])+"^"}}h="o:"+j.substring(0,j.length-1)}else{h="s:"+m}}}}}return escape(h)}});Ext.state.Manager=function(){var b=new Ext.state.Provider();return{setProvider:function(a){b=a},get:function(d,a){return b.get(d,a)},set:function(a,d){b.set(a,d)},clear:function(a){b.clear(a)},getProvider:function(){return b}}}();Ext.state.CookieProvider=function(b){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,b);this.state=this.readCookies()};Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(d,c){if(typeof c=="undefined"||c===null){this.clear(d);return}this.setCookie(d,c);Ext.state.CookieProvider.superclass.set.call(this,d,c)},clear:function(b){this.clearCookie(b);Ext.state.CookieProvider.superclass.clear.call(this,b)},readCookies:function(){var m={};var j=document.cookie+";";var c=/\s?(.*?)=(.*?);/g;var k;while((k=c.exec(j))!=null){var i=k[1];var l=k[2];if(i&&i.substring(0,3)=="ys-"){m[i.substr(3)]=this.decodeValue(l)}}return m},setCookie:function(d,c){document.cookie="ys-"+d+"="+this.encodeValue(c)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")},clearCookie:function(b){document.cookie="ys-"+b+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite()},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})}if(this.store){this.bindStore(this.store,true)}},refresh:function(){this.clearSelections(false,true);var c=this.getTemplateTarget();c.update("");var d=this.store.getRange();if(d.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){c.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(c,this.collectData(d,0));this.all.fill(Ext.query(this.itemSelector,c.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true},getTemplateTarget:function(){return this.el},prepareData:function(b){return b},collectData:function(g,i){var j=[];for(var k=0,h=g.length;k<h;k++){j[j.length]=this.prepareData(g[k].data,i+k,g[k])}return j},bufferRender:function(d){var c=document.createElement("div");this.tpl.overwrite(c,this.collectData(d));return Ext.query(this.itemSelector,c)},onUpdate:function(j,i){var h=this.store.indexOf(i);if(h>-1){var k=this.isSelected(h);var m=this.all.elements[h];var l=this.bufferRender([i],h)[0];this.all.replaceElement(h,l,true);if(k){this.selected.replaceElement(m,l);this.all.item(h).addClass(this.selectedClass)}this.updateIndexes(h,h)}},onAdd:function(j,l,k){if(this.all.getCount()===0){this.refresh();return}var m=this.bufferRender(l,k),i,a=this.all.elements;if(k<this.all.getCount()){i=this.all.item(k).insertSibling(m,"before",true);a.splice.apply(a,[k,0].concat(m))}else{i=this.all.last().insertSibling(m,"after",true);a.push.apply(a,m)}this.updateIndexes(k)},onRemove:function(g,e,d){this.deselect(d);this.all.removeElement(d,true);this.updateIndexes(d);if(this.store.getCount()===0){this.refresh()}},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b))},updateIndexes:function(h,i){var e=this.all.elements;h=h||0;i=i||((i===0)?0:(e.length-1));for(var g=h;g<=i;g++){e[g].viewIndex=g}},getStore:function(){return this.store},bindStore:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.onDataChanged,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this)}if(!d){this.store=null}}if(d){d=Ext.StoreMgr.lookup(d);d.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}this.store=d;if(d){this.refresh()}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemFromChild:function(b){return Ext.fly(b).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(g){var d=g.getTarget(this.itemSelector,this.getTemplateTarget());if(d){var e=this.indexOf(d);if(this.onItemClick(d,e,g)!==false){this.fireEvent("click",this,e,d,g)}}else{if(this.fireEvent("containerclick",this,g)!==false){this.onContainerClick(g)}}},onContainerClick:function(b){this.clearSelections()},onContextMenu:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("contextmenu",this,this.indexOf(d),d,c)}else{this.fireEvent("containercontextmenu",this,c)}},onDblClick:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("dblclick",this,this.indexOf(d),d,c)}},onMouseOver:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d&&d!==this.lastItem){this.lastItem=d;Ext.fly(d).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(d),d,c)}},onMouseOut:function(b){if(this.lastItem){if(!b.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,b);delete this.lastItem}}},onItemClick:function(d,e,g){if(this.fireEvent("beforeclick",this,e,d,g)===false){return false}if(this.multiSelect){this.doMultiSelection(d,e,g);g.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(d,e,g);g.preventDefault()}}return true},doSingleSelection:function(d,e,g){if(g.ctrlKey&&this.isSelected(e)){this.deselect(e)}else{this.select(e,false)}},doMultiSelection:function(i,g,h){if(h.shiftKey&&this.last!==false){var e=this.last;this.selectRange(e,g,h.ctrlKey);this.last=e}else{if((h.ctrlKey||this.simpleSelect)&&this.isSelected(g)){this.deselect(g)}else{this.select(g,h.ctrlKey||h.shiftKey||this.simpleSelect)}}},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var e=[],h=this.selected.elements;for(var i=0,g=h.length;i<g;i++){e.push(h[i].viewIndex)}return e},getSelectedRecords:function(){var h=[],i=this.selected.elements;for(var e=0,g=i.length;e<g;e++){h[h.length]=this.store.getAt(i[e].viewIndex)}return h},getRecords:function(g){var i=[],j=g;for(var k=0,h=j.length;k<h;k++){i[i.length]=this.store.getAt(j[k].viewIndex)}return i},getRecord:function(b){return this.store.getAt(b.viewIndex)},clearSelections:function(d,c){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!c){this.selected.removeClass(this.selectedClass)}this.selected.clear();this.last=false;if(!d){this.fireEvent("selectionchange",this,this.selected.elements)}}},isSelected:function(b){return this.selected.contains(this.getNode(b))},deselect:function(b){if(this.isSelected(b)){b=this.getNode(b);this.selected.removeElement(b);if(this.last==b.viewIndex){this.last=false}Ext.fly(b).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements)}},select:function(l,j,h){if(Ext.isArray(l)){if(!j){this.clearSelections(true)}for(var m=0,i=l.length;m<i;m++){this.select(l[m],true,true)}if(!h){this.fireEvent("selectionchange",this,this.selected.elements)}}else{var k=this.getNode(l);if(!j){this.clearSelections(true)}if(k&&!this.isSelected(k)){if(this.fireEvent("beforeselect",this,k,this.selected.elements)!==false){Ext.fly(k).addClass(this.selectedClass);this.selected.add(k);this.last=k.viewIndex;if(!h){this.fireEvent("selectionchange",this,this.selected.elements)}}}}},selectRange:function(g,e,d){if(!d){this.clearSelections(true)}this.select(this.getNodes(g,e),true)},getNode:function(c){if(Ext.isString(c)){return document.getElementById(c)}else{if(Ext.isNumber(c)){return this.all.elements[c]}else{if(c instanceof Ext.data.Record){var d=this.store.indexOf(c);return this.all.elements[d]}}}return c},getNodes:function(i,h){var j=this.all.elements;i=i||0;h=!Ext.isDefined(h)?Math.max(j.length-1,0):h;var g=[],k;if(i<=h){for(k=i;k<=h&&j[k];k++){g.push(j[k])}}else{for(k=i;k>=h&&j[k];k--){g.push(j[k])}}return g},indexOf:function(b){b=this.getNode(b);if(Ext.isNumber(b.viewIndex)){return b.viewIndex}return this.all.indexOf(b)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:undefined,columnResize:true,columnSort:true,maxWidth:Ext.isIE?99:100,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.list.ColumnResizer(this.colResizer);this.colResizer.init(this)}if(this.columnSort){this.colSorter=new Ext.list.Sorter(this.columnSort);this.colSorter.init(this)}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>")}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>")}var j=this.columns,p=0,o=0,i=j.length,t=[];for(var q=0;q<i;q++){var c=j[q];if(!c.isColumn){c.xtype=c.xtype?(/^lv/.test(c.xtype)?c.xtype:"lv"+c.xtype):"lvcolumn";c=Ext.create(c)}if(c.width){p+=c.width*100;o++}t.push(c)}j=this.columns=t;if(o<i){var s=i-o;if(p<this.maxWidth){var u=((this.maxWidth-p)/s)/100;for(var r=0;r<i;r++){var c=j[r];if(!c.width){c.width=u}}}}Ext.list.ListView.superclass.initComponent.call(this)},onRender:function(){this.autoEl={cls:"x-list-wrap"};Ext.list.ListView.superclass.onRender.apply(this,arguments);this.internalTpl.overwrite(this.el,{columns:this.columns});this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none"}},getTemplateTarget:function(){return this.innerBody},collectData:function(){var b=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:b}},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height)}},onResize:function(h,l){var k=this.innerBody.dom;var j=this.innerHd.dom;if(!k){return}var m=k.parentNode;if(Ext.isNumber(h)){var i=h-Ext.num(this.scrollOffset,Ext.getScrollBarWidth());if(this.reserveScrollOffset||((m.offsetWidth-m.clientWidth)>10)){k.style.width=i+"px";j.style.width=i+"px"}else{k.style.width=h+"px";j.style.width=h+"px";setTimeout(function(){if((m.offsetWidth-m.clientWidth)>10){k.style.width=i+"px";j.style.width=i+"px"}},10)}}if(Ext.isNumber(l)){m.style.height=(l-j.parentNode.offsetHeight)+"px"}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize()},findHeaderIndex:function(j){j=j.dom||j;var h=j.parentNode,k=h.parentNode.childNodes;for(var c=0,i;i=k[c];c++){if(i==h){return c}}return -1},setHdWidths:function(){var i=this.innerHd.dom.getElementsByTagName("div");for(var e=0,h=this.columns,g=h.length;e<g;e++){i[e].style.width=(h[e].width*100)+"%"}}});Ext.reg("listview",Ext.list.ListView);Ext.ListView=Ext.list.ListView;Ext.list.Column=Ext.extend(Object,{isColumn:true,align:"left",header:"",width:null,cls:"",constructor:function(b){if(!b.tpl){b.tpl=new Ext.XTemplate("{"+b.dataIndex+"}")}else{if(Ext.isString(b.tpl)){b.tpl=new Ext.XTemplate(b.tpl)}}Ext.apply(this,b)}});Ext.reg("lvcolumn",Ext.list.Column);Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(b){b.tpl=b.tpl||new Ext.XTemplate("{"+b.dataIndex+':number("'+(b.format||this.format)+'")}');Ext.list.NumberColumn.superclass.constructor.call(this,b)}});Ext.reg("lvnumbercolumn",Ext.list.NumberColumn);Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(b){b.tpl=b.tpl||new Ext.XTemplate("{"+b.dataIndex+':date("'+(b.format||this.format)+'")}');Ext.list.DateColumn.superclass.constructor.call(this,b)}});Ext.reg("lvdatecolumn",Ext.list.DateColumn);Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(h){h.tpl=h.tpl||new Ext.XTemplate("{"+h.dataIndex+":this.format}");var c=this.trueText,i=this.falseText,g=this.undefinedText;h.tpl.format=function(a){if(a===undefined){return g}if(!a||a==="false"){return i}return c};Ext.list.DateColumn.superclass.constructor.call(this,h)}});Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn);Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(b){Ext.apply(this,b);Ext.list.ColumnResizer.superclass.constructor.call(this)},init:function(b){this.view=b;b.on("render",this.initEvents,this)},initEvents:function(b){b.mon(b.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(b.innerHd);b.on("beforedestroy",this.tracker.destroy,this.tracker)},handleHdMove:function(l,o){var e=5,k=l.getPageX(),m=l.getTarget("em",3,true);if(m){var n=m.getRegion(),p=m.dom.style,q=m.dom.parentNode;if(k-n.left<=e&&q!=q.parentNode.firstChild){this.activeHd=Ext.get(q.previousSibling.firstChild);p.cursor=Ext.isWebKit?"e-resize":"col-resize"}else{if(n.right-k<=e&&q!=q.parentNode.lastChild.previousSibling){this.activeHd=m;p.cursor=Ext.isWebKit?"w-resize":"col-resize"}else{delete this.activeHd;p.cursor=""}}}},onBeforeStart:function(b){this.dragHd=this.activeHd;return !!this.dragHd},onStart:function(g){this.view.disableHeaders=true;this.proxy=this.view.el.createChild({cls:"x-list-resizer"});this.proxy.setHeight(this.view.el.getHeight());var e=this.tracker.getXY()[0],d=this.view.innerHd.getWidth();this.hdX=this.dragHd.getX();this.hdIndex=this.view.findHeaderIndex(this.dragHd);this.proxy.setX(this.hdX);this.proxy.setWidth(e-this.hdX);this.minWidth=d*this.minPct;this.maxWidth=d-(this.minWidth*(this.view.columns.length-1-this.hdIndex))},onDrag:function(c){var d=this.tracker.getXY()[0];this.proxy.setWidth((d-this.hdX).constrain(this.minWidth,this.maxWidth))},onEnd:function(v){var y=this.proxy.getWidth();this.proxy.remove();var z=this.hdIndex,t=this.view,A=t.columns,x=A.length,i=this.view.innerHd.getWidth(),B=this.minPct*100,e=Math.ceil((y*t.maxWidth)/i),s=(A[z].width*100)-e,F=Math.floor(s/(x-1-z)),u=s-(F*(x-1-z));for(var C=z+1;C<x;C++){var D=(A[C].width*100)+F,E=Math.max(B,D);if(D!=E){u+=D-E}A[C].width=E/100}A[z].width=e/100;A[z+1].width+=(u/100);delete this.dragHd;t.setHdWidths();t.refresh();setTimeout(function(){t.disableHeaders=false},100)}});Ext.ListView.ColumnResizer=Ext.list.ColumnResizer;Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(b){Ext.apply(this,b);Ext.list.Sorter.superclass.constructor.call(this)},init:function(b){this.view=b;b.on("render",this.initEvents,this)},initEvents:function(b){b.mon(b.innerHd,"click",this.onHdClick,this);b.innerHd.setStyle("cursor","pointer");b.mon(b.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[b.store])},updateSortState:function(o){var l=o.getSortState();if(!l){return}this.sortState=l;var m=this.view.columns,k=-1;for(var n=0,j=m.length;n<j;n++){if(m[n].dataIndex==l.field){k=n;break}}if(k!=-1){var i=l.direction;this.updateSortIcon(k,i)}},updateSortIcon:function(e,g){var h=this.sortClasses;var i=this.view.innerHd.select("em").removeClass(h);i.item(e).addClass(h[g=="DESC"?1:0])},onHdClick:function(g){var d=g.getTarget("em",3);if(d&&!this.view.disableHeaders){var e=this.view.findHeaderIndex(d);this.view.store.sort(this.view.columns[e].dataIndex)}}});Ext.ListView.Sorter=Ext.list.Sorter;Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:undefined,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header"}else{this.elements+=",footer";this.stripTarget="footer"}if(!this.stack){this.stack=Ext.TabPanel.AccessStack()}this.initItems()},onRender:function(m,i){Ext.TabPanel.superclass.onRender.call(this,m,i);if(this.plain){var j=this.tabPosition=="top"?"header":"footer";this[j].addClass("x-tab-panel-"+j+"-plain")}var h=this[this.stripTarget];this.stripWrap=h.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var k=(this.tabPosition=="bottom"?this.stripWrap:null);h.createChild({cls:"x-tab-strip-spacer"},k);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var l=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");l.disableFormats=true;l.compile();Ext.TabPanel.prototype.itemTpl=l}this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false)}if(this.activeTab!==undefined){var b=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab;this.setActiveTab(b)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});if(this.enableTabScroll){this.mon(this.strip,"mousewheel",this.onWheel,this)}},findTargets:function(g){var d=null,e=g.getTarget("li:not(.x-tab-edge)",this.strip);if(e){d=this.getComponent(e.id.split(this.idDelimiter)[1]);if(d.disabled){return{close:null,item:null,el:null}}}return{close:g.getTarget(".x-tab-strip-close",this.strip),item:d,el:e}},onStripMouseDown:function(c){if(c.button!==0){return}c.preventDefault();var d=this.findTargets(c);if(d.close){if(d.item.fireEvent("beforeclose",d.item)!==false){d.item.fireEvent("close",d.item);this.remove(d.item)}return}if(d.item&&d.item!=this.activeTab){this.setActiveTab(d.item)}},onStripContextMenu:function(c){c.preventDefault();var d=this.findTargets(c);if(d.item){this.fireEvent("contextmenu",this,d.item,c)}},readTabs:function(l){if(l===true){this.items.each(function(a){this.remove(a)},this)}var m=this.el.query(this.autoTabSelector);for(var h=0,i=m.length;h<i;h++){var k=m[h],j=k.getAttribute("title");k.removeAttribute("title");this.add({title:j,contentEl:k})}},initTab:function(n,i){var m=this.strip.dom.childNodes[i],l=this.getTemplateArgs(n),o=m?this.itemTpl.insertBefore(m,l):this.itemTpl.append(this.strip,l),j="x-tab-strip-over",k=Ext.get(o);k.hover(function(){if(!n.disabled){k.addClass(j)}},function(){k.removeClass(j)});if(n.tabTip){k.child("span.x-tab-strip-text",true).qtip=n.tabTip}n.tabEl=o;k.select("a").on("click",function(a){if(!a.getPageX()){this.onStripMouseDown(a)}},this,{preventDefault:true});n.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(c){var d=c.closable?"x-tab-strip-closable":"";if(c.disabled){d+=" x-item-disabled"}if(c.iconCls){d+=" x-tab-with-icon"}if(c.tabCls){d+=" "+c.tabCls}return{id:this.id+this.idDelimiter+c.getItemId(),text:c.title,cls:d,iconCls:c.iconCls||""}},onAdd:function(c){Ext.TabPanel.superclass.onAdd.call(this,c);if(this.rendered){var d=this.items;this.initTab(c,d.indexOf(c));if(d.getCount()==1&&!this.collapsed){this.syncSize()}this.delegateUpdates()}},onBeforeAdd:function(d){var e=d.events?(this.items.containsKey(d.getItemId())?d:null):this.items.get(d);if(e){this.setActiveTab(d);return false}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var g=d.elements;d.elements=g?g.replace(",header",""):g;d.border=(d.border===true)},onRemove:function(g){var c=Ext.get(g.tabEl);if(c){c.select("a").removeAllListeners();Ext.destroy(c)}Ext.TabPanel.superclass.onRemove.call(this,g);this.stack.remove(g);delete g.tabEl;g.un("disable",this.onItemDisabled,this);g.un("enable",this.onItemEnabled,this);g.un("titlechange",this.onItemTitleChanged,this);g.un("iconchange",this.onItemIconChanged,this);g.un("beforeshow",this.onBeforeShowItem,this);if(g==this.activeTab){var e=this.stack.next();if(e){this.setActiveTab(e)}else{if(this.items.getCount()>0){this.setActiveTab(0)}else{this.setActiveTab(null)}}}if(!this.destroying){this.delegateUpdates()}},onBeforeShowItem:function(b){if(b!=this.activeTab){this.setActiveTab(b);return false}},onItemDisabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).addClass("x-item-disabled")}this.stack.remove(c)},onItemEnabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).removeClass("x-item-disabled")}},onItemTitleChanged:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).child("span.x-tab-strip-text",true).innerHTML=c.title}},onItemIconChanged:function(h,g,i){var e=this.getTabEl(h);if(e){e=Ext.get(e);e.child("span.x-tab-strip-text").replaceClass(i,g);e[Ext.isEmpty(g)?"removeClass":"addClass"]("x-tab-with-icon")}},getTabEl:function(d){var c=this.getComponent(d);return c?c.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=true},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates()},hideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="none";this.delegateUpdates()}this.stack.remove(c)},unhideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="";this.delegateUpdates()}},delegateUpdates:function(){if(this.suspendUpdates){return}if(this.resizeTabs&&this.rendered){this.autoSizeTabs()}if(this.enableTabScroll&&this.rendered){this.autoScrollTabs()}},autoSizeTabs:function(){var s=this.items.length,y=this.tabPosition!="bottom"?"header":"footer",x=this[y].dom.offsetWidth,z=this[y].dom.clientWidth;if(!this.resizeTabs||s<1||!z){return}var q=Math.max(Math.min(Math.floor((z-4)/s)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=q;var o=this.strip.query("li:not(.x-tab-edge)");for(var u=0,r=o.length;u<r;u++){var p=o[u],i=Ext.fly(p).child(".x-tab-strip-inner",true),t=p.offsetWidth,v=i.offsetWidth;i.style.width=(q-(t-v))+"px"}},adjustBodyWidth:function(b){if(this.header){this.header.setWidth(b)}if(this.footer){this.footer.setWidth(b)}return b},setActiveTab:function(g){g=this.getComponent(g);if(this.fireEvent("beforetabchange",this,g,this.activeTab)===false){return}if(!this.rendered){this.activeTab=g;return}if(this.activeTab!=g){if(this.activeTab){var e=this.getTabEl(this.activeTab);if(e){Ext.fly(e).removeClass("x-tab-strip-active")}}if(g){var d=this.getTabEl(g);Ext.fly(d).addClass("x-tab-strip-active");this.activeTab=g;this.stack.add(g);this.layout.setActiveItem(g);if(this.scrolling){this.scrollToTab(g,this.animScroll)}}this.fireEvent("tabchange",this,g)}},getActiveTab:function(){return this.activeTab||null},getItem:function(b){return this.getComponent(b)},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var m=this.items.length,p=this.pos.dom.offsetWidth,q=this.pos.dom.clientWidth,n=this.stripWrap,o=n.dom,j=o.offsetWidth,l=this.getScrollPos(),k=this.edge.getOffsetsTo(this.stripWrap)[0]+l;if(!this.enableTabScroll||m<1||j<20){return}if(k<=q){o.scrollLeft=0;n.setWidth(q);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isWebKit){o.style.marginLeft="";o.style.marginRight=""}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");if(Ext.isAir||Ext.isWebKit){o.style.marginLeft="18px";o.style.marginRight="18px"}}q-=n.getMargins("lr");n.setWidth(q>20?q:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers()}else{this.scrollLeft.show();this.scrollRight.show()}}this.scrolling=true;if(l>(k-q)){o.scrollLeft=k-q}else{this.scrollToTab(this.activeTab,false)}this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var g=this.stripWrap.dom.offsetHeight;var e=this.pos.insertFirst({cls:"x-tab-scroller-left"});e.setHeight(g);e.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=e;var d=this.pos.insertFirst({cls:"x-tab-scroller-right"});d.setHeight(g);d.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(d,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=d},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(m,j){if(!m){return}var o=this.getTabEl(m),k=this.getScrollPos(),n=this.getScrollArea(),l=Ext.fly(o).getOffsetsTo(this.stripWrap)[0]+k,i=l+o.offsetWidth;if(l<k){this.scrollTo(l,j)}else{if(i>(k+n)){this.scrollTo(i-n,j)}}},scrollTo:function(c,d){this.stripWrap.scrollTo("left",c,d?this.getScrollAnim():false);if(!d){this.updateScrollButtons()}},onWheel:function(l){var k=l.getWheelDelta()*this.wheelIncrement*-1;l.stopEvent();var j=this.getScrollPos(),m=j+k,e=this.getScrollWidth()-this.getScrollArea();var d=Math.max(0,Math.min(e,m));if(d!=j){this.scrollTo(d,false)}},onScrollRight:function(){var e=this.getScrollWidth()-this.getScrollArea(),g=this.getScrollPos(),d=Math.min(e,g+this.getScrollIncrement());if(d!=g){this.scrollTo(d,this.animScroll)}},onScrollLeft:function(){var c=this.getScrollPos(),d=Math.max(0,c-this.getScrollIncrement());if(d!=c){this.scrollTo(d,this.animScroll)}},updateScrollButtons:function(){var b=this.getScrollPos();this.scrollLeft[b===0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[b>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var b=[];return{add:function(a){b.push(a);if(b.length>10){b.shift()}},remove:function(g){var h=[];for(var i=0,a=b.length;i<a;i++){if(b[i]!=g){h.push(b[i])}}b=h},next:function(){return b.pop()}}};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu)}if(Ext.isString(this.toggleGroup)){this.enableToggle=true}},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){if(this.useSetClass){if(!Ext.isEmpty(this.oldCls)){this.el.removeClass([this.oldCls,"x-btn-pressed"])}this.oldCls=(this.iconCls||this.icon)?(this.text?" x-btn-text-icon":" x-btn-icon"):" x-btn-noicon";this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null])}},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):""},onRender:function(i,g){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile()}this.template=Ext.Button.buttonTemplate}var e,h=this.getTemplateArgs();if(g){e=this.template.insertBefore(g,h,true)}else{e=this.template.append(i,h,true)}this.btnEl=e.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});this.initButtonEl(e,this.btnEl);Ext.ButtonToggleMgr.register(this)},initButtonEl:function(d,g){this.el=d;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);if(Ext.isDefined(this.tabIndex)){g.dom.tabIndex=this.tabIndex}if(this.tooltip){this.setTooltip(this.tooltip,true)}if(this.handleMouseEvents){this.mon(d,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown})}if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide})}if(this.repeat){var e=new Ext.util.ClickRepeater(d,Ext.isObject(this.repeat)?this.repeat:{});this.mon(e,"click",this.onClick,this)}this.mon(d,this.clickEvent,this.onClick,this)},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=true;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth()},setIconClass:function(b){this.iconCls=b;if(this.el){this.btnEl.dom.className="";this.btnEl.addClass(["x-btn-text",b||""]);this.setButtonClass()}return this},setTooltip:function(c,d){if(this.rendered){if(!d){this.clearTip()}if(Ext.isObject(c)){Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},c));this.tooltip=c}else{this.btnEl.dom[this.tooltipType]=c}}else{this.tooltip=c}return this},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.QuickTips.unregister(this.btnEl)}},beforeDestroy:function(){if(this.rendered){this.clearTip()}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.menu)}Ext.destroy(this.repeater)},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;delete this.btnEl;Ext.ButtonToggleMgr.unregister(this)}Ext.Button.superclass.onDestroy.call(this)},doAutoWidth:function(){if(this.el&&this.text&&this.width===undefined){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var b=this.btnEl;if(b&&b.getWidth()>20){b.clip();b.setWidth(Ext.util.TextMetrics.measure(b,this.text).width+b.getFrameWidth("lr"))}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth)}}}},setHandler:function(c,d){this.handler=c;this.scope=d;return this},setText:function(b){this.text=b;if(this.el){this.btnEl.update(b||"&#160;");this.setButtonClass()}this.doAutoWidth();return this},setIcon:function(b){this.icon=b;if(this.el){this.btnEl.setStyle("background-image",b?"url("+b+")":"");this.setButtonClass()}return this},getText:function(){return this.text},toggle:function(c,d){c=c===undefined?!this.pressed:!!c;if(c!=this.pressed){if(this.rendered){this.el[c?"addClass":"removeClass"]("x-btn-pressed")}this.pressed=c;if(!d){this.fireEvent("toggle",this,c);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,c)}}}return this},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(b){if(this.el){if(!Ext.isIE6||!this.text){this.el[b?"addClass":"removeClass"](this.disabledClass)}this.el.dom.disabled=b}this.disabled=b},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.QuickTips.getQuickTip().cancelShow(this.btnEl)}if(this.menu.isVisible()){this.menu.hide()}this.menu.ownerCt=this;this.menu.show(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible()},onClick:function(b){if(b){b.preventDefault()}if(b.button!==0){return}if(!this.disabled){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle()}if(this.menu&&!this.hasVisibleMenu()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b)}}},isMenuTriggerOver:function(c,d){return this.menu&&!d},isMenuTriggerOut:function(c,d){return this.menu&&!d},onMouseOver:function(c){if(!this.disabled){var d=c.within(this.el,true);if(!d){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){this.doc.on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true}this.fireEvent("mouseover",this,c)}if(this.isMenuTriggerOver(c,d)){this.fireEvent("menutriggerover",this,this.menu,c)}}},monitorMouseOver:function(b){if(b.target!=this.el.dom&&!b.within(this.el)){if(this.monitoringMouseOver){this.doc.un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false}this.onMouseOut(b)}},onMouseOut:function(c){var d=c.within(this.el)&&c.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,c);if(this.isMenuTriggerOut(c,d)){this.fireEvent("menutriggerout",this,this.menu,c)}},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(b){if(!this.disabled){this.el.addClass("x-btn-focus")}},onBlur:function(b){this.el.removeClass("x-btn-focus")},getClickEl:function(c,d){return this.el},onMouseDown:function(b){if(!this.disabled&&b.button===0){this.getClickEl(b).addClass("x-btn-click");this.doc.on("mouseup",this.onMouseUp,this)}},onMouseUp:function(b){if(b.button===0){this.getClickEl(b,true).removeClass("x-btn-click");this.doc.un("mouseup",this.onMouseUp,this)}},onMenuShow:function(b){if(this.menu.ownerCt==this){this.menu.ownerCt=this;this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu)}},onMenuHide:function(b){if(this.menu.ownerCt==this){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);delete this.menu.ownerCt}},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var d={};function c(g,a){if(a){var b=d[g.toggleGroup];for(var i=0,k=b.length;i<k;i++){if(b[i]!=g){b[i].toggle(false)}}}}return{register:function(b){if(!b.toggleGroup){return}var a=d[b.toggleGroup];if(!a){a=d[b.toggleGroup]=[]}a.push(b);b.on("toggle",c)},unregister:function(b){if(!b.toggleGroup){return}var a=d[b.toggleGroup];if(a){a.remove(b);b.un("toggle",c)}},getPressed:function(a){var b=d[a];if(b){for(var g=0,i=b.length;g<i;g++){if(b[g].pressed===true){return b[g]}}}return null}}}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip}},setArrowHandler:function(c,d){this.arrowHandler=c;this.scope=d},getMenuClass:function(){return"x-btn-split"+(this.arrowAlign=="bottom"?"-bottom":"")},isClickOnArrow:function(g){if(this.arrowAlign!="bottom"){var d=this.el.child("em.x-btn-split");var e=d.getRegion().right-d.getPadding("r");return g.getPageX()>e}else{return g.getPageY()>this.btnEl.getRegion().bottom}},onClick:function(c,d){c.preventDefault();if(!this.disabled){if(this.isClickOnArrow(c)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("arrowclick",this,c);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,c)}}else{if(this.enableToggle){this.toggle()}this.fireEvent("click",this,c);if(this.handler){this.handler.call(this.scope||this,this,c)}}}},isMenuTriggerOver:function(b){return this.menu&&b.target.tagName==this.arrowSelector},isMenuTriggerOut:function(c,d){return this.menu&&c.target.tagName!=this.arrowSelector}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(d){if(d&&this.showText===true){var c="";if(this.prependText){c+=this.prependText}c+=d.text;return c}return undefined},setActiveItem:function(g,e){if(!Ext.isObject(g)){g=this.menu.getComponent(g)}if(g){if(!this.rendered){this.text=this.getItemText(g);this.iconCls=g.iconCls}else{var d=this.getItemText(g);if(d){this.setText(d)}this.setIconClass(g.iconCls)}this.activeItem=g;if(!g.checked){g.setChecked(true,false)}if(this.forceIcon){this.setIconClass(this.forceIcon)}if(!e){this.fireEvent("change",this,g)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var b=0;Ext.each(this.items,function(d,a){Ext.apply(d,{group:d.group||this.id,itemIndex:a,checkHandler:this.checkHandler,scope:this,checked:d.checked||false});this.menu.items.push(d);if(d.checked){b=a}},this);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);this.setActiveItem(b,true)},checkHandler:function(d,c){if(c){this.setActiveItem(d)}},toggleSelected:function(){var g=this.menu;g.render();if(!g.hasLayout){g.doLayout()}var h,e;for(var i=1;i<this.itemCount;i++){h=(this.activeItem.itemIndex+i)%this.itemCount;e=g.items.itemAt(h);if(!e.disabled){e.setChecked(true);break}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(b){if(Ext.isArray(b)){b={items:b,layout:"toolbar"}}else{b=Ext.apply({layout:"toolbar"},b);if(b.buttons){b.items=b.buttons}}Ext.Toolbar.superclass.constructor.call(this,b)};(function(){var b=Ext.Toolbar;Ext.extend(b,Ext.Container,{defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){b.superclass.initComponent.call(this);this.addEvents("overflowchange")},onRender:function(d,a){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"}}this.el=d.createChild(Ext.apply({id:this.id},this.autoCreate),a);Ext.Toolbar.superclass.onRender.apply(this,arguments)}},lookupComponent:function(a){if(Ext.isString(a)){if(a=="-"){a=new b.Separator()}else{if(a==" "){a=new b.Spacer()}else{if(a=="->"){a=new b.Fill()}else{a=new b.TextItem(a)}}}this.applyDefaults(a)}else{if(a.isFormField||a.render){a=this.createComponent(a)}else{if(a.tag){a=new b.Item({autoEl:a})}else{if(a.tagName){a=new b.Item({el:a})}else{if(Ext.isObject(a)){a=a.xtype?this.createComponent(a):this.constructButton(a)}}}}}return a},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.Toolbar.superclass.applyDefaults.call(this,c);var a=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,a);Ext.apply(c,a)}else{Ext.applyIf(c,a)}}return c},addSeparator:function(){return this.add(new b.Separator())},addSpacer:function(){return this.add(new b.Spacer())},addFill:function(){this.add(new b.Fill())},addElement:function(a){return this.addItem(new b.Item({el:a}))},addItem:function(a){return this.add.apply(this,arguments)},addButton:function(i){if(Ext.isArray(i)){var g=[];for(var h=0,a=i.length;h<a;h++){g.push(this.addButton(i[h]))}return g}return this.add(this.constructButton(i))},addText:function(a){return this.addItem(new b.TextItem(a))},addDom:function(a){return this.add(new b.Item({autoEl:a}))},addField:function(a){return this.add(a)},insertButton:function(k,h){if(Ext.isArray(h)){var i=[];for(var j=0,a=h.length;j<a;j++){i.push(this.insertButton(k+j,h[j]))}return i}return Ext.Toolbar.superclass.insert.call(this,k,h)},trackMenu:function(g,a){if(this.trackMenus&&g.menu){var e=a?"mun":"mon";this[e](g,"menutriggerover",this.onButtonTriggerOver,this);this[e](g,"menushow",this.onButtonMenuShow,this);this[e](g,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(a){var e=a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType);return e},onAdd:function(a){Ext.Toolbar.superclass.onAdd.call(this);this.trackMenu(a);if(this.disabled){a.disable()}},onRemove:function(a){Ext.Toolbar.superclass.onRemove.call(this);this.trackMenu(a,true)},onDisable:function(){this.items.each(function(a){if(a.disable){a.disable()}})},onEnable:function(){this.items.each(function(a){if(a.enable){a.enable()}})},onButtonTriggerOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);b.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",b.Item);b.Separator=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"span",cls:"xtb-sep"},a)}});Ext.reg("tbseparator",b.Separator);b.Spacer=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},a)}});Ext.reg("tbspacer",b.Spacer);b.Fill=Ext.extend(b.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",b.Fill);b.TextItem=Ext.extend(b.Item,{constructor:function(a){b.TextItem.superclass.constructor.call(this,Ext.isString(a)?{text:a}:a)},onRender:function(d,a){this.autoEl={cls:"xtb-text",html:this.text||""};b.TextItem.superclass.onRender.call(this,d,a)},setText:function(a){if(this.rendered){this.el.update(a)}else{this.text=a}}});Ext.reg("tbtext",b.TextItem);b.Button=Ext.extend(Ext.Button,{});b.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",b.Button);Ext.reg("tbsplit",b.SplitButton)})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle")}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(c){c=Ext.ButtonGroup.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d)}else{Ext.applyIf(c,d)}return c},onAfterLayout:function(){var b=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(b);this.el.setWidth(b+this.getFrameWidth())}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var b=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var d=[this.first=new b.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.moveFirst,scope:this}),this.prev=new b.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:false,allowNegative:false,enableKeyEvents:true,selectOnFocus:true,submitValue:false,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new b.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new b.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.moveNext,scope:this}),this.last=new b.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.moveLast,scope:this}),"-",this.refresh=new b.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})];var a=this.items||this.buttons||[];if(this.prependButtons){this.items=a.concat(d)}else{this.items=d.concat(a)}delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push(this.displayItem=new b.TextItem({}))}Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");this.on("afterlayout",this.onFirstLayout,this,{single:true});this.cursor=0;this.bindStore(this.store,true)},onFirstLayout:function(){if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded)}},updateInfo:function(){if(this.displayItem){var a=this.store.getCount();var d=a==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.store.getTotalCount());this.displayItem.setText(d)}},onLoad:function(a,n,d){if(!this.rendered){this.dsLoaded=[a,n,d];return}var m=this.getParams();this.cursor=(d.params&&d.params[m.start])?d.params[m.start]:0;var k=this.getPageData(),o=k.activePage,l=k.pages;this.afterTextItem.setText(String.format(this.afterPageText,k.pages));this.inputItem.setValue(o);this.first.setDisabled(o==1);this.prev.setDisabled(o==1);this.next.setDisabled(o==l);this.last.setDisabled(o==l);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,k)},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)}},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){if(!this.rendered){return}this.refresh.enable()},readPage:function(d){var a=this.inputItem.getValue(),g;if(!a||isNaN(g=parseInt(a,10))){this.inputItem.setValue(d.activePage);return false}return g},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(a){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(e,k){var m=k.getKey(),d=this.getPageData(),l;if(m==k.RETURN){k.stopEvent();l=this.readPage(d);if(l!==false){l=Math.min(Math.max(1,l),d.pages)-1;this.doLoad(l*this.pageSize)}}else{if(m==k.HOME||m==k.END){k.stopEvent();l=m==k.HOME?1:d.pages;e.setValue(l)}else{if(m==k.UP||m==k.PAGEUP||m==k.DOWN||m==k.PAGEDOWN){k.stopEvent();if((l=this.readPage(d))){var a=k.shiftKey?10:1;if(m==k.DOWN||m==k.PAGEDOWN){a*=-1}l+=a;if(l>=1&l<=d.pages){e.setValue(l)}}}}}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(e){var g={},a=this.getParams();g[a.start]=e;g[a.limit]=this.pageSize;if(this.fireEvent("beforechange",this,g)!==false){this.store.load({params:g})}},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var d=this.store.getTotalCount(),a=d%this.pageSize;this.doLoad(a?(d-a):d-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(g,e){var a;if(!e&&this.store){if(g!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.beforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoadError,this)}if(!g){this.store=null}}if(g){g=Ext.StoreMgr.lookup(g);g.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError});a=true}this.store=g;if(a){this.onLoad(g,null,{})}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this)}})})();Ext.reg("paging",Ext.PagingToolbar);Ext.History=(function(){var q,s;var l=false;var r;function p(){var b=top.location.href,a=b.indexOf("#");return a>=0?b.substr(a+1):null}function u(){s.value=r}function o(a){r=a;Ext.History.fireEvent("change",a)}function n(a){var b=['<html><body><div id="state">',Ext.util.Format.htmlEncode(a),"</div></body></html>"].join("");try{var c=q.contentWindow.document;c.open();c.write(b);c.close();return true}catch(d){return false}}function t(){if(!q.contentWindow||!q.contentWindow.document){setTimeout(t,10);return}var c=q.contentWindow.document;var a=c.getElementById("state");var b=a?a.innerText:null;var d=p();setInterval(function(){c=q.contentWindow.document;a=c.getElementById("state");var e=a?a.innerText:null;var g=p();if(e!==b){b=e;o(b);top.location.hash=b;d=b;u()}else{if(g!==d){d=g;n(g)}}},50);l=true;Ext.History.fireEvent("ready",Ext.History)}function m(){r=s.value?s.value:p();if(Ext.isIE){t()}else{var a=p();setInterval(function(){var b=p();if(b!==a){a=b;o(a);u()}},50);l=true;Ext.History.fireEvent("ready",Ext.History)}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(a,b){if(l){Ext.callback(a,b,[this]);return}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(a,b)});return}s=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){q=Ext.getDom(Ext.History.iframeId)}this.addEvents("ready","change");if(a){this.on("ready",a,b,{single:true})}m()},add:function(b,a){if(a!==false){if(this.getToken()==b){return true}}if(Ext.isIE){return n(b)}else{top.location.hash=b;return true}},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return l?r:p()}}})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header"}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this})}},showAt:function(b){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth()}if(this.constrainPosition){b=this.el.adjustForConstraints(b)}this.setPagePosition(b[0],b[1])},doAutoWidth:function(d){d=d||0;var c=this.body.getTextWidth();if(this.title){c=Math.max(c,this.header.child("span").getTextWidth(this.title))}c+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+d;this.setWidth(c.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true}},showBy:function(d,c){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(d,c||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.reg("tip",Ext.Tip);Ext.Tip.DD=function(c,d){Ext.apply(this,d);this.tip=c;Ext.Tip.DD.superclass.constructor.call(this,c.el.id,"WindowDD-"+c.id);this.setHandleElId(c.header.id);this.scroll=false};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(b){this.tip.el.enableShadow(true)}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,constrainPosition:false,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget(this.target);this.origAnchor=this.anchor},onRender:function(c,d){Ext.ToolTip.superclass.onRender.call(this,c,d);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);this.anchorEl.setStyle("z-index",this.el.getZIndex()+1)},initTarget:function(g){var e;if((e=Ext.get(g))){if(this.target){var d=Ext.get(this.target);this.mun(d,"mouseover",this.onTargetOver,this);this.mun(d,"mouseout",this.onTargetOut,this);this.mun(d,"mousemove",this.onMouseMove,this)}this.mon(e,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});this.target=e}if(this.anchor){this.anchorTarget=this.target}},onMouseMove:function(c){var d=this.delegate?c.getTarget(this.delegate):this.triggerElement=true;if(d){this.targetXY=c.getXY();if(d===this.triggerElement){if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY())}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(c)}}else{if(!this.closable&&this.isVisible()){this.hide()}}},getTargetXY:function(){if(this.delegate){this.anchorTarget=this.triggerElement}if(this.anchor){this.targetCounter++;var u=this.getOffsets(),m=(this.anchorToTarget&&!this.trackMouse)?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,x=Ext.lib.Dom.getViewWidth()-5,q=Ext.lib.Dom.getViewHeight()-5,p=document.documentElement,s=document.body,n=(p.scrollLeft||s.scrollLeft||0)+5,o=(p.scrollTop||s.scrollTop||0)+5,v=[m[0]+u[0],m[1]+u[1]],r=this.getSize();this.anchorEl.removeClass(this.anchorCls);if(this.targetCounter<2){if(v[0]<n){if(this.anchorToTarget){this.defaultAlign="l-r";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="left";return this.getTargetXY()}if(v[0]+r.width>x){if(this.anchorToTarget){this.defaultAlign="r-l";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="right";return this.getTargetXY()}if(v[1]<o){if(this.anchorToTarget){this.defaultAlign="t-b";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="top";return this.getTargetXY()}if(v[1]+r.height>q){if(this.anchorToTarget){this.defaultAlign="b-t";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return v}else{var t=this.getMouseOffset();return[this.targetXY[0]+t[0],this.targetXY[1]+t[1]]}},getMouseOffset:function(){var b=this.anchor?[0,0]:[15,18];if(this.mouseOffset){b[0]+=this.mouseOffset[0];b[1]+=this.mouseOffset[1]}return b},getAnchorPosition:function(){if(this.anchor){this.tipAnchor=this.anchor.charAt(0)}else{var b=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!b){throw"AnchorTip.defaultAlign is invalid"}this.tipAnchor=b[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var d,e=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse){switch(e){case"t":d=[0,9];break;case"b":d=[0,-13];break;case"r":d=[-13,0];break;default:d=[9,0];break}}else{switch(e){case"t":d=[-15-this.anchorOffset,30];break;case"b":d=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":d=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:d=[25,-13-this.anchorOffset];break}}var g=this.getMouseOffset();d[0]+=g[0];d[1]+=g[1];return d},onTargetOver:function(c){if(this.disabled||c.within(this.target.dom,true)){return}var d=c.getTarget(this.delegate);if(d){this.triggerElement=d;this.clearTimer("hide");this.targetXY=c.getXY();this.delayShow()}},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show()}else{this.showTimer=this.show.defer(this.showDelay,this)}}else{if(!this.hidden&&this.autoHide!==false){this.show()}}},onTargetOut:function(b){if(this.disabled||b.within(this.target.dom,true)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this)}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();if(this.anchorEl){this.anchorEl.hide()}Ext.ToolTip.superclass.hide.call(this);delete this.triggerElement},show:function(){if(this.anchor){this.showAt([-1000,-1000]);this.origConstrainPosition=this.constrainPosition;this.constrainPosition=false;this.anchor=this.origAnchor}this.showAt(this.getTargetXY());if(this.anchor){this.syncAnchor();this.anchorEl.show();this.constrainPosition=this.origConstrainPosition}else{this.anchorEl.hide()}},showAt:function(b){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,b);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this)}if(this.anchor&&!this.anchorEl.isVisible()){this.syncAnchor();this.anchorEl.show()}},syncAnchor:function(){var e,d,g;switch(this.tipAnchor.charAt(0)){case"t":e="b";d="tl";g=[20+this.anchorOffset,2];break;case"r":e="l";d="tr";g=[-2,11+this.anchorOffset];break;case"b":e="t";d="bl";g=[20+this.anchorOffset,-2];break;default:e="r";d="tl";g=[2,11+this.anchorOffset];break}this.anchorEl.alignTo(this.el,e+"-"+d,g)},setPagePosition:function(d,c){Ext.ToolTip.superclass.setPagePosition.call(this,d,c);if(this.anchor){this.syncAnchor()}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(b){if(this.autoHide!==true&&!this.closable&&!b.within(this.el.dom)){this.disable();this.doEnable.defer(100,this)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(g,h){if(this.contstrainPosition){var i=this.targetXY[1],e=this.getSize().height;if(h<=i&&(h+e)>=i){h=i-e-5}}return{x:g,y:h}},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this)}});Ext.reg("tooltip",Ext.ToolTip);Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(p){var n=Ext.isArray(p)?p:arguments;for(var o=0,j=n.length;o<j;o++){var i=n[o];var m=i.target;if(m){if(Ext.isArray(m)){for(var q=0,c=m.length;q<c;q++){this.targets[Ext.id(m[q])]=i}}else{this.targets[Ext.id(m)]=i}}}},unregister:function(b){delete this.targets[Ext.id(b)]},cancelShow:function(c){var d=this.activeTarget;c=Ext.get(c).dom;if(this.isVisible()){if(d&&d.el==c){this.hide()}}else{if(d&&d.el==c){this.clearTimer("show")}}},getTipCfg:function(h){var e=h.getTarget(),i,g;if(this.interceptTitles&&e.title&&Ext.isString(e.title)){i=e.title;e.qtip=i;e.removeAttribute("title");h.preventDefault()}else{g=this.tagConfig;i=e.qtip||Ext.fly(e).getAttribute(g.attribute,g.namespace)}return i},onTargetOver:function(k){if(this.disabled){return}this.targetXY=k.getXY();var o=k.getTarget();if(!o||o.nodeType!==1||o==document||o==document.body){return}if(this.activeTarget&&((o==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(o))){this.clearTimer("hide");this.show();return}if(o&&this.targets[o.id]){this.activeTarget=this.targets[o.id];this.activeTarget.el=o;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=o}this.delayShow();return}var m,l=Ext.fly(o),e=this.tagConfig,n=e.namespace;if(m=this.getTipCfg(k)){var j=l.getAttribute(e.hide,n);this.activeTarget={el:o,text:m,width:l.getAttribute(e.width,n),autoHide:j!="user"&&j!=="false",title:l.getAttribute(e.title,n),cls:l.getAttribute(e.cls,n),align:l.getAttribute(e.align,n)};this.anchor=l.getAttribute(e.anchor,n);if(this.anchor){this.anchorTarget=o}this.delayShow()}},onTargetOut:function(b){if(this.activeTarget&&b.within(this.activeTarget.el)&&!this.getTipCfg(b)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(c){var d=this.activeTarget;if(d){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=d}if(d.width){this.setWidth(d.width);this.body.setWidth(this.adjustBodyWidth(d.width-this.getFrameWidth()));this.measureWidth=false}else{this.measureWidth=true}this.setTitle(d.title||"");this.body.update(d.text);this.autoHide=d.autoHide;this.dismissDelay=d.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls}if(d.cls){this.el.addClass(d.cls);this.lastCls=d.cls}if(this.anchor){this.constrainPosition=false}else{if(d.align){c=this.el.getAlignToXY(d.el,d.align);this.constrainPosition=false}else{this.constrainPosition=true}}}Ext.QuickTip.superclass.showAt.call(this,c)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.reg("quicktip",Ext.QuickTip);Ext.QuickTips=function(){var c,d=[];return{init:function(a){if(!c){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(a)});return}c=new Ext.QuickTip({elements:"header,body"});if(a!==false){c.render(Ext.getBody())}}},enable:function(){if(c){d.pop();if(d.length<1){c.enable()}}},disable:function(){if(c){c.disable()}d.push(1)},isEnabled:function(){return c!==undefined&&!c.disabled},getQuickTip:function(){return c},register:function(){c.register.apply(c,arguments)},unregister:function(){c.unregister.apply(c,arguments)},tips:function(){c.register.apply(c,arguments)}}}();Ext.slider.Tip=Ext.extend(Ext.Tip,{minWidth:10,offsets:[0,-10],init:function(b){b.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(d,g,e){this.show();this.body.update(this.getText(e));this.doAutoWidth();this.el.alignTo(e.el,"b-t?",this.offsets)},getText:function(b){return String(b.value)}});Ext.ux.SliderTip=Ext.slider.Tip;Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this)}var d=this.loader;if(!d){d=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod})}else{if(Ext.isObject(d)&&!d.load){d=new Ext.tree.TreeLoader(d)}}this.loader=d;this.nodeHash={};if(this.root){var c=this.root;delete this.root;this.setRootNode(c)}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this)}},proxyNodeEvent:function(o,i,j,k,l,m,n){if(o=="collapse"||o=="expand"||o=="beforecollapse"||o=="beforeexpand"||o=="move"||o=="beforemove"){o=o+"node"}return this.fireEvent(o,i,j,k,l,m,n)},getRootNode:function(){return this.root},setRootNode:function(c){this.destroyRoot();if(!c.render){c=this.loader.createNode(c)}this.root=c;c.ownerTree=this;c.isRoot=true;this.registerNode(c);if(!this.rootVisible){var d=c.attributes.uiProvider;c.ui=d?new d(c):new Ext.tree.RootTreeNodeUI(c)}if(this.innerCt){this.clearInnerCt();this.renderRoot()}return c},clearInnerCt:function(){this.innerCt.update("")},renderRoot:function(){this.root.render();if(!this.rootVisible){this.root.renderChildren()}},getNodeById:function(b){return this.nodeHash[b]},registerNode:function(b){this.nodeHash[b.id]=b},unregisterNode:function(b){delete this.nodeHash[b.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(d){var c=d.parentNode;if(c){if(c.expandedChild&&c.expandedChild.parentNode==c){c.expandedChild.collapse()}c.expandedChild=d}},getChecked:function(a,i){i=i||this.root;var h=[];var g=function(){if(this.attributes.checked){h.push(!a?this:(a=="id"?this.id:this.attributes[a]))}};i.cascade(g);return h},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(true)},collapseAll:function(){this.root.collapse(true)},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel()}return this.selModel},expandPath:function(l,j,k){j=j||"id";var n=l.split(this.pathSeparator);var o=this.root;if(o.attributes[j]!=n[1]){if(k){k(false,null)}return}var i=1;var m=function(){if(++i==n.length){if(k){k(true,o)}return}var a=o.findChild(j,n[i]);if(!a){if(k){k(false,o)}return}o=a;a.expand(false,false,m)};o.expand(false,false,m)},selectPath:function(k,i,j){i=i||"id";var m=k.split(this.pathSeparator),h=m.pop();if(m.length>1){var l=function(b,c){if(b&&c){var a=c.findChild(i,h);if(a){a.select();if(j){j(true,a)}}else{if(j){j(false,a)}}}else{if(j){j(false,a)}}};this.expandPath(m.join(this.pathSeparator),i,l)}else{this.root.select();if(j){j(true,this.root)}}},getTreeEl:function(){return this.body},onRender:function(c,d){Ext.tree.TreePanel.superclass.onRender.call(this,c,d);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body)}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true})}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})}this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.renderRoot()},beforeDestroy:function(){if(this.rendered){Ext.dd.ScrollManager.unregister(this.body);Ext.destroy(this.dropZone,this.dragZone)}this.destroyRoot();Ext.destroy(this.loader);this.nodeHash=this.root=this.loader=null;Ext.tree.TreePanel.superclass.beforeDestroy.call(this)},destroyRoot:function(){if(this.root&&this.root.destroy){this.root.destroy(true)}}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(b){this.tree=b;this.tree.on("render",this.initEvents,this)};Ext.tree.TreeEventModel.prototype={initEvents:function(){var b=this.tree;if(b.trackMouseOver!==false){b.mon(b.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut})}b.mon(b.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu})},getNode:function(d){var e;if(e=d.getTarget(".x-tree-node-el",10)){var g=Ext.fly(e,"_treeEvents").getAttribute("tree-node-id","ext");if(g){return this.tree.getNodeById(g)}}return null},getNodeTarget:function(c){var d=c.getTarget(".x-tree-node-icon",1);if(!d){d=c.getTarget(".x-tree-node-el",6)}return d},delegateOut:function(d,e){if(!this.beforeEvent(d)){return}if(d.getTarget(".x-tree-ec-icon",1)){var g=this.getNode(d);this.onIconOut(d,g);if(g==this.lastEcOver){delete this.lastEcOver}}if((e=this.getNodeTarget(d))&&!d.within(e,true)){this.onNodeOut(d,this.getNode(d))}},delegateOver:function(c,d){if(!this.beforeEvent(c)){return}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true}if(this.lastEcOver){this.onIconOut(c,this.lastEcOver);delete this.lastEcOver}if(c.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(c);this.onIconOver(c,this.lastEcOver)}if(d=this.getNodeTarget(c)){this.onNodeOver(c,this.getNode(c))}},trackExit:function(b){if(this.lastOverNode){if(this.lastOverNode.ui&&!b.within(this.lastOverNode.ui.getEl())){this.onNodeOut(b,this.lastOverNode)}delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false}},delegateClick:function(c,d){if(this.beforeEvent(c)){if(c.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(c,this.getNode(c))}else{if(c.getTarget(".x-tree-ec-icon",1)){this.onIconClick(c,this.getNode(c))}else{if(this.getNodeTarget(c)){this.onNodeClick(c,this.getNode(c))}}}}else{this.checkContainerEvent(c,"click")}},delegateDblClick:function(c,d){if(this.beforeEvent(c)){if(this.getNodeTarget(c)){this.onNodeDblClick(c,this.getNode(c))}}else{this.checkContainerEvent(c,"dblclick")}},delegateContextMenu:function(c,d){if(this.beforeEvent(c)){if(this.getNodeTarget(c)){this.onNodeContextMenu(c,this.getNode(c))}}else{this.checkContainerEvent(c,"contextmenu")}},checkContainerEvent:function(c,d){if(this.disabled){c.stopEvent();return false}this.onContainerEvent(c,d)},onContainerEvent:function(c,d){this.tree.fireEvent("container"+d,this.tree,c)},onNodeClick:function(c,d){d.ui.onClick(c)},onNodeOver:function(c,d){this.lastOverNode=d;d.ui.onOver(c)},onNodeOut:function(c,d){d.ui.onOut(c)},onIconOver:function(c,d){d.ui.addClass("x-tree-ec-over")},onIconOut:function(c,d){d.ui.removeClass("x-tree-ec-over")},onIconClick:function(c,d){d.ui.ecClick(c)},onCheckboxClick:function(c,d){d.ui.onCheckChange(c)},onNodeDblClick:function(c,d){d.ui.onDblClick(c)},onNodeContextMenu:function(c,d){d.ui.onContextMenu(c)},beforeEvent:function(c){var d=this.getNode(c);if(this.disabled||!d||!d.ui){c.stopEvent();return false}return true},disable:function(){this.disabled=true},enable:function(){this.disabled=false}};Ext.tree.DefaultSelectionModel=function(b){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,b);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.tree.DefaultSelectionModel,Ext.util.Observable,{init:function(b){this.tree=b;b.mon(b.getTreeEl(),"keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this)},onNodeClick:function(d,c){this.select(d)},select:function(g,e){if(!Ext.fly(g.ui.wrap).isVisible()&&e){return e.call(this,g)}var d=this.selNode;if(g==d){g.ui.onSelectedChange(true)}else{if(this.fireEvent("beforeselect",this,g,d)!==false){if(d&&d.ui){d.ui.onSelectedChange(false)}this.selNode=g;g.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,g,d)}}return g},unselect:function(c,d){if(this.selNode==c){this.clearSelections(d)}},clearSelections:function(d){var c=this.selNode;if(c){c.ui.onSelectedChange(false);this.selNode=null;if(d!==true){this.fireEvent("selectionchange",this,null)}}return c},getSelectedNode:function(){return this.selNode},isSelected:function(b){return this.selNode==b},selectPrevious:function(e){if(!(e=e||this.selNode||this.lastSelNode)){return null}var g=e.previousSibling;if(g){if(!g.isExpanded()||g.childNodes.length<1){return this.select(g,this.selectPrevious)}else{var d=g.lastChild;while(d&&d.isExpanded()&&Ext.fly(d.ui.wrap).isVisible()&&d.childNodes.length>0){d=d.lastChild}return this.select(d,this.selectPrevious)}}else{if(e.parentNode&&(this.tree.rootVisible||!e.parentNode.isRoot)){return this.select(e.parentNode,this.selectPrevious)}}return null},selectNext:function(c){if(!(c=c||this.selNode||this.lastSelNode)){return null}if(c.firstChild&&c.isExpanded()&&Ext.fly(c.ui.wrap).isVisible()){return this.select(c.firstChild,this.selectNext)}else{if(c.nextSibling){return this.select(c.nextSibling,this.selectNext)}else{if(c.parentNode){var d=null;c.parentNode.bubble(function(){if(this.nextSibling){d=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext);return false}});return d}}}return null},onKeyDown:function(i){var e=this.selNode||this.lastSelNode;var h=this;if(!e){return}var g=i.getKey();switch(g){case i.DOWN:i.stopEvent();this.selectNext();break;case i.UP:i.stopEvent();this.selectPrevious();break;case i.RIGHT:i.preventDefault();if(e.hasChildNodes()){if(!e.isExpanded()){e.expand()}else{if(e.firstChild){this.select(e.firstChild,i)}}}break;case i.LEFT:i.preventDefault();if(e.hasChildNodes()&&e.isExpanded()){e.collapse()}else{if(e.parentNode&&(this.tree.rootVisible||e.parentNode!=this.tree.getRootNode())){this.select(e.parentNode,i)}}break}}});Ext.tree.MultiSelectionModel=function(b){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,b);Ext.tree.MultiSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.tree.MultiSelectionModel,Ext.util.Observable,{init:function(b){this.tree=b;b.mon(b.getTreeEl(),"keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this)},onNodeClick:function(d,c){if(c.ctrlKey&&this.isSelected(d)){this.unselect(d)}else{this.select(d,c,c.ctrlKey)}},select:function(e,g,d){if(d!==true){this.clearSelections(true)}if(this.isSelected(e)){this.lastSelNode=e;return e}this.selNodes.push(e);this.selMap[e.id]=e;this.lastSelNode=e;e.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return e},unselect:function(d){if(this.selMap[d.id]){d.ui.onSelectedChange(false);var g=this.selNodes;var e=g.indexOf(d);if(e!=-1){this.selNodes.splice(e,1)}delete this.selMap[d.id];this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(e){var h=this.selNodes;if(h.length>0){for(var i=0,g=h.length;i<g;i++){h[i].ui.onSelectedChange(false)}this.selNodes=[];this.selMap={};if(e!==true){this.fireEvent("selectionchange",this,this.selNodes)}}},isSelected:function(b){return this.selMap[b.id]?true:false},getSelectedNodes:function(){return this.selNodes},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.data.Tree=function(b){this.nodeHash={};this.root=null;if(b){this.setRootNode(b)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)};Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(b){this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);return b},getNodeById:function(b){return this.nodeHash[b]},registerNode:function(b){this.nodeHash[b.id]=b},unregisterNode:function(b){delete this.nodeHash[b.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=function(b){this.attributes=b||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id}this.childNodes=[];if(!this.childNodes.indexOf){this.childNodes.indexOf=function(e){for(var g=0,a=this.length;g<a;g++){if(this[g]==e){return g}}return -1}}this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)};Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(c){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var d=this.getOwnerTree();if(d){if(d.proxyNodeEvent.apply(d,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(b){this.firstChild=b},setLastChild:function(b){this.lastChild=b},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(m){var l=false;if(Ext.isArray(m)){l=m}else{if(arguments.length>1){l=arguments}}if(l){for(var n=0,j=l.length;n<j;n++){this.appendChild(l[n])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,m)===false){return false}var i=this.childNodes.length;var o=m.parentNode;if(o){if(m.fireEvent("beforemove",m.getOwnerTree(),m,o,this,i)===false){return false}o.removeChild(m)}i=this.childNodes.length;if(i===0){this.setFirstChild(m)}this.childNodes.push(m);m.parentNode=this;var k=this.childNodes[i-1];if(k){m.previousSibling=k;k.nextSibling=m}else{m.previousSibling=null}m.nextSibling=null;this.setLastChild(m);m.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,m,i);if(o){m.fireEvent("move",this.ownerTree,m,o,this,i)}return m}},removeChild:function(g,d){var e=this.childNodes.indexOf(g);if(e==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,g)===false){return false}this.childNodes.splice(e,1);if(g.previousSibling){g.previousSibling.nextSibling=g.nextSibling}if(g.nextSibling){g.nextSibling.previousSibling=g.previousSibling}if(this.firstChild==g){this.setFirstChild(g.nextSibling)}if(this.lastChild==g){this.setLastChild(g.previousSibling)}this.fireEvent("remove",this.ownerTree,this,g);if(d){g.destroy(true)}else{g.clear()}return g},clear:function(b){this.setOwnerTree(null,b);this.parentNode=this.previousSibling=this.nextSibling=null;if(b){this.firstChild=this.lastChild=null}},destroy:function(b){if(b===true){this.purgeListeners();this.clear(true);Ext.each(this.childNodes,function(a){a.destroy(true)});this.childNodes=null}else{this.remove(true)}},insertBefore:function(l,i){if(!i){return this.appendChild(l)}if(l==i){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,l,i)===false){return false}var h=this.childNodes.indexOf(i);var m=l.parentNode;var k=h;if(m==this&&this.childNodes.indexOf(l)<h){k--}if(m){if(l.fireEvent("beforemove",l.getOwnerTree(),l,m,this,h,i)===false){return false}m.removeChild(l)}if(k===0){this.setFirstChild(l)}this.childNodes.splice(k,0,l);l.parentNode=this;var j=this.childNodes[k-1];if(j){l.previousSibling=j;j.nextSibling=l}else{l.previousSibling=null}l.nextSibling=i;i.previousSibling=l;l.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,l,i);if(m){l.fireEvent("move",this.ownerTree,l,m,this,k,i)}return l},remove:function(b){if(this.parentNode){this.parentNode.removeChild(this,b)}return this},removeAll:function(e){var g=this.childNodes,d;while((d=g[0])){this.removeChild(d,e)}return this},item:function(b){return this.childNodes[b]},replaceChild:function(e,g){var d=g?g.nextSibling:null;this.removeChild(g);this.insertBefore(e,d);return g},indexOf:function(b){return this.childNodes.indexOf(b)},getOwnerTree:function(){if(!this.ownerTree){var b=this;while(b){if(b.ownerTree){this.ownerTree=b.ownerTree;break}b=b.parentNode}}return this.ownerTree},getDepth:function(){var c=0;var d=this;while(d.parentNode){++c;d=d.parentNode}return c},setOwnerTree:function(d,c){if(d!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=d;if(c!==true){Ext.each(this.childNodes,function(a){a.setOwnerTree(d)})}if(d){d.registerNode(this)}}},setId:function(c){if(c!==this.id){var d=this.ownerTree;if(d){d.unregisterNode(this)}this.id=this.attributes.id=c;if(d){d.registerNode(this)}this.onIdChange(c)}},onIdChange:Ext.emptyFn,getPath:function(i){i=i||"id";var g=this.parentNode;var b=[this.attributes[i]];while(g){b.unshift(g.attributes[i]);g=g.parentNode}var h=this.getOwnerTree().pathSeparator;return h+b.join(h)},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break}h=h.parentNode}},cascade:function(j,k,h){if(j.apply(k||this,h||[this])!==false){var l=this.childNodes;for(var m=0,i=l.length;m<i;m++){l[m].cascade(j,k,h)}}},eachChild:function(j,k,h){var l=this.childNodes;for(var m=0,i=l.length;m<i;m++){if(j.apply(k||this,h||[l[m]])===false){break}}},findChild:function(d,g,e){return this.findChildBy(function(){return this.attributes[d]==g},null,e)},findChildBy:function(m,n,i){var o=this.childNodes,k=o.length,p=0,l,q;for(;p<k;p++){l=o[p];if(m.call(n||l,l)===true){return l}else{if(i){q=l.findChildBy(m,n,i);if(q!=null){return q}}}}return null},sort:function(m,n){var o=this.childNodes;var j=o.length;if(j>0){var l=n?function(){m.apply(n,arguments)}:m;o.sort(l);for(var i=0;i<j;i++){var k=o[i];k.previousSibling=o[i-1];k.nextSibling=o[i+1];if(i===0){this.setFirstChild(k)}if(i==j-1){this.setLastChild(k)}}}},contains:function(b){return b.isAncestor(this)},isAncestor:function(d){var c=this.parentNode;while(c){if(c==d){return true}c=c.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.tree.TreeNode=function(d){d=d||{};if(Ext.isString(d)){d={text:d}}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,d);this.expanded=d.expanded===true;this.isTarget=d.isTarget!==false;this.draggable=d.draggable!==false&&d.allowDrag!==false;this.allowChildren=d.allowChildren!==false&&d.allowDrop!==false;this.text=d.text;this.disabled=d.disabled===true;this.hidden=d.hidden===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");var c=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new c(this)};Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:true,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var b;return this.loader||((b=this.getOwnerTree())&&b.loader?b.loader:(this.loader=new Ext.tree.TreeLoader()))},setFirstChild:function(d){var c=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,d);if(this.childrenRendered&&c&&d!=c){c.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},setLastChild:function(c){var d=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,c);if(this.childrenRendered&&d&&c!=d){d.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},appendChild:function(c){if(!c.render&&!Ext.isArray(c)){c=this.getLoader().createNode(c)}var d=Ext.tree.TreeNode.superclass.appendChild.call(this,c);if(d&&this.childrenRendered){d.render()}this.ui.updateExpandIcon();return d},removeChild:function(c,d){this.ownerTree.getSelectionModel().unselect(c);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(!d){if(c.ui.rendered){c.ui.remove()}if(this.childNodes.length<1){this.collapse(false,false)}else{this.ui.updateExpandIcon()}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false}}return c},insertBefore:function(g,e){if(!g.render){g=this.getLoader().createNode(g)}var d=Ext.tree.TreeNode.superclass.insertBefore.call(this,g,e);if(d&&e&&this.childrenRendered){g.render()}this.ui.updateExpandIcon();return d},setText:function(c){var d=this.text;this.text=this.attributes.text=c;if(this.rendered){this.ui.onTextChange(this,c,d)}this.fireEvent("textchange",this,c,d)},select:function(){var b=this.getOwnerTree();if(b){b.getSelectionModel().select(this)}},unselect:function(d){var c=this.getOwnerTree();if(c){c.getSelectionModel().unselect(this,d)}},isSelected:function(){var b=this.getOwnerTree();return b?b.getSelectionModel().isSelected(this):false},expand:function(g,i,h,e){if(!this.expanded){if(this.fireEvent("beforeexpand",this,g,i)===false){return}if(!this.childrenRendered){this.renderChildren()}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&i!==false)||i){this.ui.animExpand(function(){this.fireEvent("expand",this);this.runCallback(h,e||this,[this]);if(g===true){this.expandChildNodes(true)}}.createDelegate(this));return}else{this.ui.expand();this.fireEvent("expand",this);this.runCallback(h,e||this,[this])}}else{this.runCallback(h,e||this,[this])}if(g===true){this.expandChildNodes(true)}},runCallback:function(e,g,d){if(Ext.isFunction(e)){e.apply(g,d)}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(i,l,k,m){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,i,l)===false){return}this.expanded=false;if((this.getOwnerTree().animate&&l!==false)||l){this.ui.animCollapse(function(){this.fireEvent("collapse",this);this.runCallback(k,m||this,[this]);if(i===true){this.collapseChildNodes(true)}}.createDelegate(this));return}else{this.ui.collapse();this.fireEvent("collapse",this);this.runCallback(k,m||this,[this])}}else{if(!this.expanded){this.runCallback(k,m||this,[this])}}if(i===true){var n=this.childNodes;for(var o=0,j=n.length;o<j;o++){n[o].collapse(true,false)}}},delayedExpand:function(b){if(!this.expandProcId){this.expandProcId=this.expand.defer(b,this)}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId)}this.expandProcId=false},toggle:function(){if(this.expanded){this.collapse()}else{this.expand()}},ensureVisible:function(g,d){var e=this.getOwnerTree();e.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var a=e.getNodeById(this.id);e.getTreeEl().scrollChildIntoView(a.ui.anchor);this.runCallback(g,d||this,[this])}.createDelegate(this))},expandChildNodes:function(e){var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].expand(e)}},collapseChildNodes:function(e){var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].collapse(e)}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true)}this.fireEvent("disabledchange",this,true)},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false)}this.fireEvent("disabledchange",this,false)},renderChildren:function(e){if(e!==false){this.fireEvent("beforechildrenrendered",this)}var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].render(true)}this.childrenRendered=true},sort:function(i,j){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var k=this.childNodes;for(var g=0,h=k.length;g<h;g++){k[g].render(true)}}},render:function(b){this.ui.render(b);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false)}}},renderIndent:function(g,i){if(i){this.ui.childIndent=null}this.ui.renderIndent();if(g===true&&this.childrenRendered){var j=this.childNodes;for(var k=0,h=j.length;k<h;k++){j[k].renderIndent(true,i)}}},beginUpdate:function(){this.childrenRendered=false},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren()}},destroy:function(b){if(b===true){this.unselect(true)}Ext.tree.TreeNode.superclass.destroy.call(this,b);Ext.destroy(this.ui,this.loader);this.ui=this.loader=null},onIdChange:function(b){this.ui.onIdChange(b)}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(b){this.loaded=b&&b.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load")};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(i,m,k,o){if(this.loading){var l;var n=function(){if(!this.loading){clearInterval(l);this.expand(i,m,k,o)}}.createDelegate(this);l=setInterval(n,200);return}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return}this.loading=true;this.ui.beforeLoad(this);var j=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(j){j.load(this,this.loadComplete.createDelegate(this,[i,m,k,o]),this);return}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,i,m,k,o)},isLoading:function(){return this.loading},loadComplete:function(g,i,h,e){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(g,i,h,e)},isLoaded:function(){return this.loaded},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this)}},reload:function(c,d){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild).destroy()}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false}this.expand(false,false,c,d)}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=function(b){this.node=b;this.rendered=false;this.animating=false;this.wasLeaf=true;this.ecc="x-tree-ec-icon x-tree-elbow";this.emptyIcon=Ext.BLANK_IMAGE_URL};Ext.tree.TreeNodeUI.prototype={removeChild:function(b){if(this.rendered){this.ctNode.removeChild(b.ui.getEl())}},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(d,g,e){if(this.rendered){this.textNode.innerHTML=g}},onDisableChange:function(d,c){this.disabled=c;if(this.checkbox){this.checkbox.disabled=c}if(c){this.addClass("x-tree-node-disabled")}else{this.removeClass("x-tree-node-disabled")}},onSelectedChange:function(b){if(b){this.focus();this.addClass("x-tree-selected")}else{this.removeClass("x-tree-selected")}},onMove:function(k,m,o,n,p,j){this.childIndent=null;if(this.rendered){var l=n.ui.getContainer();if(!l){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return}var q=j?j.ui.getEl():null;if(q){l.insertBefore(this.wrap,q)}else{l.appendChild(this.wrap)}this.node.renderIndent(true,o!=n)}},addClass:function(b){if(this.elNode){Ext.fly(this.elNode).addClass(b)}},removeClass:function(b){if(this.elNode){Ext.fly(this.elNode).removeClass(b)}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap)}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.onDisableChange(this.node,true)}if(this.node.hidden){this.hide()}var c=this.node.getOwnerTree();var d=c.enableDD||c.enableDrag||c.enableDrop;if(d&&(!this.node.isRoot||c.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false})}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none"}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display=""}},onContextMenu:function(b){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){b.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,b)}},onClick:function(d){if(this.dropping){d.stopEvent();return}if(this.fireEvent("beforeclick",this.node,d)!==false){var a=d.getTarget("a");if(!this.disabled&&this.node.attributes.href&&a){this.fireEvent("click",this.node,d);return}else{if(a&&d.ctrlKey){d.stopEvent()}}d.preventDefault();if(this.disabled){return}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("click",this.node,d)}else{d.stopEvent()}},onDblClick:function(b){b.preventDefault();if(this.disabled){return}if(this.fireEvent("beforedblclick",this.node,b)!==false){if(this.checkbox){this.toggleCheck()}if(!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("dblclick",this.node,b)}},onOver:function(b){this.addClass("x-tree-node-over")},onOut:function(b){this.removeClass("x-tree-node-over")},onCheckChange:function(){var b=this.checkbox.checked;this.checkbox.defaultChecked=b;this.node.attributes.checked=b;this.fireEvent("checkchange",this.node,b)},ecClick:function(b){if(!this.animating&&this.node.isExpandable()){this.node.toggle()}},startDrop:function(){this.dropping=true},endDrop:function(){setTimeout(function(){this.dropping=false}.createDelegate(this),50)},expand:function(){this.updateExpandIcon();this.ctNode.style.display=""},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus()}catch(g){}}else{try{var d=this.node.getOwnerTree().getTreeEl().dom;var e=d.scrollLeft;this.anchor.focus();d.scrollLeft=e}catch(g){}}},toggleCheck:function(c){var d=this.checkbox;if(d){d.checked=(c===undefined?!d.checked:c);this.onCheckChange()}},blur:function(){try{this.anchor.blur()}catch(b){}},animExpand:function(c){var d=Ext.get(this.ctNode);d.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(c);return}this.animating=true;this.updateExpandIcon();d.slideIn("t",{callback:function(){this.animating=false;Ext.callback(c)},scope:this,duration:this.node.ownerTree.duration||0.25})},highlight:function(){var b=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(b.hlColor||"C3DAF9",{endColor:b.hlBaseColor})},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none"},animCollapse:function(c){var d=Ext.get(this.ctNode);d.enableDisplayMode("block");d.stopFx();this.animating=true;this.updateExpandIcon();d.slideOut("t",{callback:function(){this.animating=false;Ext.callback(c)},scope:this,duration:this.node.ownerTree.duration||0.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(b){b.appendChild(this.elNode.cloneNode(true))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(i){var g=this.node,a=g.attributes;var h=g.parentNode?g.parentNode.ui.getContainer():g.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(g,a,h,i);if(a.qtip){if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",a.qtip);if(a.qtipTitle){this.textNode.setAttributeNS("ext","qtitle",a.qtipTitle)}}else{this.textNode.setAttribute("ext:qtip",a.qtip);if(a.qtipTitle){this.textNode.setAttribute("ext:qtitle",a.qtipTitle)}}}else{if(a.qtipCfg){a.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(a.qtipCfg)}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true)}}else{if(i===true){h.appendChild(this.wrap)}}},renderElements:function(r,m,n,a){this.indentMarkup=r.parentNode?r.parentNode.ui.getChildIndent():"";var q=Ext.isBoolean(m.checked),u,t=m.href?m.href:Ext.isGecko?"":"#",s=['<li class="x-tree-node"><div ext:tree-node-id="',r.id.replace(/"/g,"&quot;"),'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',m.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img src="',m.icon||this.emptyIcon,'" class="x-tree-node-icon',(m.icon?" x-tree-node-inline-icon":""),(m.iconCls?" "+m.iconCls:""),'" unselectable="on" />',q?('<input class="x-tree-node-cb" type="checkbox" '+(m.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',t,'" tabIndex="1" ',m.hrefTarget?' target="'+m.hrefTarget+'"':"",'><span unselectable="on">',r.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");if(a!==true&&r.nextSibling&&(u=r.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",u,s)}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",n,s)}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var o=this.elNode.childNodes;this.indentNode=o[0];this.ecNode=o[1];this.iconNode=o[2];var p=3;if(q){this.checkbox=o[3];this.checkbox.defaultChecked=this.checkbox.checked;p++}this.anchor=o[p];this.textNode=o[p].firstChild},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:false},updateExpandIcon:function(){if(this.rendered){var j=this.node,l,m,i=j.isLast()?"x-tree-elbow-end":"x-tree-elbow",k=j.hasChildNodes();if(k||j.attributes.expandable){if(j.expanded){i+="-minus";l="x-tree-node-collapsed";m="x-tree-node-expanded"}else{i+="-plus";l="x-tree-node-expanded";m="x-tree-node-collapsed"}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false}if(this.c1!=l||this.c2!=m){Ext.fly(this.elNode).replaceClass(l,m);this.c1=l;this.c2=m}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-collapsed");delete this.c1;delete this.c2;this.wasLeaf=true}}var h="x-tree-ec-icon "+i;if(this.ecc!=h){this.ecNode.className=h;this.ecc=h}}},onIdChange:function(b){if(this.rendered){this.elNode.setAttribute("ext:tree-node-id",b)}},getChildIndent:function(){if(!this.childIndent){var d=[],c=this.node;while(c){if(!c.isRoot||(c.isRoot&&c.ownerTree.rootVisible)){if(!c.isLast()){d.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />')}else{d.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />')}}c=c.parentNode}this.childIndent=d.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var d="",c=this.node.parentNode;if(c){d=c.ui.getChildIndent()}if(this.indentMarkup!=d){this.indentNode.innerHTML=d;this.indentMarkup=d}this.updateExpandIcon()}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id)}Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(b){if(this[b]){Ext.fly(this[b]).remove();delete this[b]}},this);delete this.node}};Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var b=this.node.ownerTree.innerCt.dom;this.node.expanded=true;b.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=b.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(b){this.baseParams={};Ext.apply(this,b);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,paramOrder:undefined,paramsAsHash:false,nodeParameter:"node",directFn:undefined,load:function(d,g,e){if(this.clearOnLoad){while(d.firstChild){d.removeChild(d.firstChild)}}if(this.doPreload(d)){this.runCallback(g,e||d,[d])}else{if(this.directFn||this.dataUrl||this.url){this.requestData(d,g,e||d)}}},doPreload:function(j){if(j.attributes.children){if(j.childNodes.length<1){var k=j.attributes.children;j.beginUpdate();for(var g=0,h=k.length;g<h;g++){var i=j.appendChild(this.createNode(k[g]));if(this.preloadChildren){this.doPreload(i)}}j.endUpdate()}return true}return false},getParams:function(l){var m=Ext.apply({},this.baseParams),k=this.nodeParameter,i=this.paramOrder;k&&(m[k]=l.id);if(this.directFn){var o=[l.id];if(i){if(k&&i.indexOf(k)>-1){o=[]}for(var n=0,j=i.length;n<j;n++){o.push(m[i[n]])}}else{if(this.paramsAsHash){o=[m]}}return o}else{return m}},requestData:function(i,h,e){if(this.fireEvent("beforeload",this,i,h)!==false){if(this.directFn){var g=this.getParams(i);g.push(this.processDirectResponse.createDelegate(this,[{callback:h,node:i,scope:e}],true));this.directFn.apply(window,g)}else{this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:h,node:i,scope:e},params:this.getParams(i)})}}else{this.runCallback(h,e||i,[])}},processDirectResponse:function(e,d,g){if(d.status){this.handleResponse({responseData:Ext.isArray(e)?e:null,responseText:e,argument:g})}else{this.handleFailure({argument:g})}},runCallback:function(e,g,d){if(Ext.isFunction(e)){e.apply(g,d)}},isLoading:function(){return !!this.transId},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId)}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs)}if(this.applyLoader!==false&&!attr.loader){attr.loader=this}if(Ext.isString(attr.uiProvider)){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr)}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)}},processResponse:function(r,s,n,i){var e=r.responseText;try{var u=r.responseData||Ext.decode(e);s.beginUpdate();for(var q=0,p=u.length;q<p;q++){var t=this.createNode(u[q]);if(t){s.appendChild(t)}}s.endUpdate();this.runCallback(n,i||s,[s])}catch(o){this.handleFailure(r)}},handleResponse:function(d){this.transId=false;var a=d.argument;this.processResponse(d,a.node,a.callback,a.scope);this.fireEvent("load",this,a.node,d)},handleFailure:function(d){this.transId=false;var a=d.argument;this.fireEvent("loadexception",this,a.node,d);this.runCallback(a.callback,a.scope||a.node,[a.node])},destroy:function(){this.abort();this.purgeListeners()}});Ext.tree.TreeFilter=function(d,c){this.tree=d;this.filtered={};Ext.apply(this,c)};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(j,h,g){h=h||"text";var k;if(typeof j=="string"){var i=j.length;if(i==0&&this.clearBlank){this.clear();return}j=j.toLowerCase();k=function(a){return a.attributes[h].substr(0,i).toLowerCase()==j}}else{if(j.exec){k=function(a){return j.test(a.attributes[h])}}else{throw"Illegal filter type, must be string or regex"}}this.filterBy(k,null,g)},filterBy:function(p,q,j){j=j||this.tree.root;if(this.autoClear){this.clear()}var k=this.filtered,l=this.reverse;var o=function(a){if(a==j){return true}if(k[a.id]){return false}var b=p.call(q||a,a);if(!b||l){k[a.id]=a;a.ui.hide();return false}return true};j.cascade(o);if(this.remove){for(var m in k){if(typeof m!="function"){var n=k[m];if(n&&n.parentNode){n.parentNode.removeChild(n)}}}}},clear:function(){var e=this.tree;var g=this.filtered;for(var h in g){if(typeof h!="function"){var i=g[h];if(i){i.ui.show()}}}this.filtered={}}};Ext.tree.TreeSorter=function(j,q){Ext.apply(this,q);j.on("beforechildrenrendered",this.doSort,this);j.on("append",this.updateSort,this);j.on("insert",this.updateSort,this);j.on("textchange",this.updateSortParent,this);var o=this.dir&&this.dir.toLowerCase()=="desc";var n=this.property||"text";var m=this.sortType;var k=this.folderSort;var p=this.caseSensitive===true;var l=this.leafAttr||"leaf";this.sortFn=function(c,d){if(k){if(c.attributes[l]&&!d.attributes[l]){return 1}if(!c.attributes[l]&&d.attributes[l]){return -1}}var a=m?m(c):(p?c.attributes[n]:c.attributes[n].toUpperCase());var b=m?m(d):(p?d.attributes[n]:d.attributes[n].toUpperCase());if(a<b){return o?+1:-1}else{if(a>b){return o?-1:+1}else{return 0}}}};Ext.tree.TreeSorter.prototype={doSort:function(b){b.sort(this.sortFn)},compareNodes:function(c,d){return(c.text.toUpperCase()>d.text.toUpperCase()?1:-1)},updateSort:function(d,c){if(c.childrenRendered){this.doSort.defer(1,this,[c])}},updateSortParent:function(d){var c=d.parentNode;if(c&&c.childrenRendered){this.doSort.defer(1,this,[c])}}};if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(d,c){this.allowParentInsert=c.allowParentInsert||false;this.allowContainerDrop=c.allowContainerDrop||false;this.appendOnly=c.appendOnly||false;Ext.tree.TreeDropZone.superclass.constructor.call(this,d.getTreeEl(),c);this.tree=d;this.dragOverData={};this.lastInsertClass="x-tree-no-status"};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(b){if(b.hasChildNodes()&&!b.isExpanded()){b.expand(false,null,this.triggerCacheRefresh.createDelegate(this))}},queueExpand:function(b){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[b])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},isValidDropPoint:function(s,e,m,p,q){if(!s||!q){return false}var o=s.node;var n=q.node;if(!(o&&o.isTarget&&e)){return false}if(e=="append"&&o.allowChildren===false){return false}if((e=="above"||e=="below")&&(o.parentNode&&o.parentNode.allowChildren===false)){return false}if(n&&(o==n||n.contains(o))){return false}var r=this.dragOverData;r.tree=this.tree;r.target=o;r.data=q;r.point=e;r.source=m;r.rawEvent=p;r.dropNode=n;r.cancel=false;var l=this.tree.fireEvent("nodedragover",r);return r.cancel===false&&l!==false},getDropPoint:function(s,t,n){var e=t.node;if(e.isRoot){return e.allowChildren!==false?"append":false}var v=t.ddel;var b=Ext.lib.Dom.getY(v),q=b+v.offsetHeight;var r=Ext.lib.Event.getPageY(s);var p=e.allowChildren===false||e.isLeaf();if(this.appendOnly||e.parentNode.allowChildren===false){return p?false:"append"}var u=false;if(!this.allowParentInsert){u=e.hasChildNodes()&&e.isExpanded()}var x=(q-b)/(p?2:3);if(r>=b&&r<(b+x)){return"above"}else{if(!u&&(p||r>=q-x&&r<=q)){return"below"}else{return"append"}}},onNodeEnter:function(h,g,i,e){this.cancelExpand()},onContainerOver:function(e,g,d){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",e,g,d)){return this.dropAllowed}return this.dropNotAllowed},onNodeOver:function(r,m,n,o){var e=this.getDropPoint(n,r,m);var q=r.node;if(!this.expandProcId&&e=="append"&&q.hasChildNodes()&&!r.node.isExpanded()){this.queueExpand(q)}else{if(e!="append"){this.cancelExpand()}}var p=this.dropNotAllowed;if(this.isValidDropPoint(r,e,m,n,o)){if(e){var s=r.ddel;var l;if(e=="above"){p=r.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";l="x-tree-drag-insert-above"}else{if(e=="below"){p=r.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";l="x-tree-drag-insert-below"}else{p="x-tree-drop-ok-append";l="x-tree-drag-append"}}if(this.lastInsertClass!=l){Ext.fly(s).replaceClass(this.lastInsertClass,l);this.lastInsertClass=l}}}return p},onNodeOut:function(h,g,i,e){this.cancelExpand();this.removeDropIndicators(h)},onNodeDrop:function(k,e,l,n){var j=this.getDropPoint(l,k,e);var m=k.node;m.ui.startDrop();if(!this.isValidDropPoint(k,j,e,l,n)){m.ui.endDrop();return false}var o=n.node||(e.getTreeNode?e.getTreeNode(n,m,j,l):null);return this.processDrop(m,n,j,e,l,o)},onContainerDrop:function(h,i,k){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",h,i,k)){var j=this.tree.getRootNode();j.ui.startDrop();var e=k.node||(h.getTreeNode?h.getTreeNode(k,j,"append",i):null);return this.processDrop(j,k,"append",h,i,e)}return false},processDrop:function(l,n,e,k,m,p){var o={tree:this.tree,target:l,data:n,point:e,source:k,rawEvent:m,dropNode:p,cancel:!p,dropStatus:false};var q=this.tree.fireEvent("beforenodedrop",o);if(q===false||o.cancel===true||!o.dropNode){l.ui.endDrop();return o.dropStatus}l=o.target;if(e=="append"&&!l.isExpanded()){l.expand(false,null,function(){this.completeDrop(o)}.createDelegate(this))}else{this.completeDrop(o)}return true},completeDrop:function(k){var n=k.dropNode,m=k.point,o=k.target;if(!Ext.isArray(n)){n=[n]}var l;for(var i=0,j=n.length;i<j;i++){l=n[i];if(m=="above"){o.parentNode.insertBefore(l,o)}else{if(m=="below"){o.parentNode.insertBefore(l,o.nextSibling)}else{o.appendChild(l)}}}l.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){l.ui.highlight()}o.ui.endDrop();this.tree.fireEvent("nodedrop",k)},afterNodeMoved:function(h,k,i,j,e){if(Ext.enableFx&&this.tree.hlDrop){e.ui.focus();e.ui.highlight()}this.tree.fireEvent("nodedrop",this.tree,j,k,h,i)},getTree:function(){return this.tree},removeDropIndicators:function(c){if(c&&c.ddel){var d=c.ddel;Ext.fly(d).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass"}},beforeDragDrop:function(d,e,g){this.cancelExpand();return true},afterRepair:function(b){if(b&&Ext.enableFx){b.node.ui.highlight()}this.hideProxy()}})}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(d,c){Ext.tree.TreeDragZone.superclass.constructor.call(this,d.innerCt,c);this.tree=d};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(e,d){var g=e.node;return g&&g.draggable&&!g.disabled},onInitDrag:function(c){var d=this.dragData;this.tree.getSelectionModel().select(d.node);this.tree.eventModel.disable();this.proxy.update("");d.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,d.node,c)},getRepairXY:function(c,d){return d.node.ui.getDDRepairXY()},onEndDrag:function(d,c){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,d.node,c)},onValidDrop:function(e,d,g){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,e,d);this.hideProxy()},beforeInvalidDrop:function(e,g){var d=this.tree.getSelectionModel();d.clearSelections();d.select(this.dragData.node)},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false}})}Ext.tree.TreeEditor=function(g,i,e){i=i||{};var h=i.events?i:new Ext.form.TextField(i);Ext.tree.TreeEditor.superclass.constructor.call(this,h,e);this.tree=g;if(!g.rendered){g.on("render",this.initEditor,this)}else{this.initEditor(g)}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(b){b.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick});this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey});this.on("startedit",this.bindScroll,this,{delay:10})},fitToTree:function(g,k){var i=this.tree.getTreeEl().dom,j=k.dom;if(i.scrollLeft>j.offsetLeft){i.scrollLeft=j.offsetLeft}var h=Math.min(this.maxWidth,(i.clientWidth>20?i.clientWidth:i.offsetWidth)-Math.max(0,j.offsetLeft-i.scrollLeft)-5);this.setSize(h,"")},triggerEdit:function(e,g){this.completeEdit();if(e.attributes.editable!==false){this.editNode=e;if(this.tree.autoScroll){Ext.fly(e.ui.getEl()).scrollIntoView(this.tree.body)}var d=e.text||"";if(!Ext.isGecko&&Ext.isEmpty(e.text)){e.setText("&#160;")}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[e.ui.textNode,d]);return false}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(d,c){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(d)){c.stopEvent();return this.triggerEdit(d)}},onNodeDblClick:function(d,c){clearTimeout(this.autoEditTimer)},updateNode:function(d,c){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(c)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui)}},onSpecialKey:function(g,d){var e=d.getKey();if(e==d.ESC){d.stopEvent();this.cancelEdit()}else{if(e==d.ENTER&&!d.hasModifier()){d.stopEvent();this.completeEdit()}}},onDestroy:function(){clearTimeout(this.autoEditTimer);Ext.tree.TreeEditor.superclass.onDestroy.call(this);var b=this.tree;b.un("beforeclick",this.beforeNodeClick,this);b.un("dblclick",this.onNodeDblClick,this)}});var swfobject=function(){var at="undefined",aF="object",ad="Shockwave Flash",Z="ShockwaveFlash.ShockwaveFlash",aG="application/x-shockwave-flash",ae="SWFObjectExprInst",az="onreadystatechange",ah=window,aN=document,aD=navigator,ac=false,ab=[aP],aI=[],ai=[],an=[],aL,af,ar,av,am=false,aW=false,aJ,ap,aK=true,aj=function(){var k=typeof aN.getElementById!=at&&typeof aN.getElementsByTagName!=at&&typeof aN.createElement!=at,c=aD.userAgent.toLowerCase(),a=aD.platform.toLowerCase(),g=a?/win/.test(a):/win/.test(c),i=a?/mac/.test(a):/mac/.test(c),e=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,b=!+"\v1",d=[0,0,0],j=null;if(typeof aD.plugins!=at&&typeof aD.plugins[ad]==aF){j=aD.plugins[ad].description;if(j&&!(typeof aD.mimeTypes!=at&&aD.mimeTypes[aG]&&!aD.mimeTypes[aG].enabledPlugin)){ac=true;b=false;j=j.replace(/^.*\s+(\S+\s+\S+$)/,"$1");d[0]=parseInt(j.replace(/^(.*)\..*$/,"$1"),10);d[1]=parseInt(j.replace(/^.*\.(.*)\s.*$/,"$1"),10);d[2]=/[a-zA-Z]/.test(j)?parseInt(j.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof ah.ActiveXObject!=at){try{var h=new ActiveXObject(Z);if(h){j=h.GetVariable("$version");if(j){b=true;j=j.split(" ")[1].split(",");d=[parseInt(j[0],10),parseInt(j[1],10),parseInt(j[2],10)]}}}catch(l){}}}return{w3:k,pv:d,wk:e,ie:b,win:g,mac:i}}(),aM=function(){if(!aj.w3){return}if((typeof aN.readyState!=at&&aN.readyState=="complete")||(typeof aN.readyState==at&&(aN.getElementsByTagName("body")[0]||aN.body))){aR()}if(!am){if(typeof aN.addEventListener!=at){aN.addEventListener("DOMContentLoaded",aR,false)}if(aj.ie&&aj.win){aN.attachEvent(az,function(){if(aN.readyState=="complete"){aN.detachEvent(az,arguments.callee);aR()}});if(ah==top){(function(){if(am){return}try{aN.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aR()})()}}if(aj.wk){(function(){if(am){return}if(!/loaded|complete/.test(aN.readyState)){setTimeout(arguments.callee,0);return}aR()})()}aE(aR)}}();function aR(){if(am){return}try{var b=aN.getElementsByTagName("body")[0].appendChild(au("span"));b.parentNode.removeChild(b)}catch(a){return}am=true;var d=ab.length;for(var c=0;c<d;c++){ab[c]()}}function al(a){if(am){a()}else{ab[ab.length]=a}}function aE(b){if(typeof ah.addEventListener!=at){ah.addEventListener("load",b,false)}else{if(typeof aN.addEventListener!=at){aN.addEventListener("load",b,false)}else{if(typeof ah.attachEvent!=at){aO(ah,"onload",b)}else{if(typeof ah.onload=="function"){var a=ah.onload;ah.onload=function(){a();b()}}else{ah.onload=b}}}}}function aP(){if(ac){aa()}else{ao()}}function aa(){var d=aN.getElementsByTagName("body")[0];var a=au(aF);a.setAttribute("type",aG);var b=d.appendChild(a);if(b){var c=0;(function(){if(typeof b.GetVariable!=at){var e=b.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");aj.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return}}d.removeChild(a);b=null;ao()})()}else{ao()}}function ao(){var e=aI.length;if(e>0){for(var g=0;g<e;g++){var a=aI[g].id;var k=aI[g].callbackFn;var l={success:false,id:a};if(aj.pv[0]>0){var h=aU(a);if(h){if(aq(aI[g].swfVersion)&&!(aj.wk&&aj.wk<312)){aA(a,true);if(k){l.success=true;l.ref=ax(a);k(l)}}else{if(aI[g].expressInstall&&aw()){var c={};c.data=aI[g].expressInstall;c.width=h.getAttribute("width")||"0";c.height=h.getAttribute("height")||"0";if(h.getAttribute("class")){c.styleclass=h.getAttribute("class")}if(h.getAttribute("align")){c.align=h.getAttribute("align")}var d={};var b=h.getElementsByTagName("param");var j=b.length;for(var i=0;i<j;i++){if(b[i].getAttribute("name").toLowerCase()!="movie"){d[b[i].getAttribute("name")]=b[i].getAttribute("value")}}ag(c,d,a,k)}else{aH(h);if(k){k(l)}}}}}else{aA(a,true);if(k){var m=ax(a);if(m&&typeof m.SetVariable!=at){l.success=true;l.ref=m}k(l)}}}}}function ax(a){var d=null;var c=aU(a);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=at){d=c}else{var b=c.getElementsByTagName(aF)[0];if(b){d=b}}}return d}function aw(){return !aW&&aq("6.0.65")&&(aj.win||aj.mac)&&!(aj.wk&&aj.wk<312)}function ag(e,d,i,g){aW=true;ar=g||null;av={success:false,id:i};var a=aU(i);if(a){if(a.nodeName=="OBJECT"){aL=aQ(a);af=null}else{aL=a;af=i}e.id=ae;if(typeof e.width==at||(!/%$/.test(e.width)&&parseInt(e.width,10)<310)){e.width="310"}if(typeof e.height==at||(!/%$/.test(e.height)&&parseInt(e.height,10)<137)){e.height="137"}aN.title=aN.title.slice(0,47)+" - Flash Player Installation";var b=aj.ie&&aj.win?"ActiveX":"PlugIn",c="MMredirectURL="+ah.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aN.title;if(typeof d.flashvars!=at){d.flashvars+="&"+c}else{d.flashvars=c}if(aj.ie&&aj.win&&a.readyState!=4){var h=au("div");i+="SWFObjectNew";h.setAttribute("id",i);a.parentNode.insertBefore(h,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aC(e,d,i)}}function aH(b){if(aj.ie&&aj.win&&b.readyState!=4){var a=au("div");b.parentNode.insertBefore(a,b);a.parentNode.replaceChild(aQ(b),a);b.style.display="none";(function(){if(b.readyState==4){b.parentNode.removeChild(b)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.replaceChild(aQ(b),b)}}function aQ(b){var c=au("div");if(aj.win&&aj.ie){c.innerHTML=b.innerHTML}else{var g=b.getElementsByTagName(aF)[0];if(g){var a=g.childNodes;if(a){var e=a.length;for(var d=0;d<e;d++){if(!(a[d].nodeType==1&&a[d].nodeName=="PARAM")&&!(a[d].nodeType==8)){c.appendChild(a[d].cloneNode(true))}}}}}return c}function aC(c,e,a){var b,l=aU(a);if(aj.wk&&aj.wk<312){return b}if(l){if(typeof c.id==at){c.id=a}if(aj.ie&&aj.win){var d="";for(var h in c){if(c[h]!=Object.prototype[h]){if(h.toLowerCase()=="data"){e.movie=c[h]}else{if(h.toLowerCase()=="styleclass"){d+=' class="'+c[h]+'"'}else{if(h.toLowerCase()!="classid"){d+=" "+h+'="'+c[h]+'"'}}}}}var g="";for(var i in e){if(e[i]!=Object.prototype[i]){g+='<param name="'+i+'" value="'+e[i]+'" />'}}l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+d+">"+g+"</object>";ai[ai.length]=c.id;b=aU(c.id)}else{var m=au(aF);m.setAttribute("type",aG);for(var j in c){if(c[j]!=Object.prototype[j]){if(j.toLowerCase()=="styleclass"){m.setAttribute("class",c[j])}else{if(j.toLowerCase()!="classid"){m.setAttribute(j,c[j])}}}}for(var k in e){if(e[k]!=Object.prototype[k]&&k.toLowerCase()!="movie"){aS(m,k,e[k])}}l.parentNode.replaceChild(m,l);b=m}}return b}function aS(b,d,c){var a=au("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a)}function ay(b){var a=aU(b);if(a&&a.nodeName=="OBJECT"){if(aj.ie&&aj.win){a.style.display="none";(function(){if(a.readyState==4){aV(b)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.removeChild(a)}}}function aV(a){var c=aU(a);if(c){for(var b in c){if(typeof c[b]=="function"){c[b]=null}}c.parentNode.removeChild(c)}}function aU(a){var c=null;try{c=aN.getElementById(a)}catch(b){}return c}function au(a){return aN.createElement(a)}function aO(a,c,b){a.attachEvent(c,b);an[an.length]=[a,c,b]}function aq(a){var c=aj.pv,b=a.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return(c[0]>b[0]||(c[0]==b[0]&&c[1]>b[1])||(c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]))?true:false}function aB(b,h,a,c){if(aj.ie&&aj.mac){return}var d=aN.getElementsByTagName("head")[0];if(!d){return}var g=(a&&typeof a=="string")?a:"screen";if(c){aJ=null;ap=null}if(!aJ||ap!=g){var e=au("style");e.setAttribute("type","text/css");e.setAttribute("media",g);aJ=d.appendChild(e);if(aj.ie&&aj.win&&typeof aN.styleSheets!=at&&aN.styleSheets.length>0){aJ=aN.styleSheets[aN.styleSheets.length-1]}ap=g}if(aj.ie&&aj.win){if(aJ&&typeof aJ.addRule==aF){aJ.addRule(b,h)}}else{if(aJ&&typeof aN.createTextNode!=at){aJ.appendChild(aN.createTextNode(b+" {"+h+"}"))}}}function aA(a,c){if(!aK){return}var b=c?"visible":"hidden";if(am&&aU(a)){aU(a).style.visibility=b}else{aB("#"+a,"visibility:"+b)}}function ak(c){var a=/[\\\"<>\.;]/;var b=a.exec(c)!=null;return b&&typeof encodeURIComponent!=at?encodeURIComponent(c):c}var aT=function(){if(aj.ie&&aj.win){window.attachEvent("onunload",function(){var a=an.length;for(var b=0;b<a;b++){an[b][0].detachEvent(an[b][1],an[b][2])}var d=ai.length;for(var c=0;c<d;c++){ay(ai[c])}for(var g in aj){aj[g]=null}aj=null;for(var e in swfobject){swfobject[e]=null}swfobject=null})}}();return{registerObject:function(a,e,b,c){if(aj.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=b;d.callbackFn=c;aI[aI.length]=d;aA(a,false)}else{if(c){c({success:false,id:a})}}},getObjectById:function(a){if(aj.w3){return ax(a)}},embedSWF:function(j,c,g,d,a,k,l,h,e,i){var b={success:false,id:c};if(aj.w3&&!(aj.wk&&aj.wk<312)&&j&&c&&g&&d&&a){aA(c,false);al(function(){g+="";d+="";var q={};if(e&&typeof e===aF){for(var o in e){q[o]=e[o]}}q.data=j;q.width=g;q.height=d;var n={};if(h&&typeof h===aF){for(var p in h){n[p]=h[p]}}if(l&&typeof l===aF){for(var r in l){if(typeof n.flashvars!=at){n.flashvars+="&"+r+"="+l[r]}else{n.flashvars=r+"="+l[r]}}}if(aq(a)){var m=aC(q,n,c);if(q.id==c){aA(c,true)}b.success=true;b.ref=m}else{if(k&&aw()){q.data=k;ag(q,n,c,i);return}else{aA(c,true)}}if(i){i(b)}})}else{if(i){i(b)}}},switchOffAutoHideShow:function(){aK=false},ua:aj,getFlashPlayerVersion:function(){return{major:aj.pv[0],minor:aj.pv[1],release:aj.pv[2]}},hasFlashPlayerVersion:aq,createSWF:function(a,c,b){if(aj.w3){return aC(a,c,b)}else{return undefined}},showExpressInstall:function(b,a,d,c){if(aj.w3&&aw()){ag(b,a,d,c)}},removeSWF:function(a){if(aj.w3){ay(a)}},createCSS:function(a,b,d,c){if(aj.w3){aB(a,b,d,c)}},addDomLoadEvent:al,addLoadEvent:aE,getQueryParamValue:function(a){var b=aN.location.search||aN.location.hash;if(b){if(/\?/.test(b)){b=b.split("?")[1]}if(a==null){return ak(b)}var d=b.split("&");for(var c=0;c<d.length;c++){if(d[c].substring(0,d[c].indexOf("="))==a){return ak(d[c].substring((d[c].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(aW){var a=aU(ae);if(a&&aL){a.parentNode.replaceChild(aL,a);if(af){aA(af,true);if(aj.ie&&aj.win){aL.style.display="block"}}if(ar){ar(av)}}aW=false}}}}();Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:undefined,flashParams:undefined,url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize")},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var c=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},this.flashParams),d=Ext.apply({allowedDomain:document.location.hostname,YUISwfId:this.getId(),YUIBridgeCallback:"Ext.FlashEventProxy.onEvent"},this.flashVars);new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:undefined,d,c);this.swf=Ext.getDom(this.id);this.el=Ext.get(this.swf)},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID))},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID))},onFlashEvent:function(b){switch(b.type){case"swfReady":this.initSwf();return;case"log":return}b.component=this;this.fireEvent(b.type.toLowerCase().replace(/event$/,""),b)},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=true;this.fireEvent("initialize",this)},beforeDestroy:function(){if(this.rendered){swfobject.removeSWF(this.swf.id)}Ext.FlashComponent.superclass.beforeDestroy.call(this)},onSwfReady:Ext.emptyFn});Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf";Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(g,d){var e=Ext.getCmp(g);if(e){e.onFlashEvent(d)}else{arguments.callee.defer(10,this,[g,d])}}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);if(!this.url){this.url=Ext.chart.Chart.CHART_URL}if(this.disableCaching){this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,new Date().getTime()))}this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");this.store=Ext.StoreMgr.lookup(this.store)},setStyle:function(d,c){this.swf.setStyle(d,Ext.encode(c))},setStyles:function(b){this.swf.setStyles(Ext.encode(b))},setSeriesStyles:function(c){this.seriesStyles=c;var d=[];Ext.each(c,function(a){d.push(Ext.encode(a))});this.swf.setSeriesStyles(d)},setCategoryNames:function(b){this.swf.setCategoryNames(b)},setLegendRenderer:function(g,d){var e=this;d=d||e;e.removeFnProxy(e.legendFnName);e.legendFnName=e.createFnProxy(function(a){return g.call(d,a)});e.swf.setLegendLabelFunction(e.legendFnName)},setTipRenderer:function(g,d){var e=this;d=d||e;e.removeFnProxy(e.tipFnName);e.tipFnName=e.createFnProxy(function(a,c,b){var i=e.store.getAt(c);return g.call(d,e,i,c,b)});e.swf.setDataTipFunction(e.tipFnName)},setSeries:function(b){this.series=b;this.refresh()},bindStore:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this)}}if(d){d=Ext.StoreMgr.lookup(d);d.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh})}this.store=d;if(d&&!c){this.refresh()}},onSwfReady:function(c){Ext.chart.Chart.superclass.onSwfReady.call(this,c);var d;this.swf.setType(this.type);if(this.chartStyle){this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle))}if(this.categoryNames){this.setCategoryNames(this.categoryNames)}if(this.tipRenderer){d=this.getFunctionRef(this.tipRenderer);this.setTipRenderer(d.fn,d.scope)}if(this.legendRenderer){d=this.getFunctionRef(this.legendRenderer);this.setLegendRenderer(d.fn,d.scope)}if(!c){this.bindStore(this.store,true)}this.refresh.defer(10,this)},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)}this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(this.fireEvent("beforerefresh",this)!==false){var j=false;var p=[],u=this.store.data.items;for(var r=0,o=u.length;r<o;r++){p[r]=u[r].data}var s=[];var t=0;var i=null;var q=0;if(this.series){t=this.series.length;for(q=0;q<t;q++){i=this.series[q];var v={};for(var x in i){if(x=="style"&&i.style!==null){v.style=Ext.encode(i.style);j=true}else{v[x]=i[x]}}s.push(v)}}if(t>0){for(q=0;q<t;q++){i=s[q];if(!i.type){i.type=this.type}i.dataProvider=p}}else{s.push({type:this.type,dataProvider:p})}this.swf.setDataProvider(s);if(this.seriesStyles){this.setSeriesStyles(this.seriesStyles)}this.fireEvent("refresh",this)}},createFnProxy:function(d){var c="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);Ext.chart.Chart.proxyFunction[c]=d;return"Ext.chart.Chart.proxyFunction."+c},removeFnProxy:function(b){if(!Ext.isEmpty(b)){b=b.replace("Ext.chart.Chart.proxyFunction.","");delete Ext.chart.Chart.proxyFunction[b]}},getFunctionRef:function(b){if(Ext.isFunction(b)){return{fn:b,scope:this}}else{return{fn:b.fn,scope:b.scope||this}}},onDestroy:function(){if(this.refreshTask&&this.refreshTask.cancel){this.refreshTask.cancel()}Ext.chart.Chart.superclass.onDestroy.call(this);this.bindStore(null);this.removeFnProxy(this.tipFnName);this.removeFnProxy(this.legendFnName)}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.Chart.proxyFunction={};Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.8.0/build/charts/assets/charts.swf";Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(b){Ext.chart.PieChart.superclass.onSwfReady.call(this,b);this.setDataField(this.dataField);this.setCategoryField(this.categoryField)},setDataField:function(b){this.dataField=b;this.swf.setDataField(b)},setCategoryField:function(b){this.categoryField=b;this.swf.setCategoryField(b)}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(b){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,b);this.labelFn=[];if(this.xField){this.setXField(this.xField)}if(this.yField){this.setYField(this.yField)}if(this.xAxis){this.setXAxis(this.xAxis)}if(this.xAxes){this.setXAxes(this.xAxes)}if(this.yAxis){this.setYAxis(this.yAxis)}if(this.yAxes){this.setYAxes(this.yAxes)}if(Ext.isDefined(this.constrainViewport)){this.swf.setConstrainViewport(this.constrainViewport)}},setXField:function(b){this.xField=b;this.swf.setHorizontalField(b)},setYField:function(b){this.yField=b;this.swf.setVerticalField(b)},setXAxis:function(b){this.xAxis=this.createAxis("xAxis",b);this.swf.setHorizontalAxis(this.xAxis)},setXAxes:function(g){var d;for(var e=0;e<g.length;e++){d=this.createAxis("xAxis"+e,g[e]);this.swf.setHorizontalAxis(d)}},setYAxis:function(b){this.yAxis=this.createAxis("yAxis",b);this.swf.setVerticalAxis(this.yAxis)},setYAxes:function(g){var d;for(var e=0;e<g.length;e++){d=this.createAxis("yAxis"+e,g[e]);this.swf.setVerticalAxis(d)}},createAxis:function(g,j){var i=Ext.apply({},j),k,h;if(this[g]){h=this[g].labelFunction;this.removeFnProxy(h);this.labelFn.remove(h)}if(i.labelRenderer){k=this.getFunctionRef(i.labelRenderer);i.labelFunction=this.createFnProxy(function(a){return k.fn.call(k.scope,a)});delete i.labelRenderer;this.labelFn.push(i.labelFunction)}if(g.indexOf("xAxis")>-1&&i.position=="left"){i.position="bottom"}return i},onDestroy:function(){Ext.chart.CartesianChart.superclass.onDestroy.call(this);Ext.each(this.labelFn,function(b){this.removeFnProxy(b)},this)}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"});Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"});Ext.reg("stackedbarchart",Ext.chart.StackedBarChart);Ext.chart.Axis=function(b){Ext.apply(this,b)};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true,labelSpacing:2};Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear",roundMajorUnit:true,calculateByLabelSize:true,position:"left",adjustMaximumByMajorUnit:true,adjustMinimumByMajorUnit:true});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true,stackingEnabled:false,calculateByLabelSize:true});Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null,calculateCategoryCount:false});Ext.chart.Series=function(b){Ext.apply(this,b)};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null,showInLegend:true,axis:"primary"});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,enableScrolling:true,maxHeight:null,scrollIncrement:24,showSeparator:true,defaultOffsets:[0,0],plain:false,floating:true,zIndex:15000,hidden:true,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:true,defaultType:"menuitem",bufferResize:false,initComponent:function(){if(Ext.isArray(this.initialConfig)){Ext.apply(this,{items:this.initialConfig})}this.addEvents("click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating){Ext.EventManager.onWindowResize(this.hide,this)}else{if(this.initialConfig.hidden!==false){this.hidden=false}this.internalDefaults={hideOnClick:false}}Ext.menu.Menu.superclass.initComponent.call(this);if(this.autoLayout){var b=this.doLayout.createDelegate(this,[]);this.on({add:b,remove:b})}},getLayoutTarget:function(){return this.ul},onRender:function(d,e){if(!d){d=Ext.getBody()}var g={id:this.getId(),cls:"x-menu "+((this.floating)?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};if(this.floating){this.el=new Ext.Layer({shadow:this.shadow,dh:g,constrain:false,parentEl:d,zindex:this.zIndex})}else{this.el=d.createChild(g)}Ext.menu.Menu.superclass.onRender.call(this,d,e);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this)}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});if(this.enableScrolling){this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})}},findTargetItem:function(c){var d=c.getTarget(".x-menu-list-item",this.ul,true);if(d&&d.menuItemId){return this.items.get(d.menuItemId)}},onClick:function(c){var d=this.findTargetItem(c);if(d){if(d.isFormField){this.setActiveItem(d)}else{if(d instanceof Ext.menu.BaseItem){if(d.menu&&this.ignoreParentClicks){d.expandMenu();c.preventDefault()}else{if(d.onClick){d.onClick(c);this.fireEvent("click",this,d,c)}}}}}},setActiveItem:function(d,c){if(d!=this.activeItem){this.deactivateActive();if((this.activeItem=d).isFormField){d.focus()}else{d.activate(c)}}else{if(c){d.expandMenu()}}},deactivateActive:function(){var a=this.activeItem;if(a){if(a.isFormField){if(a.collapse){a.collapse()}}else{a.deactivate()}delete this.activeItem}},tryActivate:function(j,k){var h=this.items;for(var m=j,i=h.length;m>=0&&m<i;m+=k){var l=h.get(m);if(!l.disabled&&(l.canActivate||l.isFormField)){this.setActiveItem(l,false);return l}}return false},onMouseOver:function(c){var d=this.findTargetItem(c);if(d){if(d.canActivate&&!d.disabled){this.setActiveItem(d,true)}}this.over=true;this.fireEvent("mouseover",this,c,d)},onMouseOut:function(c){var d=this.findTargetItem(c);if(d){if(d==this.activeItem&&d.shouldDeactivate&&d.shouldDeactivate(c)){this.activeItem.deactivate();delete this.activeItem}}this.over=false;this.fireEvent("mouseout",this,c,d)},onScroll:function(h,e){if(h){h.stopEvent()}var g=this.ul.dom,i=Ext.fly(e).is(".x-menu-scroller-top");g.scrollTop+=this.scrollIncrement*(i?-1:1);if(i?g.scrollTop<=0:g.scrollTop+this.activeMax>=g.scrollHeight){this.onScrollerOut(null,e)}},onScrollerIn:function(h,e){var g=this.ul.dom,i=Ext.fly(e).is(".x-menu-scroller-top");if(i?g.scrollTop>0:g.scrollTop+this.activeMax<g.scrollHeight){Ext.fly(e).addClass(["x-menu-item-active","x-menu-scroller-active"])}},onScrollerOut:function(c,d){Ext.fly(d).removeClass(["x-menu-item-active","x-menu-scroller-active"])},show:function(d,g,e){if(this.floating){this.parentMenu=e;if(!this.el){this.render();this.doLayout(false,true)}this.showAt(this.el.getAlignToXY(d,g||this.defaultAlign,this.defaultOffsets),e)}else{Ext.menu.Menu.superclass.show.call(this)}},showAt:function(c,d){if(this.fireEvent("beforeshow",this)!==false){this.parentMenu=d;if(!this.el){this.render()}if(this.enableScrolling){this.el.setXY(c);c[1]=this.constrainScroll(c[1]);c=[this.el.adjustForConstraints(c)[0],c[1]]}else{c=this.el.adjustForConstraints(c)}this.el.setXY(c);this.el.show();Ext.menu.Menu.superclass.onShow.call(this);if(Ext.isIE){this.fireEvent("autosize",this);if(!Ext.isIE8){this.el.repaint()}}this.hidden=false;this.focus();this.fireEvent("show",this)}},constrainScroll:function(l){var j,p=this.ul.setHeight("auto").getHeight(),k=l,m,o,n,q;if(this.floating){o=Ext.fly(this.el.dom.parentNode);n=o.getScroll().top;q=o.getViewSize().height;m=l-n;j=this.maxHeight?this.maxHeight:q-m;if(p>q){j=q;k=l-m}else{if(j<p){k=l-(p-j);j=p}}}else{j=this.getHeight()}if(this.maxHeight){j=Math.min(this.maxHeight,j)}if(p>j&&j>0){this.activeMax=j-this.scrollerHeight*2-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0);this.ul.setHeight(this.activeMax);this.createScrollers();this.el.select(".x-menu-scroller").setDisplayed("")}else{this.ul.setHeight(p);this.el.select(".x-menu-scroller").setDisplayed("none")}this.ul.dom.scrollTop=0;return k},createScrollers:function(){if(!this.scroller){this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})};this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],false)}});this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],false)}})}},onLayout:function(){if(this.isVisible()){if(this.enableScrolling){this.constrainScroll(this.el.getTop())}if(this.floating){this.el.sync()}}},focus:function(){if(!this.hidden){this.doFocus.defer(50,this)}},doFocus:function(){if(!this.hidden){this.focusEl.focus()}},hide:function(b){if(!this.isDestroyed){this.deepHide=b;Ext.menu.Menu.superclass.hide.call(this);delete this.deepHide}},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();if(this.el&&this.floating){this.el.hide()}var b=this.parentMenu;if(this.deepHide===true&&b){if(b.floating){b.hide(true)}else{b.deactivateActive()}}},lookupComponent:function(b){if(Ext.isString(b)){b=(b=="separator"||b=="-")?new Ext.menu.Separator():new Ext.menu.TextItem(b);this.applyDefaults(b)}else{if(Ext.isObject(b)){b=this.getMenuItem(b)}else{if(b.tagName||b.el){b=new Ext.BoxComponent({el:b})}}}return b},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.menu.Menu.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;if(d){if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d)}else{Ext.applyIf(c,d)}}}return c},getMenuItem:function(b){if(!b.isXType){if(!b.xtype&&Ext.isBoolean(b.checked)){return new Ext.menu.CheckItem(b)}return Ext.create(b,this.defaultType)}return b},addSeparator:function(){return this.add(new Ext.menu.Separator())},addElement:function(b){return this.add(new Ext.menu.BaseItem({el:b}))},addItem:function(b){return this.add(b)},addMenuItem:function(b){return this.add(this.getMenuItem(b))},addText:function(b){return this.add(new Ext.menu.TextItem(b))},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,this);var d=this.parentMenu;if(d&&d.activeChild==this){delete d.activeChild}delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable()}var c=this.scroller;if(c){Ext.destroy(c.topRepeater,c.bottomRepeater,c.top,c.bottom)}Ext.destroy(this.el,this.focusEl,this.ul)}});Ext.reg("menu",Ext.menu.Menu);Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function d(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)){b.tryActivate(b.items.length-1,-1)}}function c(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)+1,1)){b.tryActivate(0,1)}}return{constructor:function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);this.scope=this.menu=a},doRelay:function(a,b){var e=a.getKey();if(this.menu.activeItem&&this.menu.activeItem.isFormField&&e!=a.TAB){return false}if(!this.menu.activeItem&&a.isNavKeyPress()&&e!=a.SPACE&&e!=a.RETURN){this.menu.tryActivate(0,1);return false}return b.call(this.scope||this,a,this.menu)},tab:function(a,b){a.stopEvent();if(a.shiftKey){d(a,b)}else{c(a,b)}},up:d,down:c,right:function(a,b){if(b.activeItem){b.activeItem.expandMenu(true)}},left:function(a,b){b.hide();if(b.parentMenu&&b.parentMenu.activeItem){b.parentMenu.activeItem.activate()}},enter:function(a,b){if(b.activeItem){a.stopPropagation();b.activeItem.onClick(a);b.fireEvent("click",this,b.activeItem);return true}}}}());Ext.menu.MenuMgr=function(){var v,y,z={},B=false,q=new Date();function o(){v={};y=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(y.length>0){t()}})}function t(){if(y&&y.length>0){var a=y.clone();a.each(function(b){b.hide()});return true}return false}function x(a){y.remove(a);if(y.length<1){Ext.getDoc().un("mousedown",p);B=false}}function r(b){var a=y.last();q=new Date();y.add(b);if(!B){Ext.getDoc().on("mousedown",p);B=true}if(b.parentMenu){b.getEl().setZIndex(parseInt(b.parentMenu.getEl().getStyle("z-index"),10)+3);b.parentMenu.activeChild=b}else{if(a&&!a.isDestroyed&&a.isVisible()){b.getEl().setZIndex(parseInt(a.getEl().getStyle("z-index"),10)+3)}}}function A(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}}function u(b){var a=b.parentMenu;if(!a&&!b.allowOtherMenus){t()}else{if(a&&a.activeChild){a.activeChild.hide()}}}function p(a){if(q.getElapsed()>50&&y.length>0&&!a.getTarget(".x-menu")){t()}}function s(d,a){if(a){var b=z[d.group];for(var c=0,e=b.length;c<e;c++){if(b[c]!=d){b[c].setChecked(false)}}}}return{hideAll:function(){return t()},register:function(a){if(!v){o()}v[a.id]=a;a.on({beforehide:A,hide:x,beforeshow:u,show:r})},get:function(a){if(typeof a=="string"){if(!v){return null}return v[a]}else{if(a.events){return a}else{if(typeof a.length=="number"){return new Ext.menu.Menu({items:a})}else{return Ext.create(a,"menu")}}}},unregister:function(a){delete v[a.id];a.un("beforehide",A);a.un("hide",x);a.un("beforeshow",u);a.un("show",r)},registerCheckable:function(b){var a=b.group;if(a){if(!z[a]){z[a]=[]}z[a].push(b);b.on("beforecheckchange",s)}},unregisterCheckable:function(b){var a=b.group;if(a){z[a].remove(b);b.un("beforecheckchange",s)}},getCheckedItem:function(b){var a=z[b];if(a){for(var c=0,d=a.length;c<d;c++){if(a[c].checked){return a[c]}}}return null},setCheckedItem:function(c,a){var b=z[c];if(b){for(var d=0,e=b.length;d<e;d++){if(b[d].id==a){b[d].setChecked(true)}}}return null}}}();Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope)}},onRender:function(c,d){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);if(this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu){this.parentMenu=this.ownerCt}else{this.container.addClass("x-menu-list-item");this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate})}},setHandler:function(c,d){if(this.handler){this.un("click",this.handler,this.scope)}this.on("click",this.handler=c,this.scope=d)},onClick:function(b){if(!this.disabled&&this.fireEvent("click",this,b)!==false&&(this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,b)!==false)){this.handleClick(b)}else{b.stopEvent()}},activate:function(){if(this.disabled){return false}var b=this.container;b.addClass(this.activeClass);this.region=b.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(b){return !this.region||!this.region.contains(b.getPoint())},handleClick:function(c){var d=this.parentMenu;if(this.hideOnClick){if(d.floating){d.hide.defer(this.clickHideDelay,d,[true])}else{d.deactivateActive()}}},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});Ext.reg("menubaseitem",Ext.menu.BaseItem);Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",constructor:function(b){if(typeof b=="string"){b={text:b}}Ext.menu.TextItem.superclass.constructor.call(this,b)},onRender:function(){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML=this.text;this.el=b;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.reg("menutextitem",Ext.menu.TextItem);Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,activeClass:"",onRender:function(d){var c=document.createElement("span");c.className=this.itemCls;c.innerHTML="&#160;";this.el=c;d.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.reg("menuseparator",Ext.menu.Separator);Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=this}},onRender:function(e,a){if(!this.itemTpl){this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>")}var g=this.getTemplateArgs();this.el=a?this.itemTpl.insertBefore(a,g,true):this.itemTpl.append(e,g,true);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");if(!this.href){this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:true})}Ext.menu.Item.superclass.onRender.call(this,e,a)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;"}},setText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text);this.parentMenu.layout.doAutoSize()}},setIconClass:function(d){var c=this.iconCls;this.iconCls=d;if(this.rendered){this.iconEl.replaceClass(c,this.iconCls)}},beforeDestroy:function(){if(this.menu){delete this.menu.ownerCt;this.menu.destroy()}Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(b){if(!this.href){b.stopEvent()}Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(b){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(b){this.expandMenu()}}return true},shouldDeactivate:function(b){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,b)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(b.getPoint())}return true}return false},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu()},expandMenu:function(b){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[b])}else{if(this.menu.isVisible()&&b){this.menu.tryActivate(0,1)}}}},deferExpand:function(b){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(b){this.menu.tryActivate(0,1)}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this)}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false)}else{this.menu.hide()}}});Ext.reg("menuitem",Ext.menu.Item);Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(b){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass)}if(this.checked){this.checked=false;this.setChecked(true,true)}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(d,e){var g=e===true;if(this.checked!=d&&(g||this.fireEvent("beforecheckchange",this,d)!==false)){if(this.container){this.container[d?"addClass":"removeClass"]("x-menu-item-checked")}this.checked=d;if(!g){this.fireEvent("checkchange",this,d)}}},handleClick:function(b){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.reg("menucheckitem",Ext.menu.CheckItem);Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);if(this.strict=(Ext.isIE7&&Ext.isStrict)){this.on("show",this.onShow,this,{single:true,delay:20})}Ext.apply(this,{plain:true,showSeparator:false,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();Ext.menu.DateMenu.superclass.initComponent.call(this);this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}},onBeforeShow:function(){if(this.picker){this.picker.hideMonthPicker(true)}},onShow:function(){var b=this.picker.getEl();b.setWidth(b.getWidth())}});Ext.reg("datemenu",Ext.menu.DateMenu);Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:true,showSeparator:false,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}}});Ext.reg("colormenu",Ext.menu.ColorMenu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,msgDisplay:"",hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(i,g){if(!this.el){var e=this.getAutoCreate();if(!e.name){e.name=this.name||this.id}if(this.inputType){e.type=this.inputType}this.autoEl=e}Ext.form.Field.superclass.onRender.call(this,i,g);if(this.submitValue===false){this.el.dom.removeAttribute("name")}var h=this.el.dom.type;if(h){if(h=="password"){h="text"}this.el.addClass("x-form-"+h)}if(this.readOnly){this.setReadOnly(true)}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex)}this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value)}}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},setReadOnly:function(b){if(this.rendered){this.el.dom.readOnly=b}this.readOnly=b},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,b)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.useKeydown?"keydown":"keypress",this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;if(this.validationEvent!==false&&(this.validateOnBlur||this.validationEvent=="blur")){this.validate()}var b=this.getValue();if(String(b)!==String(this.startValue)){this.fireEvent("change",this,b,this.startValue)}this.fireEvent("blur",this);this.postBlur()},postBlur:Ext.emptyFn,isValid:function(e){if(this.disabled){return true}var g=this.preventMark;this.preventMark=e===true;var d=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=g;return d},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true}return false},processValue:function(b){return b},validateValue:function(c){var d=this.getErrors(c)[0];if(d==undefined){return true}else{this.markInvalid(d);return false}},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(g){if(this.rendered&&!this.preventMark){g=g||this.invalidText;var e=this.getMessageHandler();if(e){e.mark(this,g)}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var d=Ext.getDom(this.msgTarget);if(d){d.innerHTML=g;d.style.display=this.msgDisplay}}}}this.setActiveError(g)},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);var d=this.getMessageHandler();if(d){d.clear(this)}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var c=Ext.getDom(this.msgTarget);if(c){c.innerHTML="";c.style.display="none"}}}}this.unsetActiveError()},setActiveError:function(c,d){this.activeError=c;if(d!==true){this.fireEvent("invalid",this,c)}},unsetActiveError:function(b){delete this.activeError;if(b!==true){this.fireEvent("valid",this)}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true)},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(true)-20)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var b=this.rendered?this.el.getValue():Ext.value(this.value,"");if(b===this.emptyText){b=""}return b},getValue:function(){if(!this.rendered){return this.value}var b=this.el.getValue();if(b===this.emptyText||b===undefined){b=""}return b},setRawValue:function(b){return this.rendered?(this.el.dom.value=(Ext.isEmpty(b)?"":b)):""},setValue:function(b){this.value=b;if(this.rendered){this.el.dom.value=(Ext.isEmpty(b)?"":b);this.validate()}return this},append:function(b){this.setValue([this.getValue(),b].join(""))}});Ext.form.MessageTargets={qtip:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.qtip=c;d.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}},clear:function(b){b.el.removeClass(b.invalidClass);b.el.dom.qtip=""}},title:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.title=c},clear:function(b){b.el.dom.title=""}},under:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorEl){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return}d.errorEl=e.createChild({cls:"x-form-invalid-msg"});d.on("resize",d.alignErrorEl,d);d.on("destroy",function(){Ext.destroy(this.errorEl)},d)}d.alignErrorEl();d.errorEl.update(g);Ext.form.Field.msgFx[d.msgFx].show(d.errorEl,d)},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorEl){Ext.form.Field.msgFx[b.msgFx].hide(b.errorEl,b)}else{b.el.dom.title=""}}},side:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorIcon){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return}d.errorIcon=e.createChild({cls:"x-form-invalid-icon"});if(d.ownerCt){d.ownerCt.on("afterlayout",d.alignErrorIcon,d);d.ownerCt.on("expand",d.alignErrorIcon,d)}d.on("resize",d.alignErrorIcon,d);d.on("destroy",function(){Ext.destroy(this.errorIcon)},d)}d.alignErrorIcon();d.errorIcon.dom.qtip=g;d.errorIcon.dom.qclass="x-form-invalid-tip";d.errorIcon.show()},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorIcon){b.errorIcon.dom.qtip="";b.errorIcon.hide()}else{b.el.dom.title=""}}}};Ext.form.Field.msgFx={normal:{show:function(d,c){d.setDisplayed("block")},hide:function(d,c){d.setDisplayed(false).update("")}},slide:{show:function(d,c){d.slideIn("t",{stopFx:true})},hide:function(d,c){d.slideOut("t",{stopFx:true,useDisplay:true})}},slideRight:{show:function(d,c){d.fixDisplay();d.alignTo(c.el,"tl-tr");d.slideIn("l",{stopFx:true})},hide:function(d,c){d.slideOut("l",{stopFx:true,useDisplay:true})}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.mon(this.el,"keyup",this.filterValidation,this)}else{if(this.validationEvent!==false&&this.validationEvent!="blur"){this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay})}}if(this.selectOnFocus||this.emptyText){this.mon(this.el,"mousedown",this.onMouseDown,this);if(this.emptyText){this.applyEmptyText()}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.mon(this.el,"keypress",this.filterKeys,this)}if(this.grow){this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50});this.mon(this.el,"click",this.autoSize,this)}if(this.enableKeyEvents){this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})}},onMouseDown:function(b){if(!this.hasFocus){this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:true,preventDefault:true})}},processValue:function(d){if(this.stripCharsRe){var c=d.replace(this.stripCharsRe,"");if(c!==d){this.setRawValue(c);return c}}return d},filterValidation:function(b){if(!b.isNavKeyPress()){this.validationTask.delay(this.validationDelay)}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on"}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);if(Ext.isIE){this.el.dom.unselectable=""}},onKeyUpBuffered:function(b){if(this.doAutoSize(b)){this.autoSize()}},doAutoSize:function(b){return !b.isNavKeyPress()},onKeyUp:function(b){this.fireEvent("keyup",this,b)},onKeyDown:function(b){this.fireEvent("keydown",this,b)},onKeyPress:function(b){this.fireEvent("keypress",this,b)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass)}},preFocus:function(){var b=this.el;if(this.emptyText){if(b.dom.value==this.emptyText){this.setRawValue("")}b.removeClass(this.emptyClass)}if(this.selectOnFocus){b.dom.select()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(d){if(d.ctrlKey){return}var e=d.getKey();if(Ext.isGecko&&(d.isNavKeyPress()||e==d.BACKSPACE||(e==d.DELETE&&d.button==-1))){return}var g=String.fromCharCode(d.getCharCode());if(!Ext.isGecko&&d.isSpecialKey()&&!g){return}if(!this.maskRe.test(g)){d.stopEvent()}},setValue:function(b){if(this.emptyText&&this.el&&!Ext.isEmpty(b)){this.el.removeClass(this.emptyClass)}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this},getErrors:function(g){var h=Ext.form.TextField.superclass.getErrors.apply(this,arguments);g=g||this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var i=this.validator(g);if(i!==true){h.push(i)}}if(!this.allowBlank&&(g.length<1||g===this.emptyText)){h.push(this.blankText)}if(g.length<this.minLength){h.push(String.format(this.minLengthText,this.minLength))}if(g.length>this.maxLength){h.push(String.format(this.maxLengthText,this.maxLength))}if(this.vtype){var e=Ext.form.VTypes;if(!e[this.vtype](g,this)){h.push(this.vtypeText||e[this.vtype+"Text"])}}if(this.regex&&!this.regex.test(g)){h.push(this.regexText)}return h},selectText:function(j,i){var m=this.getRawValue();var l=false;if(m.length>0){j=j===undefined?0:j;i=i===undefined?m.length:i;var k=this.el.dom;if(k.setSelectionRange){k.setSelectionRange(j,i)}else{if(k.createTextRange){var d=k.createTextRange();d.moveStart("character",j);d.moveEnd("character",i-m.length);d.select()}}l=Ext.isGecko||Ext.isOpera}else{l=true}if(l){this.focus()}},autoSize:function(){if(!this.grow||!this.rendered){return}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el)}var i=this.el;var d=i.dom.value;var h=document.createElement("div");h.appendChild(document.createTextNode(d));d=h.innerHTML;Ext.removeNode(h);h=null;d+="&#160;";var g=Math.min(this.growMax,Math.max(this.metrics.getWidth(d)+10,this.growMin));this.el.setWidth(g);this.fireEvent("autosize",this,g)},onDestroy:function(){if(this.validationTask){this.validationTask.cancel();this.validationTask=null}Ext.form.TextField.superclass.onDestroy.call(this)}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,editable:true,readOnly:false,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(e,g){Ext.form.TriggerField.superclass.onResize.call(this,e,g);var d=this.getTriggerWidth();if(Ext.isNumber(e)){this.el.setWidth(e-d)}this.wrap.setWidth(this.el.getWidth()+d)},getTriggerWidth:function(){var b=this.trigger.getWidth();if(!this.hideTrigger&&!this.readOnly&&b===0){b=this.defaultTriggerWidth}return b},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}},onRender:function(c,d){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,c,d);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass});this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())}this.resizeEl=this.positionEl=this.wrap},getWidth:function(){return(this.el.getWidth()+this.trigger.getWidth())},updateEditState:function(){if(this.rendered){if(this.readOnly){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this);this.trigger.setDisplayed(false)}else{if(!this.editable){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mon(this.el,"click",this.onTriggerClick,this)}else{this.el.dom.readOnly=false;this.el.removeClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this)}this.trigger.setDisplayed(!this.hideTrigger)}this.onResize(this.width||this.wrap.getWidth())}},setHideTrigger:function(b){if(b!=this.hideTrigger){this.hideTrigger=b;this.updateEditState()}},setEditable:function(b){if(b!=this.editable){this.editable=b;this.updateEditState()}},setReadOnly:function(b){if(b!=this.readOnly){this.readOnly=b;this.updateEditState()}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState()},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);if(this.mimicing){this.doc.un("mousedown",this.mimicBlur,this)}delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass(this.wrapFocusClass);this.mimicing=true;this.doc.on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.on("specialkey",this.checkTab,this)}}},checkTab:function(d,c){if(c.getKey()==c.TAB){this.triggerBlur()}},onBlur:Ext.emptyFn,mimicBlur:function(b){if(!this.isDestroyed&&!this.wrap.contains(b.target)&&this.validateBlur(b)){this.triggerBlur()}},triggerBlur:function(){this.mimicing=false;this.doc.un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.un("specialkey",this.checkTab,this)}Ext.form.TriggerField.superclass.onBlur.call(this);if(this.wrap){this.wrap.removeClass(this.wrapFocusClass)}},beforeBlur:Ext.emptyFn,validateBlur:function(b){return true},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(b){return this.triggers[b]},initTrigger:function(){var d=this.trigger.select(".x-form-trigger",true);var c=this;d.each(function(h,a,i){var b="Trigger"+(i+1);h.hide=function(){var e=c.wrap.getWidth();this.dom.style.display="none";c.el.setWidth(e-c.trigger.getWidth());this["hidden"+b]=true};h.show=function(){var e=c.wrap.getWidth();this.dom.style.display="";c.el.setWidth(e-c.trigger.getWidth());this["hidden"+b]=false};if(this["hide"+b]){h.dom.style.display="none";this["hidden"+b]=true}this.mon(h,"click",this["on"+b+"Click"],this,{preventDefault:true});h.addClassOnOver("x-form-trigger-over");h.addClassOnClick("x-form-trigger-click")},this);this.triggers=d.elements},getTriggerWidth:function(){var b=0;Ext.each(this.triggers,function(h,i){var g="Trigger"+(i+1),a=h.getWidth();if(a===0&&!this["hidden"+g]){b+=this.defaultTriggerWidth}else{b+=a}},this);return b},onDestroy:function(){Ext.destroy(this.triggers);Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",enterIsSpecial:false,preventScrollbars:false,onRender:function(c,d){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}}Ext.form.TextArea.superclass.onRender.call(this,c,d);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden")}this.el.setHeight(this.growMin)}},onDestroy:function(){Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!=b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b)}},doAutoSize:function(b){return !b.isNavKeyPress()||b.getKey()==b.ENTER},autoSize:function(){if(!this.grow||!this.textSizeEl){return}var i=this.el,g=Ext.util.Format.htmlEncode(i.dom.value),h=this.textSizeEl,e;Ext.fly(h).setWidth(this.el.getWidth());if(g.length<1){g="&#160;&#160;"}else{g+=this.growAppend;if(Ext.isIE){g=g.replace(/\n/g,"&#160;<br />")}}h.innerHTML=g;e=Math.min(this.growMax,Math.max(h.offsetHeight,this.growMin));if(e!=this.lastHeight){this.lastHeight=e;this.el.setHeight(e);this.fireEvent("autosize",this,e)}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){var b=this.baseChars+"";if(this.allowDecimals){b+=this.decimalSeparator}if(this.allowNegative){b+="-"}this.maskRe=new RegExp("["+Ext.escapeRe(b)+"]");Ext.form.NumberField.superclass.initEvents.call(this)},getErrors:function(d){var g=Ext.form.NumberField.superclass.getErrors.apply(this,arguments);d=d||this.processValue(this.getRawValue());if(d.length<1){return g}d=String(d).replace(this.decimalSeparator,".");if(isNaN(d)){g.push(String.format(this.nanText,d))}var e=this.parseValue(d);if(e<this.minValue){g.push(String.format(this.minText,this.minValue))}if(e>this.maxValue){g.push(String.format(this.maxText,this.maxValue))}return g},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(b){b=Ext.isNumber(b)?b:parseFloat(String(b).replace(this.decimalSeparator,"."));b=isNaN(b)?"":String(b).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,b)},setMinValue:function(b){this.minValue=Ext.num(b,Number.NEGATIVE_INFINITY)},setMaxValue:function(b){this.maxValue=Ext.num(b,Number.MAX_VALUE)},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?"":b},fixPrecision:function(c){var d=isNaN(c);if(!this.allowDecimals||this.decimalPrecision==-1||d||!c){return d?"":c}return parseFloat(parseFloat(c).toFixed(this.decimalPrecision))},beforeBlur:function(){var b=this.parseValue(this.getRawValue());if(!Ext.isEmpty(b)){this.setValue(this.fixPrecision(b))}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(d,g){if(/[gGhH]/.test(g.replace(/(\\.)/g,""))){return Date.parseDate(d,g)}else{var e=Date.parseDate(d+" "+this.initTime,g+" "+this.initTimeFormat);if(e){return e.clearTime()}}},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(Ext.isString(this.minValue)){this.minValue=this.parseDate(this.minValue)}if(Ext.isString(this.maxValue)){this.maxValue=this.parseDate(this.maxValue)}this.disabledDatesRE=null;this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(b){this.onTriggerClick()},scope:this,forceKeyDown:true})},initDisabledDays:function(){if(this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":d[b];if(b!=e){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(b){this.disabledDates=b;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE)}},setDisabledDays:function(b){this.disabledDays=b;if(this.menu){this.menu.picker.setDisabledDays(b)}},setMinValue:function(b){this.minValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMinDate(this.minValue)}},setMaxValue:function(b){this.maxValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMaxDate(this.maxValue)}},getErrors:function(m){var k=Ext.form.DateField.superclass.getErrors.apply(this,arguments);m=this.formatDate(m||this.processValue(this.getRawValue()));if(m.length<1){return k}var o=m;m=this.parseDate(m);if(!m){k.push(String.format(this.invalidText,o,this.format));return k}var l=m.getTime();if(this.minValue&&l<this.minValue.getTime()){k.push(String.format(this.minText,this.formatDate(this.minValue)))}if(this.maxValue&&l>this.maxValue.getTime()){k.push(String.format(this.maxText,this.formatDate(this.maxValue)))}if(this.disabledDays){var j=m.getDay();for(var i=0;i<this.disabledDays.length;i++){if(j===this.disabledDays[i]){k.push(this.disabledDaysText);break}}}var n=this.formatDate(m);if(this.disabledDatesRE&&this.disabledDatesRE.test(n)){k.push(String.format(this.disabledDatesText,n))}return k},validateBlur:function(){return !this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(b){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)))},parseDate:function(j){if(!j||Ext.isDate(j)){return j}var h=this.safeParse(j,this.format),m=this.altFormats,k=this.altFormatsArray;if(!h&&m){k=k||m.split("|");for(var l=0,i=k.length;l<i&&!h;l++){h=this.safeParse(j,k[l])}}return h},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(b){return Ext.isDate(b)?b.dateFormat(this.format):b},onTriggerClick:function(){if(this.disabled){return}if(this.menu==null){this.menu=new Ext.menu.DateMenu({hideOnClick:false,focusOnSelect:false})}this.onFocus();Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");this.menuEvents("on")},menuEvents:function(b){this.menu[b]("select",this.onSelect,this);this.menu[b]("hide",this.onMenuHide,this);this.menu[b]("show",this.onFocus,this)},onSelect:function(d,c){this.setValue(c);this.fireEvent("select",this,c);this.menu.hide()},onMenuHide:function(){this.focus(false,60);this.menuEvents("un")},beforeBlur:function(){var b=this.parseDate(this.getRawValue());if(b){this.setValue(b)}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:Ext.emptyFn,isValid:function(){return true},validate:function(){return true},getRawValue:function(){var b=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(b===this.emptyText){b=""}if(this.htmlEncode){b=Ext.util.Format.htmlDecode(b)}return b},getValue:function(){return this.getRawValue()},getName:function(){return this.name},setRawValue:function(b){if(this.htmlEncode){b=Ext.util.Format.htmlEncode(b)}return this.rendered?(this.el.dom.innerHTML=(Ext.isEmpty(b)?"":b)):(this.value=b)},setValue:function(b){this.setRawValue(b);return this}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:true,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,clearFilterOnReset:true,submitValue:undefined,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var o=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=o.name}if(!this.store){this.mode="local";var k=[],n=o.options;for(var d=0,i=n.length;d<i;d++){var l=n[d],m=(l.hasAttribute?l.hasAttribute("value"):l.getAttributeNode("value").specified)?l.value:l.text;if(l.selected&&Ext.isEmpty(this.value,true)){this.value=m}k.push([m,l.text])}this.store=new Ext.data.ArrayStore({id:0,fields:["value","text"],data:k,autoDestroy:true});this.valueField="value";this.displayField="text"}o.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(o,this.autoCreate||this.defaultAutoCreate);this.render(this.el.parentNode,o)}Ext.removeNode(o)}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store);if(this.store.autoCreated){this.displayField=this.valueField="field1";if(!this.store.expandData){this.displayField="field2"}this.mode="local"}}}this.selectedIndex=-1;if(this.mode=="local"){if(!Ext.isDefined(this.initialConfig.queryDelay)){this.queryDelay=10}if(!Ext.isDefined(this.initialConfig.minChars)){this.minChars=0}}},onRender:function(c,d){if(this.hiddenName&&!Ext.isDefined(this.submitValue)){this.submitValue=false}Ext.form.ComboBox.superclass.onRender.call(this,c,d);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||this.hiddenName)},"before",true)}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off")}if(!this.lazyInit){this.initList()}else{this.on("focus",this.initList,this,{single:true})}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,"")}},getParentZIndex:function(){var b;if(this.ownerCt){this.findParentBy(function(a){b=parseInt(a.getPositionEl().getStyle("z-index"),10);return !!b})}return b},initList:function(){if(!this.list){var g="x-combo-list",h=Ext.getDom(this.getListParent()||Ext.getBody()),e=parseInt(Ext.fly(h).getStyle("z-index"),10);if(!e){e=this.getParentZIndex()}this.list=new Ext.Layer({parentEl:h,shadow:this.shadow,cls:[g,this.listClass].join(" "),constrain:false,zindex:(e||12000)+5});var i=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(i,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.syncFont!==false){this.list.setStyle("font-size",this.el.getStyle("font-size"))}if(this.title){this.header=this.list.createChild({cls:g+"-hd",html:this.title});this.assetHeight+=this.header.getHeight()}this.innerList=this.list.createChild({cls:g+"-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(i-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:g+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight()}if(!this.tpl){this.tpl='<tpl for="."><div class="'+g+'-item">{'+this.displayField+"}</div></tpl>"}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+g+"-item",emptyText:this.listEmptyText,deferEmptyText:false});this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.mon(this.resizer,"resize",function(a,c,b){this.maxHeight=b-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=c;this.innerList.setWidth(c-this.list.getFrameWidth("lr"));this.restrictHeight()},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")}}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(d,c){if(this.store&&!c){if(this.store!==d&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.collapse,this)}if(!d){this.store=null;if(this.view){this.view.bindStore(null)}if(this.pageTb){this.pageTb.bindStore(null)}}}if(d){if(!c){this.lastQuery=null;if(this.pageTb){this.pageTb.bindStore(d)}}this.store=Ext.StoreMgr.lookup(d);this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse});if(this.view){this.view.bindStore(d)}}},reset:function(){Ext.form.ComboBox.superclass.reset.call(this);if(this.clearFilterOnReset&&this.mode=="local"){this.store.clearFilter()}},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(b){this.inKeyMode=true;this.selectPrev()},down:function(b){if(!this.isExpanded()){this.onTriggerClick()}else{this.inKeyMode=true;this.selectNext()}},enter:function(b){this.onViewClick()},esc:function(b){this.collapse()},tab:function(b){if(this.forceSelection===true){this.collapse()}else{this.onViewClick(false)}return true},scope:this,doRelay:function(i,e,g){if(g=="down"||this.scope.isExpanded()){var h=Ext.KeyNav.prototype.doRelay.apply(this,arguments);if(!Ext.isIE&&Ext.EventManager.useKeydown){this.scope.fireKey(i)}return h}return true},forceKeyDown:true,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(!this.enableKeyEvents){this.mon(this.el,"keyup",this.onKeyUp,this)}},onDestroy:function(){if(this.dqTask){this.dqTask.cancel();this.dqTask=null}this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(b){if(!this.isExpanded()){Ext.form.ComboBox.superclass.fireKey.call(this,b)}},onResize:function(d,c){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(!isNaN(d)&&this.isVisible()&&this.list){this.doResize(d)}else{this.bufferSize=d}},doResize:function(d){if(!Ext.isDefined(this.listWidth)){var c=Math.max(d,this.minListWidth);this.list.setWidth(c);this.innerList.setWidth(c-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true}},onBeforeLoad:function(){if(!this.hasFocus){return}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1},onLoad:function(){if(!this.hasFocus){return}if(this.store.getCount()>0||this.listEmptyText){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select()}if(this.autoSelect!==false&&!this.selectByValue(this.value,true)){this.select(0,true)}}else{if(this.autoSelect!==false){this.selectNext()}if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay)}}}else{this.collapse()}},onTypeAhead:function(){if(this.store.getCount()>0){var e=this.store.getAt(0);var i=e.data[this.displayField];var g=i.length;var h=this.getRawValue().length;if(h!=g){this.setRawValue(i);this.selectText(h,i.length)}}},assertValue:function(){var c=this.getRawValue(),d=this.findRecord(this.displayField,c);if(!d&&this.forceSelection){if(c.length>0&&c!=this.emptyText){this.el.dom.value=Ext.value(this.lastSelectionText,"");this.applyEmptyText()}else{this.clearValue()}}else{if(d){if(c==d.get(this.displayField)&&this.value==d.get(this.valueField)){return}c=d.get(this.valueField||this.displayField)}this.setValue(c)}},onSelect:function(d,c){if(this.fireEvent("beforeselect",this,d,c)!==false){this.setValue(d.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,d,c)}},getName:function(){var b=this.hiddenField;return b&&b.name?b.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){if(this.valueField){return Ext.isDefined(this.value)?this.value:""}else{return Ext.form.ComboBox.superclass.getValue.call(this)}},clearValue:function(){if(this.hiddenField){this.hiddenField.value=""}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(e){var g=e;if(this.valueField){var d=this.findRecord(this.valueField,e);if(d){g=d.data[this.displayField]}else{if(Ext.isDefined(this.valueNotFoundText)){g=this.valueNotFoundText}}}this.lastSelectionText=g;if(this.hiddenField){this.hiddenField.value=Ext.value(e,"")}Ext.form.ComboBox.superclass.setValue.call(this,g);this.value=e;return this},findRecord:function(g,d){var e;if(this.store.getCount()>0){this.store.each(function(a){if(a.data[g]==d){e=a;return false}})}return e},onViewMove:function(c,d){this.inKeyMode=false},onViewOver:function(h,e){if(this.inKeyMode){return}var i=this.view.findItemFromChild(e);if(i){var g=this.view.indexOf(i);this.select(g,false)}},onViewClick:function(e){var g=this.view.getSelectedIndexes()[0],i=this.store,h=i.getAt(g);if(h){this.onSelect(h,g)}else{this.collapse()}if(e!==false){this.el.focus()}},restrictHeight:function(){this.innerList.dom.style.height="";var h=this.innerList.dom,k=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,m=Math.max(h.clientHeight,h.offsetHeight,h.scrollHeight),i=this.getPosition()[1]-Ext.getBody().getScroll().top,j=Ext.lib.Dom.getViewHeight()-i-this.getSize().height,l=Math.max(i,j,this.minHeight||0)-this.list.shadowOffset-k-5;m=Math.min(m,l,this.maxHeight);this.innerList.setHeight(m);this.list.beginUpdate();this.list.setHeight(m+k);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(e,g){if(!Ext.isEmpty(e,true)){var d=this.findRecord(this.valueField||this.displayField,e);if(d){this.select(this.store.indexOf(d),g);return true}}return false},select:function(e,g){this.selectedIndex=e;this.view.select(e);if(g!==false){var d=this.view.getNode(e);if(d){this.innerList.scrollChildIntoView(d,false)}}},selectNext:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex<b-1){this.select(this.selectedIndex+1)}}}},selectPrev:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex!==0){this.select(this.selectedIndex-1)}}}},onKeyUp:function(c){var d=c.getKey();if(this.editable!==false&&this.readOnly!==true&&(d==c.BACKSPACE||!c.isSpecialKey())){this.lastKey=d;this.dqTask.delay(this.queryDelay)}Ext.form.ComboBox.superclass.onKeyUp.call(this,c)},validateBlur:function(){return !this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){this.assertValue()},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);this.collapse();this.inKeyMode=false},doQuery:function(g,d){g=Ext.isEmpty(g)?"":g;var e={query:g,forceAll:d,combo:this,cancel:false};if(this.fireEvent("beforequery",e)===false||e.cancel){return false}g=e.query;d=e.forceAll;if(d===true||(g.length>=this.minChars)){if(this.lastQuery!==g){this.lastQuery=g;if(this.mode=="local"){this.selectedIndex=-1;if(d){this.store.clearFilter()}else{this.store.filter(this.displayField,g)}this.onLoad()}else{this.store.baseParams[this.queryParam]=g;this.store.load({params:this.getParams(g)});this.expand()}}else{this.selectedIndex=-1;this.onLoad()}}},getParams:function(d){var c={};if(this.pageSize){c.start=0;c.limit=this.pageSize}return c},collapse:function(){if(!this.isExpanded()){return}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this)},collapseIf:function(b){if(!this.isDestroyed&&!b.within(this.wrap)&&!b.within(this.list)){this.collapse()}},expand:function(){if(this.isExpanded()||!this.hasFocus){return}if(this.title||this.pageSize){this.assetHeight=0;if(this.title){this.assetHeight+=this.header.getHeight()}if(this.pageSize){this.assetHeight+=this.footer.getHeight()}}if(this.bufferSize){this.doResize(this.bufferSize);delete this.bufferSize}this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));var c=Ext.getDom(this.getListParent()||Ext.getBody()),d=parseInt(Ext.fly(c).getStyle("z-index"),10);if(!d){d=this.getParentZIndex()}if(d){this.list.setZIndex(d+5)}this.list.show();if(Ext.isGecko2){this.innerList.setOverflow("auto")}this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this)},onTriggerClick:function(){if(this.readOnly||this.disabled){return}if(this.isExpanded()){this.collapse();this.el.focus()}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true)}else{this.doQuery(this.getRawValue())}this.el.focus()}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c")}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(c,d){Ext.form.Checkbox.superclass.onRender.call(this,c,d);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}if(this.checked){this.setValue(true)}else{this.checked=this.el.dom.checked}if(Ext.isIE){this.wrap.repaint()}this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){if(this.rendered){return this.el.dom.checked}return this.checked},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked)}},setValue:function(d){var c=this.checked;this.checked=(d===true||d==="true"||d=="1"||String(d).toLowerCase()=="on");if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked}if(c!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked)}}return this}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(y,A){if(!this.el){var s={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:y,bufferResize:false};var F={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(s,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var B=0,v=this.items.length;B<v;B++){Ext.applyIf(this.items[B],F)}}else{var C,u=[];if(typeof this.columns=="string"){this.columns=this.items.length}if(!Ext.isArray(this.columns)){var x=[];for(var B=0;B<this.columns;B++){x.push((100/this.columns)*0.01)}this.columns=x}C=this.columns.length;for(var B=0;B<C;B++){var E=Ext.apply({items:[]},F);E[this.columns[B]<=1?"columnWidth":"width"]=this.columns[B];if(this.defaults){E.defaults=Ext.apply(E.defaults||{},this.defaults)}u.push(E)}if(this.vertical){var i=Math.ceil(this.items.length/C),t=0;for(var B=0,v=this.items.length;B<v;B++){if(B>0&&B%i==0){t++}if(this.items[B].fieldLabel){this.items[B].hideLabel=false}u[t].items.push(this.items[B])}}else{for(var B=0,v=this.items.length;B<v;B++){var l=B%C;if(this.items[B].fieldLabel){this.items[B].hideLabel=false}u[l].items.push(this.items[B])}}Ext.apply(s,{layoutConfig:{columns:C},items:u})}this.panel=new Ext.Container(s);this.panel.ownerCt=this;this.el=this.panel.getEl();if(this.forId&&this.itemCls){var D=this.el.up(this.itemCls).child("label",true);if(D){D.setAttribute("htmlFor",this.forId)}}var z=this.panel.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(z)}Ext.form.CheckboxGroup.superclass.onRender.call(this,y,A)},initValue:function(){if(this.value){this.setValue.apply(this,this.buffered?this.value:[this.value]);delete this.buffered;delete this.value}},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);this.eachItem(function(b){b.on("check",this.fireChecked,this);b.inGroup=true})},doLayout:function(){if(this.rendered){this.panel.forceLayout=this.ownerCt.forceLayout;this.panel.doLayout()}},fireChecked:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a)}});this.fireEvent("change",this,b)},getErrors:function(){var c=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var d=true;this.eachItem(function(a){if(a.checked){return(d=false)}});if(d){c.push(this.blankText)}}return c},isDirty:function(){if(this.disabled||!this.rendered){return false}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false}});return b},setReadOnly:function(b){if(this.rendered){this.eachItem(function(a){a.setReadOnly(b)})}this.readOnly=b},onDisable:function(){this.eachItem(function(b){b.disable()})},onEnable:function(){this.eachItem(function(b){b.enable()})},onResize:function(d,c){this.panel.setSize(d,c);this.panel.doLayout()},reset:function(){if(this.originalValue){this.eachItem(function(b){if(b.setValue){b.setValue(false);b.originalValue=b.getValue()}});this.resetOriginal=true;this.setValue(this.originalValue);delete this.resetOriginal}else{this.eachItem(function(b){if(b.reset){b.reset()}})}(function(){this.clearInvalid()}).defer(50,this)},setValue:function(){if(this.rendered){this.onSetValue.apply(this,arguments)}else{this.buffered=true;this.value=arguments}return this},onSetValue:function(h,i){if(arguments.length==1){if(Ext.isArray(h)){Ext.each(h,function(a,c){if(Ext.isObject(a)&&a.setValue){a.setValue(true);if(this.resetOriginal===true){a.originalValue=a.getValue()}}else{var b=this.items.itemAt(c);if(b){b.setValue(a)}}},this)}else{if(Ext.isObject(h)){for(var g in h){var e=this.getBox(g);if(e){e.setValue(h[g])}}}else{this.setValueForItem(h)}}}else{var e=this.getBox(h);if(e){e.setValue(i)}}},beforeDestroy:function(){Ext.destroy(this.panel);Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(b){b=String(b).split(",");this.eachItem(function(a){if(b.indexOf(a.inputValue)>-1){a.setValue(true)}})},getBox:function(c){var d=null;this.eachItem(function(a){if(c==a||a.dataIndex==c||a.id==c||a.getName()==c){d=a;return false}});return d},getValue:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a)}});return b},eachItem:function(c,d){if(this.items&&this.items.each){this.items.each(c,d||this)}},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:true,isComposite:true,combineErrors:true,initComponent:function(){var i=[],h=this.items,j;for(var k=0,g=h.length;k<g;k++){j=h[k];i.push(j.fieldLabel);Ext.apply(j,this.defaults);if(!(k==g-1&&this.skipLastItemMargin)){Ext.applyIf(j,{margins:this.defaultMargins})}}this.fieldLabel=this.fieldLabel||this.buildLabel(i);this.fieldErrors=new Ext.util.MixedCollection(true,function(a){return a.field});this.fieldErrors.on({scope:this,add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments)},onRender:function(j,g){if(!this.el){var i=this.innerCt=new Ext.Container({layout:"hbox",renderTo:j,items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0"});this.el=i.getEl();var h=i.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(h);if(this.combineErrors){this.eachItem(function(a){Ext.apply(a,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[a],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[a],0)})})}var k=this.el.parent().parent().child("label",true);if(k){k.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},onFieldMarkInvalid:function(h,i){var e=h.getName(),g={field:e,error:i};this.fieldErrors.replace(e,g);h.el.addClass(h.invalidClass)},onFieldClearInvalid:function(b){this.fieldErrors.removeKey(b.getName());b.el.removeClass(b.invalidClass)},updateInvalidMark:function(){var d=Ext.isIE6&&Ext.isStrict;if(this.fieldErrors.length==0){this.clearInvalid();if(d){this.clearInvalid.defer(50,this)}}else{var c=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(c);if(d){this.markInvalid(c)}}},validateValue:function(){var b=true;this.eachItem(function(a){if(!a.isValid()){b=false}});return b},buildCombinedErrorMessage:function(i){var j=[],g;for(var k=0,h=i.length;k<h;k++){g=i[k];j.push(String.format("{0}: {1}",g.field,g.error))}return j.join("<br />")},sortErrors:function(){var b=this.items;this.fieldErrors.sort("ASC",function(i,k){var l=function(c){return function(d){return d.getName()==c}};var a=b.findIndexBy(l(i.field)),j=b.findIndexBy(l(k.field));return a<j?-1:1})},reset:function(){this.eachItem(function(b){b.reset()});(function(){this.clearInvalid()}).defer(50,this)},clearInvalidChildren:function(){this.eachItem(function(b){b.clearInvalid()})},buildLabel:function(b){return b.join(", ")},isDirty:function(){if(this.disabled||!this.rendered){return false}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false}});return b},eachItem:function(c,d){if(this.items&&this.items.each){this.items.each(c,d||this)}},onResize:function(i,k,h,j){var g=this.innerCt;if(this.rendered&&g.rendered){g.setSize(i,k)}Ext.form.CompositeField.superclass.onResize.apply(this,arguments)},doLayout:function(g,d){if(this.rendered){var e=this.innerCt;e.forceLayout=this.ownerCt.forceLayout;e.doLayout(g,d)}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this)},setReadOnly:function(b){b=b||true;if(this.rendered){this.eachItem(function(a){a.setReadOnly(b)})}this.readOnly=b},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout()},onDisable:function(){this.eachItem(function(b){b.disable()})},onEnable:function(){this.eachItem(function(b){b.enable()})}});Ext.reg("compositefield",Ext.form.CompositeField);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var d=this.el.up("form")||Ext.getBody();var c=d.child("input[name="+this.el.dom.name+"]:checked",true);return c?c.value:null},onClick:function(){if(this.el.dom.checked!=this.checked){var b=this.getCheckEl().select("input[name="+this.el.dom.name+"]");b.each(function(a){if(a.dom.id==this.id){this.setValue(true)}else{Ext.getCmp(a.dom.id).setValue(false)}},this)}},setValue:function(d){if(typeof d=="boolean"){Ext.form.Radio.superclass.setValue.call(this,d)}else{if(this.rendered){var c=this.getCheckEl().child("input[name="+this.el.dom.name+"][value="+d+"]",true);if(c){Ext.getCmp(c.id).setValue(true)}}}return this},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group")}return this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false}});return b},onSetValue:function(g,d){if(arguments.length>1){var e=this.getBox(g);if(e){e.setValue(d);if(e.checked){this.eachItem(function(a){if(a!==e){a.setValue(false)}})}}}else{this.setValueForItem(g)}},setValueForItem:function(b){b=String(b).split(",")[0];this.eachItem(function(a){a.setValue(b==a.inputValue)})},fireChecked:function(){if(!this.checkTask){this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this)}this.checkTask.delay(10)},bufferChecked:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false}});this.fireEvent("change",this,b)},onDestroy:function(){if(this.checkTask){this.checkTask.cancel();this.checkTask=null}Ext.form.RadioGroup.superclass.onDestroy.call(this)}});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(c,d){Ext.apply(this,d);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}this.items=new Ext.util.MixedCollection(false,function(a){return a.getItemId()});this.addEvents("beforeaction","actionfailed","actioncomplete");if(c){this.initEl(c)}Ext.form.BasicForm.superclass.constructor.call(this)},timeout:30,paramOrder:undefined,paramsAsHash:false,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:false,initEl:function(b){this.el=Ext.get(b);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this)}this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(b){b.stopEvent()},destroy:function(b){if(b!==true){this.items.each(function(a){Ext.destroy(a)});Ext.destroy(this.el)}this.items.clear();this.purgeListeners()},isValid:function(){var b=true;this.items.each(function(a){if(!a.validate()){b=false}});return b},isDirty:function(){var b=false;this.items.each(function(a){if(a.isDirty()){b=true;return false}});return b},doAction:function(c,d){if(Ext.isString(c)){c=new Ext.form.Action.ACTION_TYPES[c](this,d)}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);c.run.defer(100,c)}return this},submit:function(e){e=e||{};if(this.standardSubmit){var g=e.clientValidation===false||this.isValid();if(g){var i=this.el.dom;if(this.url&&Ext.isEmpty(i.action)){i.action=this.url}i.submit()}return g}var h=String.format("{0}submit",this.api?"direct":"");this.doAction(h,e);return this},load:function(d){var c=String.format("{0}load",this.api?"direct":"");this.doAction(c,d);return this},updateRecord:function(c){c.beginEdit();var d=c.fields;d.each(function(b){var a=this.findField(b.name);if(a){c.set(b.name,a.getValue())}},this);c.endEdit();return this},loadRecord:function(b){this.setValues(b.data);return this},beforeAction:function(d){this.items.each(function(a){if(a.isFormField&&a.syncValue){a.syncValue()}});var c=d.options;if(c.waitMsg){if(this.waitMsgTarget===true){this.el.mask(c.waitMsg,"x-mask-loading")}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(c.waitMsg,"x-mask-loading")}else{Ext.MessageBox.wait(c.waitMsg,c.waitTitle||this.waitTitle)}}}},afterAction:function(e,g){this.activeAction=null;var d=e.options;if(d.waitMsg){if(this.waitMsgTarget===true){this.el.unmask()}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask()}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide()}}}if(g){if(d.reset){this.reset()}Ext.callback(d.success,d.scope,[this,e]);this.fireEvent("actioncomplete",this,e)}else{Ext.callback(d.failure,d.scope,[this,e]);this.fireEvent("actionfailed",this,e)}},findField:function(g){var d=this.items.get(g);if(!Ext.isObject(d)){var e=function(a){if(a.isFormField){if(a.dataIndex==g||a.id==g||a.getName()==g){d=a;return false}else{if(a.isComposite){return a.items.each(e)}}}};this.items.each(e)}return d||null},markInvalid:function(k){if(Ext.isArray(k)){for(var o=0,j=k.length;o<j;o++){var i=k[o];var n=this.findField(i.id);if(n){n.markInvalid(i.msg)}}}else{var m,l;for(l in k){if(!Ext.isFunction(k[l])&&(m=this.findField(l))){m.markInvalid(k[l])}}}return this},setValues:function(o){if(Ext.isArray(o)){for(var n=0,j=o.length;n<j;n++){var i=o[n];var m=this.findField(i.id);if(m){m.setValue(i.value);if(this.trackResetOnLoad){m.originalValue=m.getValue()}}}}else{var l,k;for(k in o){if(!Ext.isFunction(o[k])&&(l=this.findField(k))){l.setValue(o[k]);if(this.trackResetOnLoad){l.originalValue=l.getValue()}}}}return this},getValues:function(c){var d=Ext.lib.Ajax.serializeForm(this.el.dom);if(c===true){return d}return Ext.urlDecode(d)},getFieldValues:function(h){var j={},i,g,k;this.items.each(function(a){if(h!==true||a.isDirty()){i=a.getName();g=j[i];k=a.getValue();if(Ext.isDefined(g)){if(Ext.isArray(g)){j[i].push(k)}else{j[i]=[g,k]}}else{j[i]=k}}});return j},clearInvalid:function(){this.items.each(function(b){b.clearInvalid()});return this},reset:function(){this.items.each(function(b){b.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(b){this.items.remove(b);return this},render:function(){this.items.each(function(b){if(b.isFormField&&!b.rendered&&document.getElementById(b.id)){b.applyToMarkup(b.id)}});return this},applyToFields:function(b){this.items.each(function(a){Ext.apply(a,b)});return this},applyIfToFields:function(b){this.items.each(function(a){Ext.applyIf(a,b)});return this},callFieldMethod:function(c,d){d=d||[];this.items.each(function(a){if(Ext.isFunction(a[c])){a[c].apply(a,d)}});return this}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data"}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){var b=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,b)},initFields:function(){var g=this.form;var e=this;var d=function(a){if(e.isField(a)){g.add(a)}else{if(a.findBy&&a!=e){e.applySettings(a);if(a.items&&a.items.each){a.items.each(d,this)}}}};this.items.each(d,this)},applySettings:function(c){var d=c.ownerCt;Ext.applyIf(c,{labelAlign:d.labelAlign,labelWidth:d.labelWidth,itemCls:d.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(c,d){this.initFields();Ext.FormPanel.superclass.onRender.call(this,c,d);this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(true);Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(b){return !!b.setValue&&!!b.getValue&&!!b.markInvalid&&!!b.clearInvalid},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});if(this.monitorValid){this.startMonitoring()}},onAdd:function(b){Ext.FormPanel.superclass.onAdd.call(this,b);this.processAdd(b)},onAddEvent:function(d,c){if(d!==this){this.processAdd(c)}},processAdd:function(b){if(this.isField(b)){this.form.add(b)}else{if(b.findBy){this.applySettings(b);this.form.add.apply(this.form,b.findBy(this.isField))}}},onRemove:function(b){Ext.FormPanel.superclass.onRemove.call(this,b);this.processRemove(b)},onRemoveEvent:function(d,c){if(d!==this){this.processRemove(c)}},processRemove:function(b){if(!this.destroying){if(this.isField(b)){this.form.remove(b)}else{if(b.findBy){Ext.each(b.findBy(this.isField),this.form.remove,this.form)}}}},startMonitoring:function(){if(!this.validTask){this.validTask=new Ext.util.TaskRunner();this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this})}},stopMonitoring:function(){if(this.validTask){this.validTask.stopAll();this.validTask=null}},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable()})}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable()})}},bindHandler:function(){var i=true;this.form.items.each(function(a){if(!a.isValid(true)){i=false;return false}});if(this.fbar){var g=this.fbar.items.items;for(var j=0,h=g.length;j<h;j++){var k=g[j];if(k.formBind===true&&k.disabled===i){k.setDisabled(!i)}}}this.fireEvent("clientvalidation",this,i)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(d,e){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header"}}Ext.form.FieldSet.superclass.onRender.call(this,d,e);if(this.checkboxToggle){var g=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(g);this.checkbox.dom.checked=!this.collapsed;this.mon(this.checkbox,"click",this.onCheckClick,this)}},onCollapse:function(d,c){if(this.checkbox){this.checkbox.dom.checked=false}Ext.form.FieldSet.superclass.onCollapse.call(this,d,c)},onExpand:function(d,c){if(this.checkbox){this.checkbox.dom.checked=true}Ext.form.FieldSet.superclass.onExpand.call(this,d,c)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange")},createFontOptions:function(){var l=[],h=this.fontFamilies,m,j;for(var k=0,i=h.length;k<i;k++){m=h[k];j=m.toLowerCase();l.push('<option value="',j,'" style="font-family:',m,';"',(this.defaultFont==j?' selected="true">':">"),m,"</option>")}return l.join("")},createToolbar:function(k){var m=[];var i=Ext.QuickTips&&Ext.QuickTips.isEnabled();function l(a,c,b){return{itemId:a,cls:"x-btn-icon",iconCls:"x-edit-"+a,enableToggle:c!==false,scope:k,handler:b||k.relayBtnCmd,clickEvent:"mousedown",tooltip:i?k.buttonTips[a]||undefined:undefined,overflowText:k.buttonTips[a].title||undefined,tabIndex:-1}}if(this.enableFont&&!Ext.isSafari2){var j=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});m.push(j,"-")}if(this.enableFormat){m.push(l("bold"),l("italic"),l("underline"))}if(this.enableFontSize){m.push("-",l("increasefontsize",false,this.adjustFont),l("decreasefontsize",false,this.adjustFont))}if(this.enableColors){m.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:i?k.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,listeners:{scope:this,select:function(a,b){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b);this.deferFocus()}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:i?k.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,listeners:{scope:this,select:function(a,b){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",b);this.execCmd("useCSS",true);this.deferFocus()}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+b:b);this.deferFocus()}}},clickEvent:"mousedown"})})}if(this.enableAlignments){m.push("-",l("justifyleft"),l("justifycenter"),l("justifyright"))}if(!Ext.isSafari2){if(this.enableLinks){m.push("-",l("createlink",false,this.createLink))}if(this.enableLists){m.push("-",l("insertorderedlist"),l("insertunorderedlist"))}if(this.enableSourceEdit){m.push("-",l("sourceedit",true,function(a){this.toggleSourceEdit(!this.sourceEditMode)}))}}var h=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:m});if(j){this.fontSelect=j.el;this.mon(this.fontSelect,"change",function(){var a=this.fontSelect.dom.value;this.relayCmd("fontname",a);this.deferFocus()},this)}this.mon(h.el,"click",function(a){a.preventDefault()});this.tb=h;this.tb.doLayout()},onDisable:function(){this.wrap.mask();Ext.form.HtmlEditor.superclass.onDisable.call(this)},onEnable:function(){this.wrap.unmask();Ext.form.HtmlEditor.superclass.onEnable.call(this)},setReadOnly:function(c){Ext.form.HtmlEditor.superclass.setReadOnly.call(this,c);if(this.initialized){this.setDesignMode(!c);var d=this.getEditorBody();if(d){d.style.cursor=this.readOnly?"default":"text"}this.disableItems(c)}},getDocMarkup:function(){var b=Ext.fly(this.iframe).getHeight()-this.iframePad*2;return String.format('<html><head><style type="text/css">body{border: 0; margin: 0; padding: {0}px; height: {1}px; cursor: text}</style></head><body></body></html>',this.iframePad,b)},getEditorBody:function(){var b=this.getDoc();return b.body||b.documentElement},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document)},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(d,e){Ext.form.HtmlEditor.superclass.onRender.call(this,d,e);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;")}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.disableItems(true);this.tb.doLayout();this.createIFrame();if(!this.width){var g=this.el.getSize();this.setSize(g.width,this.height||g.height)}this.resizeEl=this.positionEl=this.wrap},createIFrame:function(){var b=document.createElement("iframe");b.name=Ext.id();b.frameBorder="0";b.style.overflow="auto";this.wrap.dom.appendChild(b);this.iframe=b;this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var c=this.getDoc();this.win=this.getWin();c.open();c.write(this.getDocMarkup());c.close();var d={run:function(){var a=this.getDoc();if(a.body||a.readyState=="complete"){Ext.TaskMgr.stop(d);this.setDesignMode(true);this.initEditor.defer(10,this)}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(d)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var b=this.getDoc();if(!b){return}if(!b.editorInitialized||this.getDesignMode()!="on"){this.initFrame()}}},setDesignMode:function(c){var d;if(d=this.getDoc()){if(this.readOnly){c=false}d.designMode=(/on|true/i).test(String(c).toLowerCase())?"on":"off"}},getDesignMode:function(){var b=this.getDoc();if(!b){return""}return String(b.designMode).toLowerCase()},disableItems:function(b){if(this.fontSelect){this.fontSelect.dom.disabled=b}this.tb.items.each(function(a){if(a.getItemId()!="sourceedit"){a.setDisabled(b)}})},onResize:function(g,k){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(Ext.isNumber(g)){var i=g-this.wrap.getFrameWidth("lr");this.el.setWidth(i);this.tb.setWidth(i);this.iframe.style.width=Math.max(i,0)+"px"}if(Ext.isNumber(k)){var h=k-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(h);this.iframe.style.height=Math.max(h,0)+"px";var j=this.getEditorBody();if(j){j.style.height=Math.max((h-(this.iframePad*2)),0)+"px"}}}},toggleSourceEdit:function(e){var h,g;if(e===undefined){e=!this.sourceEditMode}this.sourceEditMode=e===true;var i=this.tb.getComponent("sourceedit");if(i.pressed!==this.sourceEditMode){i.toggle(this.sourceEditMode);if(!i.xtbHidden){return}}if(this.sourceEditMode){ls=this.getSize();h=Ext.get(this.iframe).getHeight();this.disableItems(true);this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus();this.el.dom.style.height=h+"px"}else{g=parseInt(this.el.dom.style.height,10);if(this.initialized){this.disableItems(this.readOnly)}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();this.setSize(ls);this.iframe.style.height=g+"px"}this.fireEvent("editmodechange",this,this.sourceEditMode)},createLink:function(){var b=prompt(this.createLinkText,this.defaultLinkValue);if(b&&b!="http://"){this.relayCmd("createlink",b)}},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(b){Ext.form.HtmlEditor.superclass.setValue.call(this,b);this.pushValue();return this},cleanHtml:function(b){b=String(b);if(Ext.isWebKit){b=b.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(b.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")){b=b.substring(1)}return b},syncValue:function(){if(this.initialized){var h=this.getEditorBody();var i=h.innerHTML;if(Ext.isWebKit){var e=h.getAttribute("style");var g=e.match(/text-align:(.*?);/i);if(g&&g[1]){i='<div style="'+g[0]+'">'+i+"</div>"}}i=this.cleanHtml(i);if(this.fireEvent("beforesync",this,i)!==false){this.el.dom.value=i;this.fireEvent("sync",this,i)}}},getValue:function(){this[this.sourceEditMode?"pushValue":"syncValue"]();return Ext.form.HtmlEditor.superclass.getValue.call(this)},pushValue:function(){if(this.initialized){var b=this.el.dom.value;if(!this.activated&&b.length<1){b=this.defaultValue}if(this.fireEvent("beforepush",this,b)!==false){this.getEditorBody().innerHTML=b;if(Ext.isGecko){this.setDesignMode(false)}this.setDesignMode(true);this.fireEvent("push",this,b)}}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus()}else{this.el.focus()}},initEditor:function(){try{var k=this.getEditorBody(),h=this.el.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),i,e;h["background-attachment"]="fixed";k.bgProperties="fixed";Ext.DomHelper.applyStyles(k,h);i=this.getDoc();if(i){try{Ext.EventManager.removeAll(i)}catch(j){}}e=this.onEditorEvent.createDelegate(this);Ext.EventManager.on(i,{mousedown:e,dblclick:e,click:e,keyup:e,buffer:100});if(Ext.isGecko){Ext.EventManager.on(i,"keypress",this.applyCommand,this)}if(Ext.isIE||Ext.isWebKit||Ext.isOpera){Ext.EventManager.on(i,"keydown",this.fixKeys,this)}i.editorInitialized=true;this.initialized=true;this.pushValue();this.setReadOnly(this.readOnly);this.fireEvent("initialize",this)}catch(j){}},onDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask)}if(this.rendered){Ext.destroy(this.tb);var d=this.getDoc();if(d){try{Ext.EventManager.removeAll(d);for(var g in d){delete d[g]}}catch(e){}}if(this.wrap){this.wrap.dom.innerHTML="";this.wrap.remove()}}if(this.el){this.el.removeAllListeners();this.el.remove()}this.purgeListeners()},onFirstFocus:function(){this.activated=true;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var e=this.win.getSelection();if(!e.focusNode||e.focusNode.nodeType!=3){var d=e.getRangeAt(0);d.selectNodeContents(this.getEditorBody());d.collapse(true);this.deferFocus()}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false)}catch(g){}}this.fireEvent("activate",this)},adjustFont:function(e){var h=e.getItemId()=="increasefontsize"?1:-1,i=this.getDoc(),g=parseInt(i.queryCommandValue("FontSize")||2,10);if((Ext.isSafari&&!Ext.isSafari2)||Ext.isChrome||Ext.isAir){if(g<=10){g=1+h}else{if(g<=13){g=2+h}else{if(g<=16){g=3+h}else{if(g<=18){g=4+h}else{if(g<=24){g=5+h}else{g=6+h}}}}}g=g.constrain(1,6)}else{if(Ext.isSafari){h*=2}g=Math.max(1,g+h)+(Ext.isSafari?"px":0)}this.execCmd("FontSize",g)},onEditorEvent:function(b){this.updateToolbar()},updateToolbar:function(){if(this.readOnly){return}if(!this.activated){this.onFirstFocus();return}var d=this.tb.items.map,g=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var e=(g.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(e!=this.fontSelect.dom.value){this.fontSelect.dom.value=e}}if(this.enableFormat){d.bold.toggle(g.queryCommandState("bold"));d.italic.toggle(g.queryCommandState("italic"));d.underline.toggle(g.queryCommandState("underline"))}if(this.enableAlignments){d.justifyleft.toggle(g.queryCommandState("justifyleft"));d.justifycenter.toggle(g.queryCommandState("justifycenter"));d.justifyright.toggle(g.queryCommandState("justifyright"))}if(!Ext.isSafari2&&this.enableLists){d.insertorderedlist.toggle(g.queryCommandState("insertorderedlist"));d.insertunorderedlist.toggle(g.queryCommandState("insertunorderedlist"))}Ext.menu.MenuMgr.hideAll();this.syncValue()},relayBtnCmd:function(b){this.relayCmd(b.getItemId())},relayCmd:function(c,d){(function(){this.focus();this.execCmd(c,d);this.updateToolbar()}).defer(10,this)},execCmd:function(d,e){var g=this.getDoc();g.execCommand(d,false,e===undefined?null:e);this.syncValue()},applyCommand:function(c){if(c.ctrlKey){var g=c.getCharCode(),e;if(g>0){g=String.fromCharCode(g);switch(g){case"b":e="bold";break;case"i":e="italic";break;case"u":e="underline";break}if(e){this.win.focus();this.execCmd(e);this.deferFocus();c.preventDefault()}}}},insertAtCursor:function(g){if(!this.activated){return}if(Ext.isIE){this.win.focus();var d=this.getDoc(),e=d.selection.createRange();if(e){e.pasteHTML(g);this.syncValue();this.deferFocus()}}else{this.win.focus();this.execCmd("InsertHTML",g);this.deferFocus()}},fixKeys:function(){if(Ext.isIE){return function(i){var h=i.getKey(),j=this.getDoc(),e;if(h==i.TAB){i.stopEvent();e=j.selection.createRange();if(e){e.collapse(true);e.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}else{if(h==i.ENTER){e=j.selection.createRange();if(e){var k=e.parentElement();if(!k||k.tagName.toLowerCase()!="li"){i.stopEvent();e.pasteHTML("<br />");e.collapse(false);e.select()}}}}}}else{if(Ext.isOpera){return function(c){var d=c.getKey();if(d==c.TAB){c.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}}else{if(Ext.isWebKit){return function(c){var d=c.getKey();if(d==c.TAB){c.stopEvent();this.execCmd("InsertText","\t");this.deferFocus()}else{if(d==c.ENTER){c.stopEvent();this.execCmd("InsertHtml","<br /><br />");this.deferFocus()}}}}}}}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:undefined,maxValue:undefined,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){if(Ext.isDefined(this.minValue)){this.setMinValue(this.minValue,true)}if(Ext.isDefined(this.maxValue)){this.setMaxValue(this.maxValue,true)}if(!this.store){this.generateStore(true)}Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(c,d){this.setLimit(c,true,d);return this},setMaxValue:function(c,d){this.setLimit(c,false,d);return this},generateStore:function(e){var i=this.minValue||new Date(this.initDate).clearTime(),g=this.maxValue||new Date(this.initDate).clearTime().add("mi",(24*60)-1),h=[];while(i<=g){h.push(i.dateFormat(this.format));i=i.add("mi",this.increment)}this.bindStore(h,e)},setLimit:function(d,i,h){var j;if(Ext.isString(d)){j=this.parseDate(d)}else{if(Ext.isDate(d)){j=d}}if(j){var k=new Date(this.initDate).clearTime();k.setHours(j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());this[i?"minValue":"maxValue"]=k;if(!h){this.generateStore()}}},getValue:function(){var b=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(b))||""},setValue:function(b){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)))},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(m){if(!m||Ext.isDate(m)){return m}var l=this.initDate+" ",n=this.initDateFormat+" ",i=Date.parseDate(l+m,n+this.format),q=this.altFormats;if(!i&&q){if(!this.altFormatsArray){this.altFormatsArray=q.split("|")}for(var o=0,p=this.altFormatsArray,k=p.length;o<k&&!i;o++){i=Date.parseDate(l+m,n+p[o])}}return i}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:true,tipText:null,actionMode:"wrap",initComponent:function(){var c=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,["vertical","minValue","maxValue","decimalPrecision","keyIncrement","increment","clickToChange","animate"]);if(this.useTips){var d=this.tipText?{getText:this.tipText}:{};c.plugins=[new Ext.slider.Tip(d)]}this.slider=new Ext.Slider(c);Ext.form.SliderField.superclass.initComponent.call(this)},onRender:function(c,d){this.autoCreate={id:this.id,name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,c,d);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.slider.render(this.wrap)},onResize:function(e,i,h,g){Ext.form.SliderField.superclass.onResize.call(this,e,i,h,g);this.slider.setSize(e,i)},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);this.slider.on("change",this.onChange,this)},onChange:function(c,d){this.setValue(d,undefined,true)},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);this.slider.enable()},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable()},beforeDestroy:function(){Ext.destroy(this.slider);Ext.form.SliderField.superclass.beforeDestroy.call(this)},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0])},setMinValue:function(b){this.slider.setMinValue(b);return this},setMaxValue:function(b){this.slider.setMaxValue(b);return this},setValue:function(g,d,e){if(!e){this.slider.setValue(g,d)}return Ext.form.SliderField.superclass.setValue.call(this,this.slider.getValue())},getValue:function(){return this.slider.getValue()}});Ext.reg("sliderfield",Ext.form.SliderField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(c,d){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId)}}Ext.form.Label.superclass.onRender.call(this,c,d)},setText:function(e,d){var g=d===false;this[!g?"text":"html"]=e;delete this[g?"text":"html"];if(this.rendered){this.el.dom.innerHTML=d!==false?Ext.util.Format.htmlEncode(e):e}return this}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(c,d){this.form=c;this.options=d||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(b){},success:function(b){},handleResponse:function(b){},failure:function(b){this.response=b;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(b){this.response=b;if(!b.responseText&&!b.responseXML){return true}this.result=this.handleResponse(b);return this.result},getUrl:function(g){var e=this.options.url||this.form.url||this.form.el.dom.action;if(g){var d=this.getParams();if(d){e=Ext.urlAppend(e,d)}}return e},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var d=this.form.baseParams;var c=this.options.params;if(c){if(typeof c=="object"){c=Ext.urlEncode(Ext.applyIf(c,d))}else{if(typeof c=="string"&&d){c+="&"+Ext.urlEncode(d)}}}else{if(d){c=Ext.urlEncode(d)}}return c},createCallback:function(b){var b=b||{};return{success:this.success,failure:this.failure,scope:this,timeout:(b.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined}}};Ext.form.Action.Submit=function(c,d){Ext.form.Action.Submit.superclass.constructor.call(this,c,d)};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var j=this.options,i=this.getMethod(),k=i=="GET";if(j.clientValidation===false||this.form.isValid()){if(j.submitEmptyText===false){var h=this.form.items,g=[];h.each(function(a){if(a.el.getValue()==a.emptyText){g.push(a);a.el.dom.value=""}})}Ext.Ajax.request(Ext.apply(this.createCallback(j),{form:this.form.el.dom,url:this.getUrl(k),method:i,headers:j.headers,params:!k?this.getParams():null,isUpload:this.form.fileUpload}));if(j.submitEmptyText===false){Ext.each(g,function(a){if(a.applyEmptyText){a.applyEmptyText()}})}}else{if(j.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},success:function(c){var d=this.processResponse(c);if(d===true||d.success){this.form.afterAction(this,true);return}if(d.errors){this.form.markInvalid(d.errors)}this.failureType=Ext.form.Action.SERVER_INVALID;this.form.afterAction(this,false)},handleResponse:function(m){if(this.form.errorReader){var h=this.form.errorReader.read(m);var j=[];if(h.records){for(var l=0,i=h.records.length;l<i;l++){var k=h.records[l];j[l]=k.data}}if(j.length<1){j=null}return{success:h.success,errors:j}}return Ext.decode(m.responseText)}});Ext.form.Action.Load=function(c,d){Ext.form.Action.Load.superclass.constructor.call(this,c,d);this.reader=this.form.reader};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}))},success:function(c){var d=this.processResponse(c);if(d===true||!d.success||!d.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return}this.form.clearInvalid();this.form.setValues(d.data);this.form.afterAction(this,true)},handleResponse:function(d){if(this.form.reader){var e=this.form.reader.read(d);var g=e.records&&e.records[0]?e.records[0].data:null;return{success:e.success,data:g}}return Ext.decode(d.responseText)}});Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(c,d){Ext.form.Action.DirectLoad.superclass.constructor.call(this,c,d)},type:"directload",run:function(){var b=this.getParams();b.push(this.success,this);this.form.api.load.apply(window,b)},getParams:function(){var o=[],k={};var m=this.form.baseParams;var l=this.options.params;Ext.apply(k,l,m);var i=this.form.paramOrder;if(i){for(var n=0,j=i.length;n<j;n++){o.push(k[i[n]])}}else{if(this.form.paramsAsHash){o.push(k)}}return o},processResponse:function(b){this.result=b;return b},success:function(d,c){if(c.type==Ext.Direct.exceptions.SERVER){d={}}Ext.form.Action.DirectLoad.superclass.success.call(this,d)}});Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(c,d){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,c,d)},type:"directsubmit",run:function(){var b=this.options;if(b.clientValidation===false||this.form.isValid()){this.success.params=this.getParams();this.form.api.submit(this.form.el.dom,this.success,this)}else{if(b.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},getParams:function(){var g={};var e=this.form.baseParams;var d=this.options.params;Ext.apply(g,d,e);return g},processResponse:function(b){this.result=b;return b},success:function(d,c){if(c.type==Ext.Direct.exceptions.SERVER){d={}}Ext.form.Action.DirectSubmit.superclass.success.call(this,d)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};Ext.form.VTypes=function(){var i=/^[a-zA-Z_]+$/,h=/^[a-zA-Z0-9_]+$/,e=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,g=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return e.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@]/i,url:function(a){return g.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return i.test(a)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return h.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:false,autoExpandMax:1000,autoExpandMin:50,columnLines:false,ddText:"{0} selected row{1}",deferRowRender:true,enableColumnHide:true,enableColumnMove:true,enableDragDrop:false,enableHdMenu:true,loadMask:false,minColumnWidth:25,stripeRows:false,trackMouseOver:true,stateEvents:["columnmove","columnresize","sortchange","groupchange"],view:null,bubbleEvents:[],rendered:false,viewReady:false,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines"}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns}if(this.ds){this.store=this.ds;delete this.ds}if(this.cm){this.colModel=this.cm;delete this.cm}if(this.sm){this.selModel=this.sm;delete this.sm}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","groupchange","reconfigure","viewready")},onRender:function(i,g){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var h=this.getGridEl();this.el.addClass("x-grid-panel");this.mon(h,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu});this.relayEvents(h,["mousedown","mouseup","mouseover","mouseout","keypress","keydown"]);var c=this.getView();c.init(this);c.render();this.getSelectionModel().init(this)},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask))}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100})},applyState:function(u){var i=this.colModel,q=u.columns,n=this.store,c,p,o;if(q){for(var s=0,r=q.length;s<r;s++){c=q[s];p=i.getColumnById(c.id);if(p){p.hidden=c.hidden;p.width=c.width;o=i.getIndexById(c.id);if(o!=s){i.moveColumn(o,s)}}}}if(n){c=u.sort;if(c){n[n.remoteSort?"setDefaultSort":"sort"](c.field,c.direction)}c=u.group;if(n.groupBy){if(c){n.groupBy(c)}else{n.clearGrouping()}}}var t=Ext.apply({},u);delete t.columns;delete t.sort;Ext.grid.GridPanel.superclass.applyState.call(this,t)},getState:function(){var k={columns:[]},c=this.store,l,i;for(var m=0,j;(j=this.colModel.config[m]);m++){k.columns[m]={id:j.id,width:j.width};if(j.hidden){k.columns[m].hidden=true}}if(c){l=c.getSortState();if(l){k.sort=l}if(c.getGroupState){i=c.getGroupState();if(i){k.group=i}}}return k},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);var b=this.view;this.on("bodyresize",b.layout,b);b.layout();if(this.deferRowRender){if(!this.deferRowRenderTask){this.deferRowRenderTask=new Ext.util.DelayedTask(b.afterRender,this.view)}this.deferRowRenderTask.delay(10)}else{b.afterRender()}this.viewReady=true},reconfigure:function(e,d){var g=this.rendered;if(g){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:e},this.initialConfig.loadMask))}}if(this.view){this.view.initData(e,d)}this.store=e;this.colModel=d;if(g){this.view.refresh(true)}this.fireEvent("reconfigure",this,e,d)},onDestroy:function(){if(this.deferRowRenderTask&&this.deferRowRenderTask.cancel){this.deferRowRenderTask.cancel()}if(this.rendered){Ext.destroy(this.view,this.loadMask)}else{if(this.store&&this.store.autoDestroy){this.store.destroy()}}Ext.destroy(this.colModel,this.selModel);this.store=this.selModel=this.colModel=this.view=this.loadMask=null;Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(d,c){this.view.processEvent(d,c)},onClick:function(b){this.processEvent("click",b)},onMouseDown:function(b){this.processEvent("mousedown",b)},onContextMenu:function(c,d){this.processEvent("contextmenu",c)},onDblClick:function(b){this.processEvent("dblclick",b)},walkCells:function(l,s,t,q,m){var n=this.colModel,p=n.getColumnCount(),u=this.store,o=u.getCount(),r=true;if(t<0){if(s<0){l--;r=false}while(l>=0){if(!r){s=p-1}r=false;while(s>=0){if(q.call(m||this,l,s,n)===true){return[l,s]}s--}l--}}else{if(s>=p){l++;r=false}while(l<o){if(!r){s=0}r=false;while(s<p){if(q.call(m||this,l,s,n)===true){return[l,s]}s++}l++}}return null},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null)}return this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig)}return this.view},getDragDropText:function(){var b=this.selModel.getCount();return String.format(this.ddText,b,b==1?"":"s")}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:true,scrollOffset:undefined,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,constructor:function(b){Ext.apply(this,b);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this)},initTemplates:function(){var g=this.templates||{};if(!g.master){g.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset" style="{ostyle}">{header}</div></div><div class="x-clear"></div></div>','<div class="x-grid3-scroller"><div class="x-grid3-body" style="{bstyle}">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>")}if(!g.header){g.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>")}if(!g.hcell){g.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>")}if(!g.body){g.body=new Ext.Template("{rows}")}if(!g.row){g.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",(this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':""),"</tbody></table></div>")}if(!g.cell){g.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>")}for(var e in g){var d=g[e];if(d&&Ext.isFunction(d.compile)&&!d.compiled){d.disableFormats=true;d.compile()}}this.templates=g;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","")},fly:function(b){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body)}this._flyweight.dom=b;return this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var g=Ext.Element;var d=this.grid.getGridEl().dom.firstChild;var e=d.childNodes;this.el=new g(d);this.mainWrap=new g(e[0]);this.mainHd=new g(this.mainWrap.dom.firstChild);if(this.grid.hideHeaders){this.mainHd.setDisplayed(false)}this.innerHd=this.mainHd.dom.firstChild;this.scroller=new g(this.mainWrap.dom.childNodes[1]);if(this.forceFit){this.scroller.setStyle("overflow-x","hidden")}this.mainBody=new g(this.scroller.dom.firstChild);this.focusEl=new g(this.scroller.dom.childNodes[1]);this.focusEl.swallowEvent("click",true);this.resizeMarker=new g(e[1]);this.resizeProxy=new g(e[2])},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(b){if(!b){return false}return this.fly(b).findParent(this.cellSelector,this.cellSelectorDepth)},findCellIndex:function(g,d){var e=this.findCell(g);if(e&&(!d||this.fly(e).hasClass(d))){return this.getCellIndex(e)}return false},getCellIndex:function(c){if(c){var d=c.className.match(this.colRe);if(d&&d[1]){return this.cm.getIndexById(d[1])}}return false},findHeaderCell:function(c){var d=this.findCell(c);return d&&this.fly(d).hasClass(this.hdCls)?d:null},findHeaderIndex:function(b){return this.findCellIndex(b,this.hdCls)},findRow:function(b){if(!b){return false}return this.fly(b).findParent(this.rowSelector,this.rowSelectorDepth)},findRowIndex:function(d){var c=this.findRow(d);return c?c.rowIndex:false},findRowBody:function(b){if(!b){return false}return this.fly(b).findParent(this.rowBodySelector,this.rowBodySelectorDepth)},getRow:function(b){return this.getRows()[b]},getCell:function(c,d){return this.getRow(c).getElementsByTagName("td")[d]},getHeaderCell:function(b){return this.mainHd.dom.getElementsByTagName("td")[b]},addRowClass:function(g,e){var d=this.getRow(g);if(d){this.fly(d).addClass(e)}},removeRowClass:function(g,e){var d=this.getRow(g);if(d){this.fly(d).removeClass(e)}},removeRow:function(b){Ext.removeNode(this.getRow(b));this.syncFocusEl(b)},removeRows:function(i,g){var e=this.mainBody.dom;for(var h=i;h<=g;h++){Ext.removeNode(e.childNodes[i])}this.syncFocusEl(i)},getScrollState:function(){var b=this.scroller.dom;return{left:b.scrollLeft,top:b.scrollTop}},restoreScroll:function(d){var c=this.scroller.dom;c.scrollLeft=d.left;c.scrollTop=d.top},scrollToTop:function(){this.scroller.dom.scrollTop=0;this.scroller.dom.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var b=this.scroller.dom;this.grid.fireEvent("bodyscroll",b.scrollLeft,b.scrollTop)},syncHeaderScroll:function(){var b=this.scroller.dom;this.innerHd.scrollLeft=b.scrollLeft;this.innerHd.scrollLeft=b.scrollLeft},updateSortIcon:function(e,g){var h=this.sortClasses;var i=this.mainHd.select("td").removeClass(h);i.item(e).addClass(h[g=="DESC"?1:0])},updateAllColumnWidths:function(){var r=this.getTotalWidth(),j=this.cm.getColumnCount(),p=[],q,t;for(t=0;t<j;t++){p[t]=this.getColumnWidth(t)}this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=r;this.mainBody.dom.style.width=r;for(t=0;t<j;t++){var s=this.getHeaderCell(t);s.style.width=p[t]}var n=this.getRows(),i,o;for(t=0,q=n.length;t<q;t++){i=n[t];i.style.width=r;if(i.firstChild){i.firstChild.style.width=r;o=i.firstChild.rows[0];for(var u=0;u<j;u++){o.childNodes[u].style.width=p[u]}}}this.onAllColumnWidthsUpdated(p,r)},updateColumnWidth:function(r,s){var l=this.getColumnWidth(r);var o=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=o;this.mainBody.dom.style.width=o;var p=this.getHeaderCell(r);p.style.width=l;var m=this.getRows(),i;for(var q=0,n=m.length;q<n;q++){i=m[q];i.style.width=o;if(i.firstChild){i.firstChild.style.width=o;i.firstChild.rows[0].childNodes[r].style.width=l}}this.onColumnWidthUpdated(r,l,o)},updateColumnHidden:function(s,o){var p=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=p;this.mainBody.dom.style.width=p;var m=o?"none":"";var q=this.getHeaderCell(s);q.style.display=m;var l=this.getRows(),i;for(var r=0,n=l.length;r<n;r++){i=l[r];i.style.width=p;if(i.firstChild){i.firstChild.style.width=p;i.firstChild.rows[0].childNodes[s].style.display=m}}this.onColumnHiddenUpdated(s,o,p);delete this.lastViewWidth;this.layout()},doRender:function(Q,B,K,T,F,D){var P=this.templates,R=P.cell,i=P.row,I=F-1;var S="width:"+this.getTotalWidth()+";";var M=[],L=[],J={tstyle:S},G={},N,O;for(var E=0,A=B.length;E<A;E++){O=B[E];L=[];var H=E+T;for(var C=0;C<F;C++){N=Q[C];G.id=N.id;G.css=C===0?"x-grid3-cell-first ":(C==I?"x-grid3-cell-last ":"");G.attr=G.cellAttr="";G.style=N.style;G.value=N.renderer.call(N.scope,O.data[N.name],G,O,H,C,K);if(Ext.isEmpty(G.value)){G.value="&#160;"}if(this.markDirty&&O.dirty&&Ext.isDefined(O.modified[N.name])){G.css+=" x-grid3-dirty-cell"}L[L.length]=R.apply(G)}var j=[];if(D&&((H+1)%2===0)){j[0]="x-grid3-row-alt"}if(O.dirty){j[1]=" x-grid3-dirty-row"}J.cols=F;if(this.getRowClass){j[2]=this.getRowClass(O,H,J,K)}J.alt=j.join(" ");J.cells=L.join("");M[M.length]=i.apply(J)}return M.join("")},processRows:function(h,j){if(!this.ds||this.ds.getCount()<1){return}var k=this.getRows(),i=k.length,m,l;j=j||!this.grid.stripeRows;h=h||0;for(m=0;m<i;m++){l=k[m];if(l){l.rowIndex=m;if(!j){l.className=l.className.replace(this.rowClsRe," ");if((m+1)%2===0){l.className+=" x-grid3-row-alt"}}}}if(h===0){Ext.fly(k[0]).addClass(this.firstRowCls)}Ext.fly(k[k.length-1]).addClass(this.lastRowCls)},afterRender:function(){if(!this.ds||!this.cm){return}this.mainBody.dom.innerHTML=this.renderRows()||"&#160;";this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText()}this.grid.fireEvent("viewready",this.grid)},renderUI:function(){var k=this.templates,i=this.renderHeaders(),h=k.body.apply({rows:"&#160;"});var g=k.master.apply({body:h,header:i,ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"});var j=this.grid;j.getGridEl().dom.innerHTML=g;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.scroller.on("scroll",this.syncScroll,this);if(j.enableColumnResize!==false){this.splitZone=new Ext.grid.GridView.SplitDragZone(j,this.mainHd.dom)}if(j.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(j,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(j,this.mainHd.dom)}if(j.enableHdMenu!==false){this.hmenu=new Ext.menu.Menu({id:j.id+"-hctx"});this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(j.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:j.id+"-hcols-menu"});this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick});this.hmenu.add("-",{itemId:"columns",hideOnClick:false,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})}this.hmenu.on("itemclick",this.handleHdMenuClick,this)}if(j.trackMouseOver){this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut})}if(j.enableDragDrop||j.enableDrag){this.dragZone=new Ext.grid.GridDragZone(j,{ddGroup:j.ddGroup||"GridDD"})}this.updateHeaderSortState()},processEvent:function(q,n){var p=n.getTarget(),o=this.grid,l=this.findHeaderIndex(p);o.fireEvent(q,n);if(l!==false){o.fireEvent("header"+q,o,l,n)}else{var m=this.findRowIndex(p),e,g;if(m!==false){o.fireEvent("row"+q,o,m,n);e=this.findCellIndex(p);if(e!==false){o.fireEvent("cell"+q,o,m,e,n)}else{g=this.findRowBody(p);if(g){o.fireEvent("rowbody"+q,o,m,n)}}}else{o.fireEvent("container"+q,o,n)}}},layout:function(){if(!this.mainBody){return}var m=this.grid;var j=m.getGridEl();var g=j.getSize(true);var c=g.width;if(!m.hideHeaders&&(c<20||g.height<20)){return}if(m.autoHeight){this.scroller.dom.style.overflow="visible";if(Ext.isWebKit){this.scroller.dom.style.position="static"}}else{this.el.setSize(g.width,g.height);var k=this.mainHd.getHeight();var l=g.height-(k);this.scroller.setSize(c,l);if(this.innerHd){this.innerHd.style.width=(c)+"px"}}if(this.forceFit){if(this.lastViewWidth!=c){this.fitColumns(false,false);this.lastViewWidth=c}}else{this.autoExpand();this.syncHeaderScroll()}this.onLayout(c,l)},onLayout:function(d,c){},onColumnWidthUpdated:function(g,e,d){},onAllColumnWidthsUpdated:function(d,c){},onColumnHiddenUpdated:function(d,g,e){},updateColumnText:function(d,c){},afterMove:function(b){},init:function(b){this.grid=b;this.initTemplates();this.initData(b.store,b.colModel);this.initUI(b)},getColumnId:function(b){return this.cm.getColumnId(b)},getOffsetWidth:function(){return(this.cm.getTotalWidth()+this.getScrollOffset())+"px"},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},renderHeaders:function(){var q=this.cm,m=this.templates,o=m.hcell,i=[],l={},k=q.getColumnCount(),n=k-1;for(var p=0;p<k;p++){l.id=q.getColumnId(p);l.value=q.getColumnHeader(p)||"";l.style=this.getColumnStyle(p,true);l.tooltip=this.getColumnTooltip(p);l.css=p===0?"x-grid3-cell-first ":(p==n?"x-grid3-cell-last ":"");if(q.config[p].align=="right"){l.istyle="padding-right:16px"}else{delete l.istyle}i[i.length]=o.apply(l)}return m.header.apply({cells:i.join(""),tstyle:"width:"+this.getTotalWidth()+";"})},getColumnTooltip:function(d){var c=this.cm.getColumnTooltip(d);if(c){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+c+'"'}else{return'title="'+c+'"'}}return""},beforeUpdate:function(){this.grid.stopEditing(true)},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=this.getTotalWidth()},focusRow:function(b){this.focusCell(b,0,false)},focusCell:function(g,e,d){this.syncFocusEl(this.ensureVisible(g,e,d));if(Ext.isGecko){this.focusEl.focus()}else{this.focusEl.focus.defer(1,this.focusEl)}},resolveCell:function(k,n,l){if(!Ext.isNumber(k)){k=k.rowIndex}if(!this.ds){return null}if(k<0||k>=this.ds.getCount()){return null}n=(n!==undefined?n:0);var o=this.getRow(k),j=this.cm,m=j.getColumnCount(),i;if(!(l===false&&n===0)){while(n<m&&j.isHidden(n)){n++}i=this.getCell(k,n)}return{row:o,cell:i}},getResolvedXY:function(g){if(!g){return null}var c=this.scroller.dom,h=g.cell,i=g.row;return h?Ext.fly(h).getXY():[this.el.getX(),Ext.fly(i).getY()]},syncFocusEl:function(h,g,i){var e=h;if(!Ext.isArray(e)){h=Math.min(h,Math.max(0,this.getRows().length-1));if(isNaN(h)){return}e=this.getResolvedXY(this.resolveCell(h,g,i))}this.focusEl.setXY(e||this.scroller.getXY())},ensureVisible:function(I,D,E){var c=this.resolveCell(I,D,E);if(!c||!c.row){return}var z=c.row,C=c.cell,v=this.scroller.dom,J=0,F=z,u=this.el.dom;while(F&&F!=u){J+=F.offsetTop;F=F.offsetParent}J-=this.mainHd.dom.offsetHeight;u=parseInt(v.scrollTop,10);var p=J+z.offsetHeight,H=v.clientHeight,x=u+H;if(J<u){v.scrollTop=J}else{if(p>x){v.scrollTop=p-H}}if(E!==false){var y=parseInt(C.offsetLeft,10);var A=y+C.offsetWidth;var B=parseInt(v.scrollLeft,10);var G=B+v.clientWidth;if(y<B){v.scrollLeft=y}else{if(A>G){v.scrollLeft=A-v.clientWidth}}}return this.getResolvedXY(c)},insertRows:function(k,l,o,m){var p=k.getCount()-1;if(!m&&l===0&&o>=p){this.fireEvent("beforerowsinserted",this,l,o);this.refresh();this.fireEvent("rowsinserted",this,l,o)}else{if(!m){this.fireEvent("beforerowsinserted",this,l,o)}var j=this.renderRows(l,o),n=this.getRow(l);if(n){if(l===0){Ext.fly(this.getRow(0)).removeClass(this.firstRowCls)}Ext.DomHelper.insertHtml("beforeBegin",n,j)}else{var q=this.getRow(p-1);if(q){Ext.fly(q).removeClass(this.lastRowCls)}Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,j)}if(!m){this.fireEvent("rowsinserted",this,l,o);this.processRows(l)}else{if(l===0||l>=p){Ext.fly(this.getRow(l)).addClass(l===0?this.firstRowCls:this.lastRowCls)}}}this.syncFocusEl(l)},deleteRows:function(e,g,d){if(e.getRowCount()<1){this.refresh()}else{this.fireEvent("beforerowsdeleted",this,g,d);this.removeRows(g,d);this.processRows(g);this.fireEvent("rowsdeleted",this,g,d)}},getColumnStyle:function(g,i){var e=!i?(this.cm.config[g].css||""):"";e+="width:"+this.getColumnWidth(g)+";";if(this.cm.isHidden(g)){e+="display:none;"}var h=this.cm.config[g].align;if(h){e+="text-align:"+h+";"}return e},getColumnWidth:function(c){var d=this.cm.getColumnWidth(c);if(Ext.isNumber(d)){return(Ext.isBorderBox||(Ext.isWebKit&&!Ext.isSafari2)?d:(d-this.borderWidth>0?d-this.borderWidth:0))+"px"}return d},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(F,C,B){var t=this.cm,A;var z=t.getTotalWidth(false);var I=this.grid.getGridEl().getWidth(true)-this.getScrollOffset();if(I<20){return}var E=I-z;if(E===0){return false}var y=t.getColumnCount(true);var J=y-(Ext.isNumber(B)?1:0);if(J===0){J=1;B=undefined}var i=t.getColumnCount();var v=[];var x=0;var G=0;var u;for(A=0;A<i;A++){if(!t.isHidden(A)&&!t.isFixed(A)&&A!==B){u=t.getColumnWidth(A);v.push(A);x=A;v.push(u);G+=u}}var H=(I-t.getTotalWidth())/G;while(v.length){u=v.pop();A=v.pop();t.setColumnWidth(A,Math.max(this.grid.minColumnWidth,Math.floor(u+u*H)),true)}if((z=t.getTotalWidth(false))>I){var D=J!=y?B:x;t.setColumnWidth(D,Math.max(1,t.getColumnWidth(D)-(z-I)),true)}if(F!==true){this.updateAllColumnWidths()}return true},autoExpand:function(g){var m=this.grid,k=this.cm;if(!this.userResized&&m.autoExpandColumn){var p=k.getTotalWidth(false);var l=this.grid.getGridEl().getWidth(true)-this.getScrollOffset();if(p!=l){var n=k.getIndexById(m.autoExpandColumn);var o=k.getColumnWidth(n);var q=Math.min(Math.max(((l-p)+o),m.autoExpandMin),m.autoExpandMax);if(q!=o){k.setColumnWidth(n,q,true);if(g!==true){this.updateColumnWidth(n,q)}}}}},getColumnData:function(){var j=[],h=this.cm,i=h.getColumnCount();for(var k=0;k<i;k++){var g=h.getDataIndex(k);j[k]={name:(!Ext.isDefined(g)?this.ds.fields.get(k).name:g),renderer:h.getRenderer(k),scope:h.getRendererScope(k),id:h.getColumnId(k),style:this.getColumnStyle(k)}}return j},renderRows:function(l,q){var p=this.grid,n=p.colModel,s=p.store,g=p.stripeRows;var m=n.getColumnCount();if(s.getCount()<1){return""}var o=this.getColumnData();l=l||0;q=!Ext.isDefined(q)?s.getCount()-1:q;var r=s.getRange(l,q);return this.doRender(o,r,s,l,m,g)},renderBody:function(){var b=this.renderRows()||"&#160;";return this.templates.body.apply({rows:b})},refreshRow:function(e){var g=this.ds,d;if(Ext.isNumber(e)){d=e;e=g.getAt(d);if(!e){return}}else{d=g.indexOf(e);if(d<0){return}}this.insertRows(g,d,d,true);this.getRow(d).rowIndex=d;this.onRemove(g,e,d+1,true);this.fireEvent("rowupdated",this,d,e)},refresh:function(c){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var d=this.renderBody();this.mainBody.update(d).setWidth(this.getTotalWidth());if(c===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")}},updateHeaderSortState:function(){var d=this.ds.getSortState();if(!d){return}if(!this.sortState||(this.sortState.field!=d.field||this.sortState.direction!=d.direction)){this.grid.fireEvent("sortchange",this.grid,d)}this.sortState=d;var g=this.cm.findColumnIndex(d.field);if(g!=-1){var e=d.direction;this.updateSortIcon(g,e)}},clearHeaderSortState:function(){if(!this.sortState){return}this.grid.fireEvent("sortchange",this.grid,null);this.mainHd.select("td").removeClass(this.sortClasses);delete this.sortState},destroy:function(){if(this.scrollToTopTask&&this.scrollToTopTask.cancel){this.scrollToTopTask.cancel()}if(this.colMenu){Ext.menu.MenuMgr.unregister(this.colMenu);this.colMenu.destroy();delete this.colMenu}if(this.hmenu){Ext.menu.MenuMgr.unregister(this.hmenu);this.hmenu.destroy();delete this.hmenu}this.initData(null,null);this.purgeListeners();Ext.fly(this.innerHd).un("click",this.handleHdDown,this);if(this.grid.enableColumnMove){Ext.destroy(this.columnDrag.el,this.columnDrag.proxy.ghost,this.columnDrag.proxy.el,this.columnDrop.el,this.columnDrop.proxyTop,this.columnDrop.proxyBottom,this.columnDrag.dragData.ddel,this.columnDrag.dragData.header);if(this.columnDrag.proxy.anim){Ext.destroy(this.columnDrag.proxy.anim)}delete this.columnDrag.proxy.ghost;delete this.columnDrag.dragData.ddel;delete this.columnDrag.dragData.header;this.columnDrag.destroy();delete Ext.dd.DDM.locationCache[this.columnDrag.id];delete this.columnDrag._domRef;delete this.columnDrop.proxyTop;delete this.columnDrop.proxyBottom;this.columnDrop.destroy();delete Ext.dd.DDM.locationCache["gridHeader"+this.grid.getGridEl().id];delete this.columnDrop._domRef;delete Ext.dd.DDM.ids[this.columnDrop.ddGroup]}if(this.splitZone){this.splitZone.destroy();delete this.splitZone._domRef;delete Ext.dd.DDM.ids["gridSplitters"+this.grid.getGridEl().id]}Ext.fly(this.innerHd).removeAllListeners();Ext.removeNode(this.innerHd);delete this.innerHd;Ext.destroy(this.el,this.mainWrap,this.mainHd,this.scroller,this.mainBody,this.focusEl,this.resizeMarker,this.resizeProxy,this.activeHdBtn,this.dragZone,this.splitZone,this._flyweight);delete this.grid.container;if(this.dragZone){this.dragZone.destroy()}Ext.dd.DDM.currentTarget=null;delete Ext.dd.DDM.locationCache[this.grid.getGridEl().id];Ext.EventManager.removeResizeListener(this.onWindowResize,this)},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var b=this.grid.ownerCt;if(b&&b.getLayout()){b.on("afterlayout",function(){this.fitColumns(true,true);this.updateHeaders()},this,{single:true})}else{this.fitColumns(true,true)}}else{if(this.forceFit){this.fitColumns(true,false)}else{if(this.grid.autoExpandColumn){this.autoExpand(true)}}}this.renderUI()},initData:function(c,d){if(this.ds){this.ds.un("load",this.onLoad,this);this.ds.un("datachanged",this.onDataChange,this);this.ds.un("add",this.onAdd,this);this.ds.un("remove",this.onRemove,this);this.ds.un("update",this.onUpdate,this);this.ds.un("clear",this.onClear,this);if(this.ds!==c&&this.ds.autoDestroy){this.ds.destroy()}}if(c){c.on({scope:this,load:this.onLoad,datachanged:this.onDataChange,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onClear})}this.ds=c;if(this.cm){this.cm.un("configchange",this.onColConfigChange,this);this.cm.un("widthchange",this.onColWidthChange,this);this.cm.un("headerchange",this.onHeaderChange,this);this.cm.un("hiddenchange",this.onHiddenChange,this);this.cm.un("columnmoved",this.onColumnMove,this)}if(d){delete this.lastViewWidth;d.on({scope:this,configchange:this.onColConfigChange,widthchange:this.onColWidthChange,headerchange:this.onHeaderChange,hiddenchange:this.onHiddenChange,columnmoved:this.onColumnMove})}this.cm=d},onDataChange:function(){this.refresh();this.updateHeaderSortState();this.syncFocusEl(0)},onClear:function(){this.refresh();this.syncFocusEl(0)},onUpdate:function(c,d){this.refreshRow(d)},onAdd:function(g,e,d){this.insertRows(g,d,d+(e.length-1))},onRemove:function(h,g,e,i){if(i!==true){this.fireEvent("beforerowremoved",this,e,g)}this.removeRow(e);if(i!==true){this.processRows(e);this.applyEmptyText();this.fireEvent("rowremoved",this,e,g)}},onLoad:function(){if(Ext.isGecko){if(!this.scrollToTopTask){this.scrollToTopTask=new Ext.util.DelayedTask(this.scrollToTop,this)}this.scrollToTopTask.delay(1)}else{this.scrollToTop()}},onColWidthChange:function(e,d,g){this.updateColumnWidth(d,g)},onHeaderChange:function(e,d,g){this.updateHeaders()},onHiddenChange:function(e,d,g){this.updateColumnHidden(d,g)},onColumnMove:function(g,h,e){this.indexMap=null;var i=this.getScrollState();this.refresh(true);this.restoreScroll(i);this.afterMove(e);this.grid.fireEvent("columnmove",h,e)},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true)},initUI:function(b){b.on("headerclick",this.onHeaderClick,this)},initEvents:function(){},onHeaderClick:function(c,d){if(this.headersDisabled||!this.cm.isSortable(d)){return}c.stopEditing(true);c.store.sort(this.cm.getDataIndex(d))},onRowOver:function(d,e){var g;if((g=this.findRowIndex(e))!==false){this.addRowClass(g,"x-grid3-row-over")}},onRowOut:function(d,e){var g;if((g=this.findRowIndex(e))!==false&&!d.within(this.getRow(g),true)){this.removeRowClass(g,"x-grid3-row-over")}},handleWheel:function(b){b.stopPropagation()},onRowSelect:function(b){this.addRowClass(b,this.selectedRowClass)},onRowDeselect:function(b){this.removeRowClass(b,this.selectedRowClass)},onCellSelect:function(g,d){var e=this.getCell(g,d);if(e){this.fly(e).addClass("x-grid3-cell-selected")}},onCellDeselect:function(g,d){var e=this.getCell(g,d);if(e){this.fly(e).removeClass("x-grid3-cell-selected")}},onColumnSplitterMoved:function(g,d){this.userResized=true;var e=this.grid.colModel;e.setColumnWidth(g,d,true);if(this.forceFit){this.fitColumns(true,false,g);this.updateAllColumnWidths()}else{this.updateColumnWidth(g,d);this.syncHeaderScroll()}this.grid.fireEvent("columnresize",g,d)},handleHdMenuClick:function(k){var g=this.hdCtxIndex,h=this.cm,j=this.ds,i=k.getItemId();switch(i){case"asc":j.sort(h.getDataIndex(g),"ASC");break;case"desc":j.sort(h.getDataIndex(g),"DESC");break;default:g=h.getIndexById(i.substr(4));if(g!=-1){if(k.checked&&h.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return false}h.setHidden(g,k.checked)}}return true},isHideableColumn:function(b){return !b.hidden},beforeColMenuShow:function(){var e=this.cm,g=e.getColumnCount();this.colMenu.removeAll();for(var d=0;d<g;d++){if(e.config[d].hideable!==false){this.colMenu.add(new Ext.menu.CheckItem({itemId:"col-"+e.getColumnId(d),text:e.getColumnHeader(d),checked:!e.isHidden(d),hideOnClick:false,disabled:e.config[d].hideable===false}))}}},handleHdDown:function(j,l){if(Ext.fly(l).hasClass("x-grid3-hd-btn")){j.stopEvent();var k=this.findHeaderCell(l);Ext.fly(k).addClass("x-grid3-hd-menu-open");var m=this.getCellIndex(k);this.hdCtxIndex=m;var e=this.hmenu.items,i=this.cm;e.get("asc").setDisabled(!i.isSortable(m));e.get("desc").setDisabled(!i.isSortable(m));this.hmenu.on("hide",function(){Ext.fly(k).removeClass("x-grid3-hd-menu-open")},this,{single:true});this.hmenu.show(l,"tl-bl?")}},handleHdOver:function(h,g){var i=this.findHeaderCell(g);if(i&&!this.headersDisabled){this.activeHdRef=g;this.activeHdIndex=this.getCellIndex(i);var e=this.fly(i);this.activeHdRegion=e.getRegion();if(!this.cm.isMenuDisabled(this.activeHdIndex)){e.addClass("x-grid3-hd-over");this.activeHdBtn=e.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(i.firstChild.offsetHeight-1)+"px"}}}},handleHdMove:function(m,p){var n=this.findHeaderCell(this.activeHdRef);if(n&&!this.headersDisabled){var e=this.splitHandleWidth||5,o=this.activeHdRegion,k=m.getPageX(),q=n.style,l="";if(this.grid.enableColumnResize!==false){if(k-o.left<=e&&this.cm.isResizable(this.activeHdIndex-1)){l=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize"}else{if(o.right-k<=(!this.activeHdBtn?e:2)&&this.cm.isResizable(this.activeHdIndex)){l=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize"}}}q.cursor=l}},handleHdOut:function(g,e){var d=this.findHeaderCell(e);if(d&&(!Ext.isIE||!g.within(d,true))){this.activeHdRef=null;this.fly(d).removeClass("x-grid3-hd-over");d.style.cursor=""}},hasRows:function(){var b=this.mainBody.dom.firstChild;return b&&b.nodeType==1&&b.className!="x-grid-empty"},bind:function(d,c){this.initData(d,c)}});Ext.grid.GridView.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{constructor:function(d,c){this.grid=d;this.view=d.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,c,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5},b4StartDrag:function(h,i){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var j=this.view.mainWrap.getHeight();this.marker.setHeight(j);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(j);var g=this.cm.getColumnWidth(this.cellIndex),k=Math.max(g-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(k,1000);this.setYConstraint(0,0);this.minX=h-k;this.maxX=h+1000;this.startPos=h;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,h,i)},allowHeaderDrag:function(b){return true},handleMouseDown:function(k){var m=this.view.findHeaderCell(k.getTarget());if(m&&this.allowHeaderDrag(k)){var l=this.view.fly(m).getXY(),i=l[0],j=l[1];exy=k.getXY(),ex=exy[0],w=m.offsetWidth,adjust=false;if((ex-i)<=this.hw){adjust=-1}else{if((i+w)-ex<=this.hw){adjust=0}}if(adjust!==false){this.cm=this.grid.colModel;var e=this.view.getCellIndex(m);if(adjust==-1){if(e+adjust<0){return}while(this.cm.isHidden(e+adjust)){--adjust;if(e+adjust<0){return}}}this.cellIndex=e+adjust;this.split=m.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(k)}}}},endDrag:function(i){this.marker.hide();var h=this.view,k=Math.max(this.minX,i.getPageX()),j=k-this.startPos,e=this.dragHeadersDisabled;h.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+j);setTimeout(function(){h.headersDisabled=e},50)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(e,g,d){this.grid=e;this.view=e.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,g);if(d){this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(d))}this.scroll=false},getDragData:function(g){var e=Ext.lib.Event.getTarget(g),d=this.view.findHeaderCell(e);if(d){return{ddel:d.firstChild,header:d}}return false},onInitDrag:function(d){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var c=this.dragData.ddel.cloneNode(true);c.id=Ext.id();c.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(c);return true},afterValidDrop:function(){this.completeDrop()},afterInvalidDrop:function(){this.completeDrop()},completeDrop:function(){var d=this.view,c=this.dragHeadersDisabled;setTimeout(function(){d.headersDisabled=c},50)}});Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(e,g,d){this.grid=e;this.view=e.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden")};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,e.getGridEl().dom)},getTargetFromEvent:function(g){var e=Ext.lib.Event.getTarget(g),d=this.view.findCellIndex(e);if(d!==false){return this.view.getHeaderCell(d)}},nextVisible:function(g){var d=this.view,e=this.grid.colModel;g=g.nextSibling;while(g){if(!e.isHidden(d.getCellIndex(g))){return g}g=g.nextSibling}return null},prevVisible:function(g){var d=this.view,e=this.grid.colModel;g=g.prevSibling;while(g){if(!e.isHidden(d.getCellIndex(g))){return g}g=g.prevSibling}return null},positionIndicator:function(p,l,m){var h=Ext.lib.Event.getPageX(m),o=Ext.lib.Dom.getRegion(l.firstChild),q,n,e=o.top+this.proxyOffsets[1];if((o.right-h)<=(o.right-o.left)/2){q=o.right+this.view.borderWidth;n="after"}else{q=o.left;n="before"}if(this.grid.colModel.isFixed(this.view.getCellIndex(l))){return false}q+=this.proxyOffsets[0];this.proxyTop.setLeftTop(q,e);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight()}this.proxyBottom.setLeftTop(q,e+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return n},onNodeEnter:function(h,g,i,e){if(e.header!=h){this.positionIndicator(e.header,h,i)}},onNodeOver:function(i,e,j,k){var h=false;if(k.header!=i){h=this.positionIndicator(k.header,i,j)}if(!h){this.proxyTop.hide();this.proxyBottom.hide()}return h?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(h,g,i,e){this.proxyTop.hide();this.proxyBottom.hide()},onNodeDrop:function(v,h,s,u){var t=u.header;if(t!=v){var p=this.grid.colModel,q=Ext.lib.Event.getPageX(s),x=Ext.lib.Dom.getRegion(v.firstChild),e=(x.right-q)<=((x.right-x.left)/2)?"after":"before",r=this.view.getCellIndex(t),n=this.view.getCellIndex(v);if(e=="after"){n++}if(r<n){n--}p.moveColumn(r,n);return true}return false}});Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(d,c){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,d,c,null);this.proxy.el.addClass("x-grid3-col-dd")},handleMouseDown:function(b){},callHandleMouseDown:function(b){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,b)}});Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(e,g,d){this.grid=e;this.view=e.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,g,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(d));this.scroll=false},b4StartDrag:function(g,h){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var e=this.cm.getColumnWidth(this.cellIndex);var i=Math.max(e-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(i,1000);this.setYConstraint(0,0);this.minX=g-i;this.maxX=g+1000;this.startPos=g;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,g,h)},handleMouseDown:function(g){var d=Ext.EventObject.setEvent(g);var e=this.fly(d.getTarget());if(e.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(e.dom);this.split=e.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}},endDrag:function(g){this.view.headersDisabled=false;var e=Math.max(this.minX,Ext.lib.Event.getPageX(g));var d=e-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+d)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.GridDragZone=function(c,d){this.view=c.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,d);this.scroll=false;this.grid=c;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap"};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(e){var g=Ext.lib.Event.getTarget(e);var h=this.view.findRowIndex(g);if(h!==false){var i=this.grid.selModel;if(!i.isSelected(h)||e.hasModifier()){i.handleMouseDown(this.grid,h,e)}return{grid:this.grid,ddel:this.ddel,rowIndex:h,selections:i.getSelections()}}return false},onInitDrag:function(c){var d=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=false},getRepairXY:function(c,d){return false},onEndDrag:function(d,c){},onValidDrop:function(e,d,g){this.hideProxy()},beforeInvalidDrop:function(d,c){}});Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:false,constructor:function(b){if(b.columns){Ext.apply(this,b);this.setConfig(b.columns,true)}else{this.setConfig(b,true)}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this)},getColumnId:function(b){return this.config[b].id},getColumnAt:function(b){return this.config[b]},setConfig:function(m,c){var l,j,i;if(!c){delete this.totalWidth;for(l=0,i=this.config.length;l<i;l++){j=this.config[l];if(j.setEditor){j.setEditor(null)}}}this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults);this.config=m;this.lookup={};for(l=0,i=m.length;l<i;l++){j=Ext.applyIf(m[l],this.defaults);if(Ext.isEmpty(j.id)){j.id=l}if(!j.isColumn){var k=Ext.grid.Column.types[j.xtype||"gridcolumn"];j=new k(j);m[l]=j}this.lookup[j.id]=j}if(!c){this.fireEvent("configchange",this)}},getColumnById:function(b){return this.lookup[b]},getIndexById:function(g){for(var d=0,e=this.config.length;d<e;d++){if(this.config[d].id==g){return d}}return -1},moveColumn:function(g,e){var c=this.config[g];this.config.splice(g,1);this.config.splice(e,0,c);this.dataMap=null;this.fireEvent("columnmoved",this,g,e)},getColumnCount:function(i){if(i===true){var h=0;for(var c=0,g=this.config.length;c<g;c++){if(!this.isHidden(c)){h++}}return h}return this.config.length},getColumnsBy:function(l,m){var k=[];for(var c=0,i=this.config.length;c<i;c++){var j=this.config[c];if(l.call(m||this,j,c)===true){k[k.length]=j}}return k},isSortable:function(b){return !!this.config[b].sortable},isMenuDisabled:function(b){return !!this.config[b].menuDisabled},getRenderer:function(b){if(!this.config[b].renderer){return Ext.grid.ColumnModel.defaultRenderer}return this.config[b].renderer},getRendererScope:function(b){return this.config[b].scope},setRenderer:function(d,c){this.config[d].renderer=c},getColumnWidth:function(b){return this.config[b].width},setColumnWidth:function(d,g,e){this.config[d].width=g;this.totalWidth=null;if(!e){this.fireEvent("widthchange",this,d,g)}},getTotalWidth:function(d){if(!this.totalWidth){this.totalWidth=0;for(var g=0,e=this.config.length;g<e;g++){if(d||!this.isHidden(g)){this.totalWidth+=this.getColumnWidth(g)}}}return this.totalWidth},getColumnHeader:function(b){return this.config[b].header},setColumnHeader:function(d,c){this.config[d].header=c;this.fireEvent("headerchange",this,d,c)},getColumnTooltip:function(b){return this.config[b].tooltip},setColumnTooltip:function(d,c){this.config[d].tooltip=c},getDataIndex:function(b){return this.config[b].dataIndex},setDataIndex:function(d,c){this.config[d].dataIndex=c},findColumnIndex:function(i){var h=this.config;for(var c=0,g=h.length;c<g;c++){if(h[c].dataIndex==i){return c}}return -1},isCellEditable:function(c,h){var i=this.config[c],g=i.editable;return !!(g||(!Ext.isDefined(g)&&i.editor))},getCellEditor:function(d,c){return this.config[d].getCellEditor(c)},setEditable:function(d,c){this.config[d].editable=c},isHidden:function(b){return !!this.config[b].hidden},isFixed:function(b){return !!this.config[b].fixed},isResizable:function(b){return b>=0&&this.config[b].resizable!==false&&this.config[b].fixed!==true},setHidden:function(e,c){var g=this.config[e];if(g.hidden!==c){g.hidden=c;this.totalWidth=null;this.fireEvent("hiddenchange",this,e,c)}},setEditor:function(d,c){this.config[d].setEditor(c)},destroy:function(){var g;for(var c=0,e=this.config.length;c<e;c++){g=this.config[c];if(g.setEditor){g.setEditor(null)}}this.purgeListeners()}});Ext.grid.ColumnModel.defaultRenderer=function(b){if(typeof b=="string"&&b.length<1){return"&#160;"}return b};Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},init:function(b){this.grid=b;if(this.lockOnInit){delete this.lockOnInit;this.locked=false;this.lock()}this.initEvents()},lock:function(){if(!this.locked){this.locked=true;var b=this.grid;if(b){b.getView().on({scope:this,beforerefresh:this.sortUnLock,refresh:this.sortLock})}else{this.lockOnInit=true}}},sortLock:function(){this.locked=true},sortUnLock:function(){this.locked=false},unlock:function(){if(this.locked){this.locked=false;var d=this.grid,c;if(d){c=d.getView();c.un("beforerefresh",this.sortUnLock,this);c.un("refresh",this.sortLock,this)}else{delete this.lockOnInit}}},isLocked:function(){return this.locked},destroy:function(){this.unlock();this.purgeListeners()}});Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:false,constructor:function(b){Ext.apply(this,b);this.selections=new Ext.util.MixedCollection(false,function(a){return a.id});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this)},initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this)}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(c){if(!c.shiftKey||this.singleSelect){this.selectPrevious(false)}else{if(this.last!==false&&this.lastActive!==false){var d=this.last;this.selectRange(this.last,this.lastActive-1);this.grid.getView().focusRow(this.lastActive);if(d!==false){this.last=d}}else{this.selectFirstRow()}}},down:function(c){if(!c.shiftKey||this.singleSelect){this.selectNext(false)}else{if(this.last!==false&&this.lastActive!==false){var d=this.last;this.selectRange(this.last,this.lastActive+1);this.grid.getView().focusRow(this.lastActive);if(d!==false){this.last=d}}else{this.selectFirstRow()}}},scope:this});this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove})},onRefresh:function(){var j=this.grid.store,h;var l=this.getSelections();this.clearSelections(true);for(var m=0,i=l.length;m<i;m++){var k=l[m];if((h=j.indexOfId(k.id))!=-1){this.selectRow(h,true)}}if(l.length!=this.selections.getCount()){this.fireEvent("selectionchange",this)}},onRemove:function(e,d,g){if(this.selections.remove(g)!==false){this.fireEvent("selectionchange",this)}},onRowUpdated:function(e,d,g){if(this.isSelected(g)){e.onRowSelect(d)}},selectRecords:function(g,i){if(!i){this.clearSelections()}var j=this.grid.store;for(var k=0,h=g.length;k<h;k++){this.selectRow(j.indexOf(g[k]),true)}},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(b){this.selectRow(this.grid.store.getCount()-1,b)},selectNext:function(b){if(this.hasNext()){this.selectRow(this.last+1,b);this.grid.getView().focusRow(this.last);return true}return false},selectPrevious:function(b){if(this.hasPrevious()){this.selectRow(this.last-1,b);this.grid.getView().focusRow(this.last);return true}return false},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount()},hasPrevious:function(){return !!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(i,j){var k=this.getSelections();for(var g=0,h=k.length;g<h;g++){if(i.call(j||this,k[g],g)===false){return false}}return true},clearSelections:function(e){if(this.isLocked()){return}if(e!==true){var g=this.grid.store;var d=this.selections;d.each(function(a){this.deselectRow(g.indexOfId(a.id))},this);d.clear()}else{this.selections.clear()}this.last=false},selectAll:function(){if(this.isLocked()){return}this.selections.clear();for(var c=0,d=this.grid.store.getCount();c<d;c++){this.selectRow(c,true)}},hasSelection:function(){return this.selections.length>0},isSelected:function(d){var c=Ext.isNumber(d)?this.grid.store.getAt(d):d;return(c&&this.selections.key(c.id)?true:false)},isIdSelected:function(b){return(this.selections.key(b)?true:false)},handleMouseDown:function(l,j,k){if(k.button!==0||this.isLocked()){return}var g=this.grid.getView();if(k.shiftKey&&!this.singleSelect&&this.last!==false){var m=this.last;this.selectRange(m,j,k.ctrlKey);this.last=m;g.focusRow(j)}else{var e=this.isSelected(j);if(k.ctrlKey&&e){this.deselectRow(j)}else{if(!e||this.getCount()>1){this.selectRow(j,k.ctrlKey||k.shiftKey);g.focusRow(j)}}}},selectRows:function(i,h){if(!h){this.clearSelections()}for(var e=0,g=i.length;e<g;e++){this.selectRow(i[e],true)}},selectRange:function(e,g,h){var i;if(this.isLocked()){return}if(!h){this.clearSelections()}if(e<=g){for(i=e;i<=g;i++){this.selectRow(i,true)}}else{for(i=e;i>=g;i--){this.selectRow(i,true)}}},deselectRange:function(i,e,g){if(this.isLocked()){return}for(var h=i;h<=e;h++){this.deselectRow(h,g)}},selectRow:function(e,h,g){if(this.isLocked()||(e<0||e>=this.grid.store.getCount())||(h&&this.isSelected(e))){return}var i=this.grid.store.getAt(e);if(i&&this.fireEvent("beforerowselect",this,e,h,i)!==false){if(!h||this.singleSelect){this.clearSelections()}this.selections.add(i);this.last=this.lastActive=e;if(!g){this.grid.getView().onRowSelect(e)}this.fireEvent("rowselect",this,e,i);this.fireEvent("selectionchange",this)}},deselectRow:function(d,e){if(this.isLocked()){return}if(this.last==d){this.last=false}if(this.lastActive==d){this.lastActive=false}var g=this.grid.store.getAt(d);if(g){this.selections.remove(g);if(!e){this.grid.getView().onRowDeselect(d)}this.fireEvent("rowdeselect",this,d,g);this.fireEvent("selectionchange",this)}},restoreLast:function(){if(this._last){this.last=this._last}},acceptsNav:function(g,d,e){return !e.isHidden(d)&&e.isCellEditable(d,g)},onEditorKey:function(g,q){var u=q.getKey(),t,s=this.grid,e=s.lastEdit,r=s.activeEditor,c,e,x,k;var v=q.shiftKey;if(u==q.TAB){q.stopEvent();r.completeEdit();if(v){t=s.walkCells(r.row,r.col-1,-1,this.acceptsNav,this)}else{t=s.walkCells(r.row,r.col+1,1,this.acceptsNav,this)}}else{if(u==q.ENTER){if(this.moveEditorOnEnter!==false){if(v){t=s.walkCells(e.row-1,e.col,-1,this.acceptsNav,this)}else{t=s.walkCells(e.row+1,e.col,1,this.acceptsNav,this)}}}}if(t){x=t[0];k=t[1];if(e.row!=x){this.selectRow(x)}if(s.isEditor&&s.editing){c=s.activeEditor;if(c&&c.field.triggerBlur){c.field.triggerBlur()}}s.startEditing(x,k)}},destroy:function(){if(this.rowNav){this.rowNav.disable();this.rowNav=null}Ext.grid.RowSelectionModel.superclass.destroy.call(this)}});Ext.grid.Column=Ext.extend(Object,{isColumn:true,constructor:function(c){Ext.apply(this,c);if(Ext.isString(this.renderer)){this.renderer=Ext.util.Format[this.renderer]}else{if(Ext.isObject(this.renderer)){this.scope=this.renderer.scope;this.renderer=this.renderer.fn}}if(!this.scope){this.scope=this}var d=this.editor;delete this.editor;this.setEditor(d)},renderer:function(b){if(Ext.isString(b)&&b.length<1){return"&#160;"}return b},getEditor:function(b){return this.editable!==false?this.editor:null},setEditor:function(c){var d=this.editor;if(d){if(d.gridEditor){d.gridEditor.destroy();delete d.gridEditor}else{d.destroy()}}this.editor=null;if(c){if(!c.isXType){c=Ext.create(c,"textfield")}this.editor=c}},getCellEditor:function(c){var d=this.getEditor(c);if(d){if(!d.startEdit){if(!d.gridEditor){d.gridEditor=new Ext.grid.GridEditor(d)}d=d.gridEditor}}return d}});Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(g){Ext.grid.BooleanColumn.superclass.constructor.call(this,g);var i=this.trueText,h=this.falseText,e=this.undefinedText;this.renderer=function(a){if(a===undefined){return e}if(!a||a==="false"){return h}return i}}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(b){Ext.grid.NumberColumn.superclass.constructor.call(this,b);this.renderer=Ext.util.Format.numberRenderer(this.format)}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(b){Ext.grid.DateColumn.superclass.constructor.call(this,b);this.renderer=Ext.util.Format.dateRenderer(this.format)}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(d){Ext.grid.TemplateColumn.superclass.constructor.call(this,d);var c=(!Ext.isPrimitive(this.tpl)&&this.tpl.compile)?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(b,a,g){return c.apply(g.data)};this.tpl=c}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn};Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:false,constructor:function(b){Ext.apply(this,b);if(this.rowspan){this.renderer=this.renderer.createDelegate(this)}},fixed:true,hideable:false,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(e,i,g,h){if(this.rowspan){i.cellAttr='rowspan="'+this.rowspan+'"'}return h+1}});Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,hideable:false,dataIndex:"",id:"checker",constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);if(this.checkOnly){this.handleMouseDown=Ext.emptyFn}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var b=this.grid.getView();b.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(b.innerHd).on("mousedown",this.onHdMouseDown,this)},this)},handleMouseDown:function(){Ext.grid.CheckboxSelectionModel.superclass.handleMouseDown.apply(this,arguments);this.mouseHandled=true},onMouseDown:function(i,e){if(i.button===0&&e.className=="x-grid3-row-checker"){i.stopEvent();var h=i.getTarget(".x-grid3-row");if(!this.mouseHandled&&h){var g=h.rowIndex;if(this.isSelected(g)){this.deselectRow(g)}else{this.selectRow(g,true)}}}this.mouseHandled=false},onHdMouseDown:function(i,g){if(g.className=="x-grid3-hd-checker"){i.stopEvent();var e=Ext.fly(g.parentNode);var h=e.hasClass("x-grid3-hd-checker-on");if(h){e.removeClass("x-grid3-hd-checker-on");this.clearSelections()}else{e.addClass("x-grid3-hd-checker-on");this.selectAll()}}},renderer:function(d,g,e){return'<div class="x-grid3-row-checker">&#160;</div>'}});Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(b){Ext.apply(this,b);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.on(Ext.EventManager.useKeydown?"keydown":"keypress",this.handleKeyDown,this);this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections});if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this)}},beforeEdit:function(b){this.select(b.row,b.column,false,true,b.record)},onRowUpdated:function(e,d,g){if(this.selection&&this.selection.record==g){e.onCellSelect(d,this.selection.cell[1])}},onViewChange:function(){this.clearSelections(true)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(c){var d=this.selection;if(d){if(c!==true){this.grid.view.onCellDeselect(d.cell[0],d.cell[1])}this.selection=null;this.fireEvent("selectionchange",this,null)}},hasSelection:function(){return this.selection?true:false},handleMouseDown:function(e,h,g,i){if(i.button!==0||this.isLocked()){return}this.select(h,g)},select:function(j,m,h,k,l){if(this.fireEvent("beforecellselect",this,j,m)!==false){this.clearSelections();l=l||this.grid.store.getAt(j);this.selection={record:l,cell:[j,m]};if(!h){var i=this.grid.getView();i.onCellSelect(j,m);if(k!==true){i.focusCell(j,m)}}this.fireEvent("cellselect",this,j,m);this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(g,d,e){return !e.isHidden(d)},onEditorKey:function(c,d){if(d.getKey()==d.TAB){this.handleKeyDown(d)}},handleKeyDown:function(r){if(!r.isNavKeyPress()){return}var u=r.getKey(),s=this.grid,c=this.selection,v=this,k=function(a,d,b){return s.walkCells(a,d,b,s.isEditor&&s.editing?v.acceptsNav:v.isSelectable,v)},e,t,x,q,g;switch(u){case r.ESC:case r.PAGE_UP:case r.PAGE_DOWN:break;default:r.stopEvent();break}if(!c){e=k(0,0,1);if(e){this.select(e[0],e[1])}return}e=c.cell;x=e[0];q=e[1];switch(u){case r.TAB:if(r.shiftKey){t=k(x,q-1,-1)}else{t=k(x,q+1,1)}break;case r.DOWN:t=k(x+1,q,1);break;case r.UP:t=k(x-1,q,-1);break;case r.RIGHT:t=k(x,q+1,1);break;case r.LEFT:t=k(x,q-1,-1);break;case r.ENTER:if(s.isEditor&&!s.editing){s.startEditing(x,q);return}break}if(t){x=t[0];q=t[1];this.select(x,q);if(s.isEditor&&s.editing){g=s.activeEditor;if(g&&g.field.triggerBlur){g.field.triggerBlur()}s.startEditing(x,q)}}},acceptsNav:function(g,d,e){return !e.isHidden(d)&&e.isCellEditable(d,g)}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:false,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel()}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,[true]),this);this.on("columnresize",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this)}else{var b=this.getView();if(this.clicksToEdit=="auto"&&b.mainBody){b.mainBody.on("mousedown",this.onAutoEditClick,this)}this.on("celldblclick",this.onCellDblClick,this)}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);var b=this.activeEditor;if(this.editing&&b){b.realign(true)}},onCellDblClick:function(d,g,e){this.startEditing(g,e)},onAutoEditClick:function(k,e){if(k.button!==0){return}var i=this.view.findRowIndex(e),h=this.view.findCellIndex(e);if(i!==false&&h!==false){this.stopEditing();if(this.selModel.getSelectedCell){var j=this.selModel.getSelectedCell();if(j&&j[0]===i&&j[1]===h){this.startEditing(i,h)}}else{if(this.selModel.isSelected(i)){this.startEditing(i,h)}}}},onEditComplete:function(e,l,i){this.editing=false;this.lastActiveEditor=this.activeEditor;this.activeEditor=null;var m=e.record,j=this.colModel.getDataIndex(e.col);l=this.postEditValue(l,i,m,j);if(this.forceValidation===true||String(l)!==String(i)){var k={grid:this,record:m,field:j,originalValue:i,value:l,row:e.row,column:e.col,cancel:false};if(this.fireEvent("validateedit",k)!==false&&!k.cancel&&String(l)!==String(i)){m.set(j,k.value);delete k.cancel;this.fireEvent("afteredit",k)}}this.view.focusCell(e.row,e.col)},startEditing:function(k,o){this.stopEditing();if(this.colModel.isCellEditable(o,k)){this.view.ensureVisible(k,o,true);var n=this.store.getAt(k),l=this.colModel.getDataIndex(o),m={grid:this,record:n,field:l,value:n.data[l],row:k,column:o,cancel:false};if(this.fireEvent("beforeedit",m)!==false&&!m.cancel){this.editing=true;var e=this.colModel.getCellEditor(o,k);if(!e){return}if(!e.rendered){e.parentEl=this.view.getEditorParent(e);e.on({scope:this,render:{fn:function(a){a.field.focus(false,true)},single:true,scope:this},specialkey:function(a,b){this.getSelectionModel().onEditorKey(a,b)},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[true])})}Ext.apply(e,{row:k,col:o,record:n});this.lastEdit={row:k,col:o};this.activeEditor=e;e.selectSameEditor=(this.activeEditor==this.lastActiveEditor);var j=this.preEditValue(n,l);e.startEdit(this.view.getCell(k,o).firstChild,Ext.isDefined(j)?j:"");(function(){delete e.selectSameEditor}).defer(50)}}},preEditValue:function(e,g){var d=e.data[g];return this.autoEncode&&Ext.isString(d)?Ext.util.Format.htmlDecode(d):d},postEditValue:function(i,g,e,h){return this.autoEncode&&Ext.isString(i)?Ext.util.Format.htmlEncode(i):i},stopEditing:function(c){if(this.editing){var d=this.lastActiveEditor=this.activeEditor;if(d){d[c===true?"cancelEdit":"completeEdit"]();this.view.focusCell(d.row,d.col)}this.activeEditor=null}this.editing=false}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(c,d){Ext.grid.GridEditor.superclass.constructor.call(this,c,d);c.monitorTab=false};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(d,c){this.grid=d;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(c){this.setSource(c)}Ext.grid.PropertyStore.superclass.constructor.call(this)},setSource:function(g){this.source=g;this.store.removeAll();var d=[];for(var e in g){if(this.isEditableValue(g[e])){d.push(new Ext.grid.PropertyRecord({name:e,value:g[e]},e))}}this.store.loadRecords({records:d},{},true)},onUpdate:function(i,h,j){if(j==Ext.data.Record.EDIT){var g=h.data.value;var k=h.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,h.id,g,k)!==false){this.source[h.id]=g;h.commit();this.grid.fireEvent("propertychange",this.source,h.id,g,k)}else{h.reject()}}},getProperty:function(b){return this.store.getAt(b)},isEditableValue:function(b){return Ext.isPrimitive(b)||Ext.isDate(b)},setValue:function(h,i,g){var e=this.getRec(h);if(e){e.set("value",i);this.source[h]=i}else{if(g){this.source[h]=i;e=new Ext.grid.PropertyRecord({name:h,value:i},h);this.store.add(e)}}},remove:function(c){var d=this.getRec(c);if(d){this.store.remove(d);delete this.source[c]}},getRec:function(b){return this.store.getById(b)},getSource:function(){return this.source}});Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",constructor:function(k,g){var j=Ext.grid,i=Ext.form;this.grid=k;j.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=g;var h=new i.Field({autoCreate:{tag:"select",children:[{tag:"option",value:"true",html:this.trueText},{tag:"option",value:"false",html:this.falseText}]},getValue:function(){return this.el.dom.value=="true"}});this.editors={date:new j.GridEditor(new i.DateField({selectOnFocus:true})),string:new j.GridEditor(new i.TextField({selectOnFocus:true})),number:new j.GridEditor(new i.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new j.GridEditor(h,{autoSize:"both"})};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this)},renderDate:function(b){return b.dateFormat(this.dateFormat)},renderBool:function(b){return this[b?"trueText":"falseText"]},isCellEditable:function(d,c){return d==1},getRenderer:function(b){return b==1?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(b){return this.getPropertyName(b)},renderCell:function(j,g,k){var h=this.grid.customRenderers[k.get("name")];if(h){return h.apply(this,arguments)}var i=j;if(Ext.isDate(j)){i=this.renderDate(j)}else{if(typeof j=="boolean"){i=this.renderBool(j)}}return Ext.util.Format.htmlEncode(i)},getPropertyName:function(c){var d=this.grid.propertyNames;return d&&d[c]?d[c]:c},getCellEditor:function(h,i){var g=this.store.getProperty(i),j=g.data.name,k=g.data.value;if(this.grid.customEditors[j]){return this.grid.customEditors[j]}if(Ext.isDate(k)){return this.editors.date}else{if(typeof k=="number"){return this.editors.number}else{if(typeof k=="boolean"){return this.editors["boolean"]}else{return this.editors.string}}}},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);for(var b in this.editors){Ext.destroy(this.editors[b])}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customRenderers=this.customRenderers||{};this.customEditors=this.customEditors||{};this.lastEditRow=null;var c=new Ext.grid.PropertyStore(this);this.propStore=c;var d=new Ext.grid.PropertyColumnModel(this,c);c.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=d;this.ds=c.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.mon(this.selModel,"beforecellselect",function(a,b,g){if(g===0){this.startEditing.defer(200,this,[b,1]);return false}},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source)}},setSource:function(b){this.propStore.setSource(b)},getSource:function(){return this.propStore.getSource()},setProperty:function(g,d,e){this.propStore.setValue(g,d,e)},removeProperty:function(b){this.propStore.remove(b)}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",groupMode:"value",initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var b=this.grid.getSelectionModel();b.on(b.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">')}this.startGroup.compile();if(!this.endGroup){this.endGroup="</div></div>"}},findGroup:function(b){return Ext.fly(b).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},onAdd:function(h,g,e){if(this.canGroup()&&!this.ignoreAdd){var i=this.getScrollState();this.fireEvent("beforerowsinserted",h,e,e+(g.length-1));this.refresh();this.restoreScroll(i);this.fireEvent("rowsinserted",h,e,e+(g.length-1))}else{if(!this.canGroup()){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)}}},onRemove:function(i,h,g,j){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var k=document.getElementById(h._groupId);if(k&&k.childNodes[1].childNodes.length<1){Ext.removeNode(k)}this.applyEmptyText()},refreshRow:function(b){if(this.ds.getCount()==1){this.refresh()}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false}},beforeMenuShow:function(){var g,e=this.hmenu.items,d=this.cm.config[this.hdCtxIndex].groupable===false;if((g=e.get("groupBy"))){g.setDisabled(d)}if((g=e.get("showGroups"))){g.setDisabled(d);g.setChecked(this.enableGrouping,true)}},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this);this.mainBody.on("mousedown",this.interceptMouse,this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}},processEvent:function(e,j){Ext.grid.GroupingView.superclass.processEvent.call(this,e,j);var k=j.getTarget(".x-grid-group-hd",this.mainBody);if(k){var l=this.getGroupField(),m=this.getPrefix(l),i=k.id.substring(m.length);i=i.substr(0,i.length-3);if(i){this.grid.fireEvent("group"+e,this.grid,l,i,j)}}},onGroupByClick:function(){this.enableGrouping=true;this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));this.grid.fireEvent("groupchange",this,this.grid.store.getGroupState());this.beforeMenuShow();this.refresh()},onShowGroupsClick:function(d,c){this.enableGrouping=c;if(c){this.onGroupByClick()}else{this.grid.store.clearGrouping();this.grid.fireEvent("groupchange",this,null)}},toggleRowIndex:function(g,e){if(!this.canGroup()){return}var d=this.getRow(g);if(d){this.toggleGroup(this.findGroup(d),e)}},toggleGroup:function(g,d){var e=Ext.get(g);d=Ext.isDefined(d)?d:e.hasClass("x-grid-group-collapsed");if(this.state[e.id]!==d){this.grid.stopEditing(true);this.state[e.id]=d;e[d?"removeClass":"addClass"]("x-grid-group-collapsed")}},toggleAllGroups:function(i){var e=this.getGroups();for(var h=0,g=e.length;h<g;h++){this.toggleGroup(e[h],i)}},expandAllGroups:function(){this.toggleAllGroups(true)},collapseAllGroups:function(){this.toggleAllGroups(false)},interceptMouse:function(c){var d=c.getTarget(".x-grid-group-hd",this.mainBody);if(d){c.stopEvent();this.toggleGroup(d.parentNode)}},getGroup:function(j,n,l,k,g,m){var o=l?l(j,{},n,k,g,m):String(j);if(o===""||o==="&#160;"){o=this.cm.config[g].emptyGroupText||this.emptyGroupText}return o},getGroupField:function(){return this.grid.store.getGroupState()},afterRender:function(){if(!this.ds||!this.cm){return}Ext.grid.GroupingView.superclass.afterRender.call(this);if(this.grid.deferRowRender){this.updateGroupWidths()}},renderRows:function(){var h=this.getGroupField();var i=!!h;if(this.hideGroupedColumn){var g=this.cm.findColumnIndex(h),j=Ext.isDefined(this.lastGroupField);if(!i&&j){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField}else{if(i&&!j){this.lastGroupField=h;this.cm.setHidden(g,true)}else{if(i&&j&&h!==this.lastGroupField){this.mainBody.update("");var k=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(k,false);this.lastGroupField=h;this.cm.setHidden(g,true)}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(R,O,F,T,H,E){if(O.length<1){return""}if(!this.canGroup()||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments)}var G=this.getGroupField(),I=this.cm.findColumnIndex(G),r,N="width:"+this.getTotalWidth()+";",P=this.cm.config[I],S=P.groupRenderer||P.renderer,D=this.showGroupName?(P.groupName||P.header)+": ":"",g=[],L,C,B,J;for(C=0,B=O.length;C<B;C++){var M=T+C,K=O[C],Q=K.data[G];r=this.getGroup(Q,K,S,M,I,F);if(!L||L.group!=r){J=this.constructId(Q,G,I);this.state[J]=!(Ext.isDefined(this.state[J])?!this.state[J]:this.startCollapsed);L={group:r,gvalue:Q,text:D+r,groupId:J,startRow:M,rs:[K],cls:this.state[J]?"":"x-grid-group-collapsed",style:N};g.push(L)}else{L.rs.push(K)}K._groupId=J}var i=[];for(C=0,B=g.length;C<B;C++){r=g[C];this.doGroupStart(i,r,R,F,H);i[i.length]=Ext.grid.GroupingView.superclass.doRender.call(this,R,r.rs,F,r.startRow,H,E);this.doGroupEnd(i,r,R,F,H)}return i.join("")},getGroupId:function(d){var c=this.getGroupField();return this.constructId(d,c,this.cm.findColumnIndex(c))},constructId:function(m,k,i){var h=this.cm.config[i],l=h.groupRenderer||h.renderer,j=(this.groupMode=="value")?m:this.getGroup(m,{data:{}},l,0,i,this.ds);return this.getPrefix(k)+Ext.util.Format.htmlEncode(j)},canGroup:function(){return this.enableGrouping&&!!this.getGroupField()},getPrefix:function(b){return this.grid.getGridEl().id+"-gp-"+b+"-"},doGroupStart:function(h,j,g,i,k){h[h.length]=this.startGroup.apply(j)},doGroupEnd:function(h,j,g,i,k){h[h.length]=this.endGroup},getRows:function(){if(!this.canGroup()){return Ext.grid.GroupingView.superclass.getRows.call(this)}var j=[],o=this.getGroups(),l,m=0,i=o.length,n,g;for(;m<i;++m){l=o[m].childNodes[1];if(l){l=l.childNodes;for(n=0,g=l.length;n<g;++n){j[j.length]=l[n]}}}return j},updateGroupWidths:function(){if(!this.canGroup()||!this.hasRows()){return}var i=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px";var e=this.getGroups();for(var h=0,g=e.length;h<g;h++){e[h].firstChild.style.width=i}},onColumnWidthUpdated:function(g,e,d){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,g,e,d);this.updateGroupWidths()},onAllColumnWidthsUpdated:function(d,c){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,d,c);this.updateGroupWidths()},onColumnHiddenUpdated:function(d,g,e){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,d,g,e);this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},onBeforeRowSelect:function(c,d){this.toggleRowIndex(d,true)}});Ext.grid.GroupingView.GROUP_ID=1000;Ext.namespace("Ext.ux.form");if(typeof Ext.isIE8!="boolean"){Ext.isIE8=Ext.isIE&&navigator.userAgent.toLowerCase().indexOf("msie 8")>-1}Ext.ux.form.BrowseButton=Ext.extend(Ext.Button,{inputFileName:"file",debug:false,FLOAT_EL_WIDTH:60,FLOAT_EL_HEIGHT:18,buttonCt:null,clipEl:null,floatEl:null,inputFileEl:null,originalHandler:null,originalScope:null,BROWSERS_OFFSETS:{Ext2:{IE8:{left:-8,top:-16,width:16,height:22},IE:{left:-8,top:-3,width:16,height:6},Opera:{left:-8,top:-3,width:-18,height:-1},Gecko:{left:-8,top:-6,width:16,height:10},Safari:{left:-4,top:-2,width:6,height:6}},Ext3:{IE8:{left:-7,width:10},IE:{left:-3,width:6},Gecko:{width:11}}},isExt2x:Ext.version.match(/^2\./),initComponent:function(){Ext.ux.form.BrowseButton.superclass.initComponent.call(this);this.originalHandler=this.handler;this.originalScope=this.scope;this.handler=null;this.scope=null},onRender:function(e,b){Ext.ux.form.BrowseButton.superclass.onRender.call(this,e,b);if(this.isExt2x){this.buttonCt=this.el.child(".x-btn-center em")}else{this.buttonCt=this.el.child(".x-btn-mc em")}this.buttonCt.position("relative");var c={position:"absolute",overflow:"hidden",top:"0px",left:"0px"};for(var d in this.BROWSERS_OFFSETS.Ext2){if(Ext["is"+d]){Ext.apply(c,{left:this.getBrowserOffset(d,"left")+"px",top:this.getBrowserOffset(d,"top")+"px"});break}}this.clipEl=this.buttonCt.createChild({tag:"div",style:c});this.setClipSize();this.clipEl.on({mousemove:this.onButtonMouseMove,mouseover:this.onButtonMouseMove,scope:this});this.floatEl=this.clipEl.createChild({tag:"div",style:{position:"absolute",width:this.FLOAT_EL_WIDTH+"px",height:this.FLOAT_EL_HEIGHT+"px",overflow:"hidden"}});if(this.debug){this.clipEl.applyStyles({"background-color":"green"});this.floatEl.applyStyles({"background-color":"red"})}else{this.floatEl.setOpacity(0)}var a=this.el.child(this.buttonSelector);a.on("focus",this.onButtonFocus,this);if(Ext.isIE){this.el.on("keydown",this.onButtonKeyDown,this)}this.createInputFile()},getBrowserOffset:function(a,b){if(!this.isExt2x&&this.BROWSERS_OFFSETS.Ext3[a]&&this.BROWSERS_OFFSETS.Ext3[a][b]){return this.BROWSERS_OFFSETS.Ext3[a][b]}else{return this.BROWSERS_OFFSETS.Ext2[a][b]}},setClipSize:function(){if(this.clipEl){var c=this.buttonCt.getWidth();var a=this.buttonCt.getHeight();if(c===0||(a===0&&!Ext.isIE8)){this.setClipSize.defer(100,this)}else{for(var b in this.BROWSERS_OFFSETS.Ext2){if(Ext["is"+b]){c=c+this.getBrowserOffset(b,"width");a=a+this.getBrowserOffset(b,"height");break}}this.clipEl.setSize(c,a)}}},createInputFile:function(){this.floatEl.select("em").each(function(a){a.remove()});this.inputFileEl=this.floatEl.createChild({tag:"input",type:"file",size:1,name:this.inputFileName||Ext.id(this.el),tabindex:this.tabIndex,style:{position:"absolute",cursor:"pointer",right:"0px",top:"0px"}});this.inputFileEl=this.inputFileEl.child("input")||this.inputFileEl;if(Ext.isIE8){this.inputFileEl.setOpacity(0)}this.inputFileEl.on({click:this.onInputFileClick,change:this.onInputFileChange,focus:this.onInputFileFocus,select:this.onInputFileFocus,blur:this.onInputFileBlur,scope:this});if(this.tooltip){if(typeof this.tooltip=="object"){Ext.QuickTips.register(Ext.apply({target:this.inputFileEl},this.tooltip))}else{this.inputFileEl.dom[this.tooltipType]=this.tooltip}}},onButtonFocus:function(a){if(this.inputFileEl){this.inputFileEl.focus();a.stopEvent()}},onButtonKeyDown:function(a){if(this.inputFileEl&&a.getKey()==Ext.EventObject.SPACE){this.inputFileEl.dom.click();a.stopEvent()}},onButtonMouseMove:function(b){var a=b.getXY();a[0]-=this.FLOAT_EL_WIDTH/2;a[1]-=this.FLOAT_EL_HEIGHT/2;this.floatEl.setXY(a)},onInputFileFocus:function(a){if(!this.isDisabled){this.el.addClass("x-btn-over")}},onInputFileBlur:function(a){this.el.removeClass("x-btn-over")},onInputFileClick:function(a){a.stopPropagation()},onInputFileChange:function(){if(this.originalHandler){this.originalHandler.call(this.originalScope,this)}},detachInputFile:function(b){var a=this.inputFileEl;if(typeof this.tooltip=="object"){Ext.QuickTips.unregister(this.inputFileEl)}else{this.inputFileEl.dom[this.tooltipType]=null}this.inputFileEl.removeAllListeners();this.inputFileEl=null;if(!b){this.createInputFile()}return a},getInputFile:function(){return this.inputFileEl},disable:function(){Ext.ux.form.BrowseButton.superclass.disable.call(this);this.inputFileEl.dom.disabled=true},enable:function(){Ext.ux.form.BrowseButton.superclass.enable.call(this);this.inputFileEl.dom.disabled=false}});Ext.reg("browsebutton",Ext.ux.form.BrowseButton);Ext.ux.FileUploader=function(a){Ext.apply(this,a);Ext.ux.FileUploader.superclass.constructor.apply(this,arguments);this.addEvents("beforeallstart","allfinished","beforefilestart","filefinished","progress")};Ext.extend(Ext.ux.FileUploader,Ext.util.Observable,{baseParams:{cmd:"upload",dir:"."},concurrent:true,enableProgress:false,jsonErrorText:"Cannot decode JSON object",maxFileSize:10485760,progressIdName:"UPLOAD_IDENTIFIER",progressInterval:2000,progressUrl:"progress.php",progressMap:{bytes_total:"bytesTotal",bytes_uploaded:"bytesUploaded",est_sec:"estSec",files_uploaded:"filesUploaded",speed_average:"speedAverage",speed_last:"speedLast",time_last:"timeLast",time_start:"timeStart"},singleUpload:false,unknownErrorText:"Unknown error",upCount:0,createForm:function(a){var c=parseInt(Math.random()*10000000000,10);var b=Ext.getBody().createChild({tag:"form",action:this.url,method:"post",cls:"x-hidden",id:Ext.id(),cn:[{tag:"input",type:"hidden",name:"APC_UPLOAD_PROGRESS",value:c},{tag:"input",type:"hidden",name:this.progressIdName,value:c}]});if(a){if(Ext.isIE){a.set("form",undefined)}else{a.set("form",b)}a.set("progressId",c)}else{this.progressId=c}return b},deleteForm:function(b,a){b.remove();if(a){a.set("form",null)}},fireFinishEvents:function(a){if(true!==this.eventsSuspended&&!this.singleUpload){this.fireEvent("filefinished",this,a&&a.record)}if(true!==this.eventsSuspended&&0===this.upCount){this.stopProgress();this.fireEvent("allfinished",this)}},getIframe:function(a){var b=null;var c=a.get("form");if(c&&c.dom&&c.dom.target){b=Ext.get(c.dom.target)}return b},getOptions:function(a,c){var b={url:this.url,method:"post",isUpload:true,scope:this,callback:this.uploadCallback,record:a,params:this.getParams(a,c)};return b},getParams:function(a,c){var b={path:this.path};Ext.apply(b,this.baseParams||{},c||{});return b},processSuccess:function(c,b,d){var a=false;if(this.singleUpload){this.store.each(function(e){e.set("state","done");e.set("error","");e.commit()})}else{a=c.record;a.set("state","done");a.set("error","");a.commit()}this.deleteForm(c.form,a)},processFailure:function(e,c,d){var a=e.record;var b;if(this.singleUpload){b=this.store.queryBy(function(f){var g=f.get("state");return"done"!==g&&"uploading"!==g});b.each(function(f){var g=d.errors?d.errors[f.id]:this.unknownErrorText;if(g){f.set("state","failed");f.set("error",g);Ext.getBody().appendChild(f.get("input"))}else{f.set("state","done");f.set("error","")}f.commit()},this);this.deleteForm(e.form)}else{if(d&&"object"===Ext.type(d)){a.set("error",d.errors&&d.errors[a.id]?d.errors[a.id]:this.unknownErrorText)}else{if(d){a.set("error",d)}else{if(c&&c.responseText){a.set("error",c.responseText)}else{a.set("error",this.unknownErrorText)}}}a.set("state","failed");a.commit()}},requestProgress:function(){var a,b;var c={url:this.progressUrl,method:"post",params:{},scope:this,callback:function(f,i,d){var h;if(true!==i){return}try{h=Ext.decode(d.responseText)}catch(g){return}if("object"!==Ext.type(h)||true!==h.success){return}if(this.singleUpload){this.progress={};for(b in h){if(this.progressMap[b]){this.progress[this.progressMap[b]]=parseInt(h[b],10)}}if(true!==this.eventsSuspended){this.fireEvent("progress",this,this.progress)}}else{for(b in h){if(this.progressMap[b]&&f.record){f.record.set(this.progressMap[b],parseInt(h[b],10))}}if(f.record){f.record.commit();if(true!==this.eventsSuspended){this.fireEvent("progress",this,f.record.data,f.record)}}}this.progressTask.delay(this.progressInterval)}};if(this.singleUpload){c.params[this.progressIdName]=this.progressId;c.params.APC_UPLOAD_PROGRESS=this.progressId;Ext.Ajax.request(c)}else{a=this.store.query("state","uploading");a.each(function(d){c.params[this.progressIdName]=d.get("progressId");c.params.APC_UPLOAD_PROGRESS=c.params[this.progressIdName];c.record=d;(function(){Ext.Ajax.request(c)}).defer(250)},this)}},setPath:function(a){this.path=a},setUrl:function(a){this.url=a},startProgress:function(){if(!this.progressTask){this.progressTask=new Ext.util.DelayedTask(this.requestProgress,this)}this.progressTask.delay.defer(this.progressInterval/2,this.progressTask,[this.progressInterval])},stopProgress:function(){if(this.progressTask){this.progressTask.cancel()}},stopAll:function(){var a=this.store.query("state","uploading");a.each(this.stopUpload,this)},stopUpload:function(a){var b=false;if(a){b=this.getIframe(a);this.stopIframe(b);this.upCount--;this.upCount=0>this.upCount?0:this.upCount;a.set("state","stopped");this.fireFinishEvents({record:a})}else{if(this.form){b=Ext.fly(this.form.dom.target);this.stopIframe(b);this.upCount=0;this.fireFinishEvents()}}},stopIframe:function(a){if(a){try{a.dom.contentWindow.stop();a.remove.defer(250,a)}catch(b){}}},upload:function(){var a=this.store.queryBy(function(b){return"done"!==b.get("state")});if(!a.getCount()){return}if(true!==this.eventsSuspended&&false===this.fireEvent("beforeallstart",this)){return}if(this.singleUpload){this.uploadSingle()}else{a.each(this.uploadFile,this)}if(true===this.enableProgress){this.startProgress()}},uploadCallback:function(b,f,a){var d;this.upCount--;this.form=false;if(true===f){try{d=Ext.decode(a.responseText)}catch(c){this.processFailure(b,a,this.jsonErrorText);this.fireFinishEvents(b);return}if(true===d.success){this.processSuccess(b,a,d)}else{this.processFailure(b,a,d)}}else{this.processFailure(b,a)}this.fireFinishEvents(b)},uploadFile:function(a,e){if(true!==this.eventsSuspended&&false===this.fireEvent("beforefilestart",this,a)){return}var c=this.createForm(a);var b=a.get("input");b.set({name:b.id});c.appendChild(b);var d=this.getOptions(a,e);d.form=c;a.set("state","uploading");a.set("pctComplete",0);this.upCount++;Ext.Ajax.request(d);this.getIframe.defer(100,this,[a])},uploadSingle:function(){var a=this.store.queryBy(function(d){return"done"!==d.get("state")});if(!a.getCount()){return}var b=this.createForm();a.each(function(d){var e=d.get("input");e.set({name:e.id});b.appendChild(e);d.set("state","uploading")},this);var c=this.getOptions();c.form=b;this.form=b;this.upCount++;Ext.Ajax.request(c)}});Ext.reg("fileuploader",Ext.ux.FileUploader);Ext.ux.UploadPanel=Ext.extend(Ext.Panel,{addIconCls:"icon-plus",addText:"Add",bodyStyle:"padding:2px",buttonsAt:"tbar",clickRemoveText:"Click to remove",clickStopText:"Click to stop",emptyText:"No files",enableProgress:true,errorText:"Error",fileCls:"file",fileQueuedText:"File <b>{0}</b> is queued for upload",fileDoneText:"File <b>{0}</b> has been successfully uploaded",fileFailedText:"File <b>{0}</b> failed to upload",fileStoppedText:"File <b>{0}</b> stopped by user",fileUploadingText:"Uploading file <b>{0}</b>",maxFileSize:524288,maxLength:18,removeAllIconCls:"icon-cross",removeAllText:"Remove All",removeIconCls:"icon-minus",removeText:"Remove",selectedClass:"ux-up-item-selected",singleUpload:false,stopAllText:"Stop All",stopIconCls:"icon-stop",uploadText:"Upload",uploadIconCls:"icon-upload",workingIconCls:"icon-working",initComponent:function(){var d={xtype:"browsebutton",text:this.addText+"...",iconCls:this.addIconCls,scope:this,handler:this.onAddFile};var b={xtype:"button",iconCls:this.uploadIconCls,text:this.uploadText,scope:this,handler:this.onUpload,disabled:true};var e={xtype:"button",iconCls:this.removeAllIconCls,tooltip:this.removeAllText,scope:this,handler:this.onRemoveAllClick,disabled:true};if("body"!==this.buttonsAt){this[this.buttonsAt]=[d,b,"->",e]}var a=[{name:"id",type:"text",system:true},{name:"shortName",type:"text",system:true},{name:"fileName",type:"text",system:true},{name:"filePath",type:"text",system:true},{name:"fileCls",type:"text",system:true},{name:"input",system:true},{name:"form",system:true},{name:"state",type:"text",system:true},{name:"error",type:"text",system:true},{name:"progressId",type:"int",system:true},{name:"bytesTotal",type:"int",system:true},{name:"bytesUploaded",type:"int",system:true},{name:"estSec",type:"int",system:true},{name:"filesUploaded",type:"int",system:true},{name:"speedAverage",type:"int",system:true},{name:"speedLast",type:"int",system:true},{name:"timeLast",type:"int",system:true},{name:"timeStart",type:"int",system:true},{name:"pctComplete",type:"int",system:true}];if(Ext.isArray(this.customFields)){a.push(this.customFields)}this.store=new Ext.data.SimpleStore({id:0,fields:a,data:[]});Ext.apply(this,{items:[{xtype:"dataview",itemSelector:"div.ux-up-item",store:this.store,selectedClass:this.selectedClass,singleSelect:true,emptyText:this.emptyText,tpl:this.tpl||new Ext.XTemplate('<tpl for="."><div class="ux-up-item"><div class="ux-up-icon-file {fileCls}">&#160;</div><div class="ux-up-text x-unselectable" qtip="{fileName}">{shortName}</div><div id="remove-{[values.input.id]}" class="ux-up-icon-state ux-up-icon-{state}"qtip="{[this.scope.getQtip(values)]}">&#160;</div></div></tpl>',{scope:this}),listeners:{click:{scope:this,fn:this.onViewClick}}}]});Ext.ux.UploadPanel.superclass.initComponent.apply(this,arguments);this.view=this.items.itemAt(0);this.addEvents("beforefileadd","fileadd","beforefileremove","fileremove","beforequeueclear","queueclear","beforeupload");this.relayEvents(this.view,["beforeclick","beforeselect","click","containerclick","contextmenu","dblclick","selectionchange"]);var c={store:this.store,singleUpload:this.singleUpload,maxFileSize:this.maxFileSize,enableProgress:this.enableProgress,url:this.url,path:this.path};if(this.baseParams){c.baseParams=this.baseParams}this.uploader=new Ext.ux.FileUploader(c);this.relayEvents(this.uploader,["beforeallstart","allfinished","progress"]);this.on({beforeallstart:{scope:this,fn:function(){this.uploading=true;this.updateButtons()}},allfinished:{scope:this,fn:function(){this.uploading=false;this.updateButtons()}},progress:{fn:this.onProgress.createDelegate(this)}})},onRender:function(){Ext.ux.UploadPanel.superclass.onRender.apply(this,arguments);var a="tbar"===this.buttonsAt?this.getTopToolbar():this.getBottomToolbar();this.addBtn=Ext.getCmp(a.items.first().id);this.uploadBtn=Ext.getCmp(a.items.itemAt(1).id);this.removeAllBtn=Ext.getCmp(a.items.last().id)},getQtip:function(a){var b="";switch(a.state){case"queued":b=String.format(this.fileQueuedText,a.fileName);b+="<br>"+this.clickRemoveText;break;case"uploading":b=String.format(this.fileUploadingText,a.fileName);b+="<br>"+a.pctComplete+"% done";b+="<br>"+this.clickStopText;break;case"done":b=String.format(this.fileDoneText,a.fileName);b+="<br>"+this.clickRemoveText;break;case"failed":b=String.format(this.fileFailedText,a.fileName);b+="<br>"+this.errorText+":"+a.error;b+="<br>"+this.clickRemoveText;break;case"stopped":b=String.format(this.fileStoppedText,a.fileName);b+="<br>"+this.clickRemoveText;break}return b},getFileName:function(a){return a.getValue().split(/[\/\\]/).pop()},getFilePath:function(a){return a.getValue().replace(/[^\/\\]+$/,"")},getFileCls:function(a){var b=a.split(".");if(1===b.length){return this.fileCls}else{return this.fileCls+"-"+b.pop().toLowerCase()}},onAddFile:function(d){if(true!==this.eventsSuspended&&false===this.fireEvent("beforefileadd",this,d.getInputFile())){return}var b=d.detachInputFile();b.addClass("x-hidden");var e=this.getFileName(b);var a=/[^/?*:;{}\\]+/;if(e.match(a)){var c=new this.store.recordType({input:b,fileName:e,filePath:this.getFilePath(b),shortName:Ext.util.Format.ellipsis(e,this.maxLength),fileCls:this.getFileCls(e),state:"queued"},b.id);c.commit();this.store.add(c);this.syncShadow();this.uploadBtn.enable();this.removeAllBtn.enable();this.ownerCt.doLayout();if(true!==this.eventsSuspended){this.fireEvent("fileadd",this,this.store,c)}}else{Ext.MessageBox.alert("Filename Error","Filenames must contain only alphanumeric, period (.), dash (-), or underscore (_) characters. Please rename the file and try again.")}},onDestroy:function(){if(this.uploader){this.uploader.stopAll();this.uploader.purgeListeners();this.uploader=null}if(this.view){this.view.purgeListeners();this.view.destroy();this.view=null}if(this.store){this.store.purgeListeners();this.store.destroy();this.store=null}},onProgress:function(h,f,g){var e,d,i,a,j,k,b,c;if(g){a=g.get("state");e=g.get("bytesTotal")||1;d=g.get("bytesUploaded")||0;if("uploading"===a){i=Math.round(1000*d/e)/10}else{if("done"===a){i=100}else{i=0}}g.set("pctComplete",i);j=this.store.indexOf(g);k=Ext.get(this.view.getNode(j));if(k){b=k.getWidth();k.applyStyles({"background-position":b*i/100+"px"})}}},onRemoveFile:function(a){if(true!==this.eventsSuspended&&false===this.fireEvent("beforefileremove",this,this.store,a)){return}var d=a.get("input");var b=d.up("em");d.remove();if(b){b.remove()}this.store.remove(a);var c=this.store.getCount();this.uploadBtn.setDisabled(!c);this.removeAllBtn.setDisabled(!c);if(true!==this.eventsSuspended){this.fireEvent("fileremove",this,this.store);this.syncShadow()}},onRemoveAllClick:function(a){if(true===this.uploading){this.stopAll()}else{this.removeAll()}},stopAll:function(){this.uploader.stopAll()},onViewClick:function(a,b,d,f){var c=f.getTarget("div:any(.ux-up-icon-queued|.ux-up-icon-failed|.ux-up-icon-done|.ux-up-icon-stopped)");if(c){this.onRemoveFile(this.store.getAt(b))}c=f.getTarget("div.ux-up-icon-uploading");if(c){this.uploader.stopUpload(this.store.getAt(b))}},onUpload:function(){if(true!==this.eventsSuspended&&false===this.fireEvent("beforeupload",this)){return false}this.uploader.upload()},setUrl:function(a){this.url=a;this.uploader.setUrl(a)},setPath:function(a){this.uploader.setPath(a)},updateButtons:function(){if(true===this.uploading){this.addBtn.disable();this.uploadBtn.disable();this.removeAllBtn.setIconClass(this.stopIconCls);this.removeAllBtn.getEl().child(this.removeAllBtn.buttonSelector).dom[this.removeAllBtn.tooltipType]=this.stopAllText}else{this.addBtn.enable();this.uploadBtn.enable();this.removeAllBtn.setIconClass(this.removeAllIconCls);this.removeAllBtn.getEl().child(this.removeAllBtn.buttonSelector).dom[this.removeAllBtn.tooltipType]=this.removeAllText}},removeAll:function(){var a=this.eventsSuspended;if(false!==this.eventsSuspended&&false===this.fireEvent("beforequeueclear",this,this.store)){return false}this.suspendEvents();this.store.each(this.onRemoveFile,this);this.eventsSuspended=a;if(true!==this.eventsSuspended){this.fireEvent("queueclear",this,this.store)}this.syncShadow()},syncShadow:function(){if(this.contextmenu&&this.contextmenu.shadow){this.contextmenu.getEl().shadow.show(this.contextmenu.getEl())}}});Ext.reg("uploadpanel",Ext.ux.UploadPanel);Ext.ux.FileTreeMenu=function(b){b=b||{};var a={hideOnClick:false,cmd:"upload-panel",contextmenu:this,buttonsAt:b.buttonsAt||"tbar",singleUpload:b.singleUpload||false,maxFileSize:b.maxFileSize,enableProgress:b.enableProgress};if(b.baseParams){b.baseParams.cmd=b.baseParams.cmd||"upload";b.baseParams.dir=b.baseParams.dir||".";a.baseParams=b.baseParams}Ext.apply(b,{items:[{text:"&#160",cls:"ux-ftm-nodename",disabledClass:"",disabled:true,cmd:"nodename"},{text:this.openText+" (Enter)",iconCls:this.openIconCls,cmd:"open",menu:{items:[{text:this.openInEditor,iconCls:this.openIconCls,cmd:"open-editor"},{text:this.openSelfText,iconCls:this.openSelfIconCls,cmd:"open-self"},{text:this.openPopupText,iconCls:this.openPopupIconCls,cmd:"open-popup"},{text:this.openBlankText,iconCls:this.openBlankIconCls,cmd:"open-blank"},{text:this.openDwnldText,iconCls:this.openDwnldIconCls,cmd:"open-dwnld"}]}},new Ext.menu.Separator({cmd:"sep-open"}),{text:this.reloadText+" (Ctrl+E)",iconCls:this.reloadIconCls,cmd:"reload"},{text:this.expandText+" (Ctrl+&nbsp;&rarr;)",iconCls:this.expandIconCls,cmd:"expand"},{text:this.collapseText+" (Ctrl+&nbsp;&larr;)",iconCls:this.collapseIconCls,cmd:"collapse"},new Ext.menu.Separator({cmd:"sep-svn"}),{text:"SVN Add",iconCls:"icon-svn-add",cmd:"svnadd"},{text:"SVN Commit",iconCls:"icon-svn-commit",cmd:"svncommit"},{text:"SVN Compare With Base",iconCls:"icon-svn-diff",cmd:"svndiff"},{text:"SVN Revert",iconCls:"icon-svn-revert",cmd:"svnrevert"},{text:"SVN Update",iconCls:"icon-svn-update",cmd:"svnupdate"},new Ext.menu.Separator({cmd:"sep-collapse"}),{text:this.copyText+" (Ctrl+C)",iconCls:this.copyIconCls,cmd:"copy"},{text:this.pasteText+" (Ctrl+P)",iconCls:this.pasteIconCls,cmd:"paste"},{text:this.renameText+" (F2)",iconCls:this.renameIconCls,cmd:"rename"},{text:this.deleteText+" ("+this.deleteKeyName+")",iconCls:this.deleteIconCls,cmd:"delete"},{text:this.newdirText+"... (Ctrl+N)",iconCls:this.newdirIconCls,cmd:"newdir"},new Ext.menu.Separator({cmd:"sep-upload"}),{text:this.uploadFileText+" (Ctrl+U)",iconCls:this.uploadIconCls,hideOnClick:false,cmd:"upload"},new Ext.ux.UploadPanel(a)]});Ext.ux.FileTreeMenu.superclass.constructor.call(this,b);this.relayEvents(this.getItemByCmd("open").menu,["click","itemclick"])};Ext.extend(Ext.ux.FileTreeMenu,Ext.menu.Menu,{collapseIconCls:"icon-collapse-all",collapseText:"Collapse all",deleteIconCls:"icon-cross",deleteKeyName:"Delete Key",deleteText:"Delete",expandIconCls:"icon-expand-all",expandText:"Expand all",newdirIconCls:"icon-folder-add",newdirText:"New folder",openBlankIconCls:"icon-open-blank",openBlankText:"Open in new window",openInEditor:"Open in editor",openDwnldIconCls:"icon-open-download",openDwnldText:"Download",openIconCls:"icon-open",openPopupIconCls:"icon-open-popup",openPopupText:"Open in popup",openSelfIconCls:"icon-open-self",openSelfText:"Open in this window",openText:"Open",reloadIconCls:"icon-refresh",reloadText:'R<span style="text-decoration:underline">e</span>load',copyIconCls:"icon-copy",copyText:"Copy",pasteIconCls:"icon-paste",pasteText:"Paste",renameIconCls:"icon-pencil",renameText:"Rename",uploadFileText:'<span style="text-decoration:underline">U</span>pload file',uploadIconCls:"icon-upload",uploadText:"Upload",width:190,getItemByCmd:function(c){var a;var b=this.items.find(function(d){return c===d.cmd});if(!b){a=this.items.find(function(d){return"open"===d.cmd});if(!a){return null}b=a.menu.items.find(function(d){return c===d.cmd})}return b},setItemDisabled:function(c,a){var b=this.getItemByCmd(c);if(b){b.setDisabled(a)}},beforeDestroy:function(){var a=this.getItemByCmd("upload-panel");if(a&&a.component){a.component.purgeListeners();a.component.destroy();a.component=null}}});Ext.reg("filetreemenu",Ext.ux.FileTreeMenu);Ext.ux.FileTreePanel=Ext.extend(Ext.tree.TreePanel,{confirmText:"Confirm",containerScroll:true,deleteText:"Delete",enableDD:true,enableDelete:true,enableCopy:true,enablePaste:true,enableNewDir:true,enableOpen:true,enableProgress:true,enableRename:true,enableSort:true,enableUpload:true,errorText:"Error",existsText:"File <b>{0}</b> already exists",expandOnRender:true,fileCls:"file",fileText:"File",focusPopup:true,folderSort:true,hrefPrefix:"",hrefSuffix:"",layout:"fit",loadingText:"Loading",loadMask:false,maxFileSize:524288,maxMsgLen:2000,method:"POST",newdirText:"untitled",openMode:"popup",overwriteText:"Do you want to overwrite it?",popupFeatures:"width=800,height=600,dependent=1,scrollbars=1,resizable=1,toolbar=1",readOnly:false,reallyWantText:"Do you really want to",rootPath:"",rootText:"Home",rootVisible:true,selectOnEdit:true,singleUpload:false,topMenu:false,url:"services.php",initComponent:function(){Ext.apply(this,{root:new Ext.tree.AsyncTreeNode({text:this.rootText,path:this.rootPath,rootVisible:this.rootVisible,allowDrag:false}),treeEditor:!this.readOnly?new Ext.tree.TreeEditor(this,{allowBlank:false,cancelOnEsc:true,completeOnEnter:true,ignoreNoChange:true,selectOnFocus:this.selectOnEdit}):undefined,dropConfig:this.dropConfig?this.dropConfig:{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.enableSort,expandDelay:3600000},treeSorter:this.enableSort?new Ext.tree.TreeSorter(this,{folderSort:this.folderSort}):undefined,keys:[{key:Ext.EventObject.ENTER,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&0!==b.getDepth()&&b.isLeaf()){this.editorNode(b)}}},{key:113,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&0!==b.getDepth()&&this.enableRename&&this.readOnly!==true){this.treeEditor.triggerEdit(b)}}},{key:77,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&0!==b.getDepth()&&this.enableRename&&this.readOnly!==true){this.showContextMenu(b)}}},{key:67,ctrl:true,stopEvent:true,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&0!==b.getDepth()&&this.enableCopy&&this.readOnly!==true){this.copyNode(b)}}},{key:80,ctrl:true,stopEvent:true,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&0!==b.getDepth()&&this.enablePaste&&this.readOnly!==true){this.pasteNode(b)}}},{key:46,stopEvent:true,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&0!==b.getDepth()&&this.enableDelete&&this.readOnly!==true){this.deleteNode(b)}}},{key:69,ctrl:true,stopEvent:true,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b){b=b.isLeaf()?b.parentNode:b;d.select(b);b.reload()}}},{key:39,ctrl:true,stopEvent:true,scope:this,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&!b.isLeaf()){d.select(b);b.expand.defer(1,b,[true])}}},{key:37,ctrl:true,scope:this,stopEvent:true,fn:function(a,c){var d=this.getSelectionModel();var b=d.getSelectedNode();if(b&&!b.isLeaf()){d.select(b);b.collapse.defer(1,b,[true])}}},{key:78,ctrl:true,scope:this,stopEvent:true,fn:function(a,c){var d,b;d=this.getSelectionModel();b=d.getSelectedNode();if(b&&this.enableNewDir&&this.readOnly!==true){b=b.isLeaf()?b.parentNode:b;this.createNewDir(b)}}}]});if(!this.loader){this.loader=new Ext.tree.TreeLoader({url:this.url,baseParams:{cmd:"get"},listeners:{beforeload:{scope:this,fn:function(a,b){a.baseParams.path=this.getPath(b)}}}})}if(true===this.topMenu){this.tbar=[{text:this.fileText,disabled:true,scope:this,menu:this.getContextMenu()}]}Ext.ux.FileTreePanel.superclass.initComponent.apply(this,arguments);if(this.treeEditor){this.treeEditor.beforeNodeClick=function(a,b){return true};this.treeEditor.on({complete:{scope:this,fn:this.onEditComplete},beforecomplete:{scope:this,fn:this.onBeforeEditComplete}})}this.on({contextmenu:{scope:this,fn:this.onContextMenu,stopEvent:true},dblclick:{scope:this,fn:this.onDblClick},beforenodedrop:{scope:this,fn:this.onBeforeNodeDrop},nodedrop:{scope:this,fn:this.onNodeDrop},nodedragover:{scope:this,fn:this.onNodeDragOver}});this.addEvents("beforeopen","open","beforecopy","copy","copyfailure","beforepaste","paste","pastefailure","beforerename","rename","renamefailure","beforedelete","delete","deletefailure","beforenewdir","newdir","newdirfailure")},onRender:function(){Ext.ux.FileTreePanel.superclass.onRender.apply(this,arguments);if(true===this.topMenu){this.topMenu=Ext.getCmp(this.getTopToolbar().items.itemAt(0).id);this.getSelectionModel().on({scope:this,selectionchange:function(c,b){var a=b?false:true;a=a||this.readOnly;this.topMenu.setDisabled(a)}});Ext.apply(this.topMenu,{showMenu:function(){this.showContextMenu(false)}.createDelegate(this)})}if(this.expandOnRender){this.root.expand()}this.el.on({contextmenu:{fn:function(){return false},stopEvent:true}});if(true===this.loadMask){this.loader.on({scope:this.el,beforeload:this.el.mask.createDelegate(this.el,[this.loadingText+"..."]),load:this.el.unmask,loadexception:this.el.unmask})}},cmdCallback:function(b,h,a){var d,g,e;var f=true;if(true===h){try{g=Ext.decode(a.responseText)}catch(c){this.showError(a.responseText)}if(true===g.success){switch(b.params.cmd){case"delete":if(true!==this.eventsSuspended){this.fireEvent("delete",this,this.getPath(b.node))}if(null!=b.node.parentNode){b.node.parentNode.removeChild(b.node)}break;case"newdir":if(true!==this.eventsSuspended){this.fireEvent("newdir",this,b.node)}break;case"rename":this.updateCls(b.node,b.params.oldname);if(true!==this.eventsSuspended){this.fireEvent("rename",this,b.node,b.params.newname,b.params.oldname)}break;case"copy":if(true!==this.eventsSuspended){this.fireEvent("copy",this,this.getPath(b.node))}break;case"paste":if(true!==this.eventsSuspended){this.fireEvent("paste",this,this.getPath(b.node));b.node.reload()}break}}else{switch(b.params.cmd){case"rename":if(b.oldParent){b.oldParent.appendChild(b.node)}else{b.node.setText(b.oldName)}if(b.e){b.e.failure=true}if(true!==this.eventsSuspended){this.fireEvent("renamefailure",this,b.node,b.params.newname,b.params.oldname)}break;case"newdir":if(false!==this.eventsSuspended){this.fireEvent("newdirfailure",this,b.params.dir)}b.node.parentNode.removeChild(b.node);break;case"delete":if(true!==this.eventsSuspended){this.fireEvent("deletefailure",this,b.node)}b.node.parentNode.reload.defer(1,b.node.parentNode);break;case"copy":if(true!==this.eventsSuspended){this.fireEvent("copyfailure",this,b.node)}break;case"paste":if(true!==this.eventsSuspended){this.fireEvent("pastefailure",this,b.node)}break;default:this.root.reload();break}this.showError(g.error||a.responseText)}}else{this.showError(a.responseText)}},confirmOverwrite:function(a,c,b){Ext.Msg.show({title:this.confirmText,msg:String.format(this.existsText,a)+". "+this.overwriteText,icon:Ext.Msg.QUESTION,buttons:Ext.Msg.YESNO,fn:c.createDelegate(b||this)})},uploadWindow:function(a){var c=this.getContextMenu();var b=new Ext.Window({width:180,minWidth:165,id:"upload-win",height:220,minHeight:200,layout:"fit",border:false,closable:true,title:"Upload",iconCls:"icon-upload",items:[{xtype:"uploadpanel",buttonsAt:"tbar",id:"upload-panel",url:this.url,enableProgress:false,singleUpload:false,path:this.getPath(a),listeners:{allfinished:function(){(c.node.isLeaf()?c.node.parentNode:c.node).reload()}}}]});b.show()},svnAdd:function(e){if(true!==this.eventsSuspended&&false===this.fireEvent("beforesvnAdd",this,e)){return}var g=this.getContextMenu();var d=this.getPath(e);var a=this.loginSvn;var c=this;var f=Ext.MessageBox.wait("Adding "+d+"...");var b={url:c.url,method:c.method,scope:c,callback:c.cmdCallback,node:e,params:{cmd:"svnAdd",file:d,username:top.cr.svn.username,password:top.cr.svn.password},success:function(j,i){f.hide();var h=Ext.decode(j.responseText);Ext.MessageBox.alert("Result",h.result);n=g.node;while(n.parentNode!=null){n=n.parentNode}n.reload()},failure:function(i){f.hide();var h=Ext.decode(r.responseText);Ext.MessageBox.alert("Error",h.result);throw i}};if(top.cr.svn.username==""){a(function(){b.params.username=$("svnusername").value;b.params.password=$("svnpassword").value;Ext.Ajax.request(b)},function(){f.hide()})}else{Ext.Ajax.request(b)}},svnRevert:function(d){if(true!==this.eventsSuspended&&false===this.fireEvent("beforesvnRevert",this,d)){return}var e=this.getContextMenu();var c=this.getPath(d);var a=this.loginSvn;var b=this;Ext.MessageBox.show({title:"Revert",msg:"Are you sure you want to revert?<br/><br/>Any changes will be lost.",width:300,buttons:Ext.MessageBox.OKCANCEL,fn:function(g,i){if("ok"==g){var h=Ext.MessageBox.wait("Reverting "+c+"...");var f={url:b.url,method:b.method,scope:b,callback:b.cmdCallback,node:d,params:{cmd:"svnRevert",file:c,username:top.cr.svn.username,password:top.cr.svn.password},success:function(l,k){h.hide();var j=Ext.decode(l.responseText);Ext.MessageBox.alert("Result",j.result);n=e.node;while(n.parentNode!=null){n=n.parentNode}n.reload()},failure:function(k){h.hide();var j=Ext.decode(r.responseText);Ext.MessageBox.alert("Error",j.result);throw k}};if(top.cr.svn.username==""){a(function(){f.params.username=$("svnusername").value;f.params.password=$("svnpassword").value;Ext.Ajax.request(f)},function(){h.hide()})}else{Ext.Ajax.request(f)}}}})},svnCommit:function(d){if(true!==this.eventsSuspended&&false===this.fireEvent("beforesvnCommit",this,d)){return}var e=this.getContextMenu();var c=this.getPath(d);var a=this.loginSvn;var b=this;Ext.MessageBox.show({title:"Comment",msg:"Please enter your commit comment:",width:300,buttons:Ext.MessageBox.OKCANCEL,multiline:true,fn:function(g,i){if("ok"==g){var h=Ext.MessageBox.wait("Committing "+c+"...");var f={url:b.url,method:b.method,scope:b,callback:b.cmdCallback,node:d,params:{cmd:"svnCommit",file:c,username:top.cr.svn.username,password:top.cr.svn.password,comments:i},success:function(l,k){h.hide();var j=Ext.decode(l.responseText);Ext.MessageBox.alert("Result",j.result);n=e.node;while(n.parentNode!=null){n=n.parentNode}n.reload()},failure:function(k){h.hide();var j=Ext.decode(r.responseText);Ext.MessageBox.alert("Error",j.result);throw k}};if(top.cr.svn.username==""){a(function(){f.params.username=$("svnusername").value;f.params.password=$("svnpassword").value;Ext.Ajax.request(f)},function(){h.hide()})}else{Ext.Ajax.request(f)}}}})},svnDiff:function(e){var d=this.getPath(e);var a=this.loginSvn;var c=this;var f=Ext.MessageBox.wait("Getting Diff "+d+"...");var b={url:c.url,method:c.method,scope:c,callback:c.cmdCallback,node:e,params:{cmd:"svnDiff",file:d,username:top.cr.svn.username,password:top.cr.svn.password},success:function(i,h){f.hide();var g=Ext.decode(i.responseText);Ext.MessageBox.show({title:"Diff",width:800,msg:'<div class="svn-diff"><pre>'+g.result.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>")+"</pre></div>",buttons:Ext.MessageBox.OK})},failure:function(h){f.hide();var g=Ext.decode(r.responseText);Ext.MessageBox.alert("Error",g.result);throw h}};if(top.cr.svn.username==""){a(function(){b.params.username=$("svnusername").value;b.params.password=$("svnpassword").value;Ext.Ajax.request(b)},function(){f.hide()})}else{Ext.Ajax.request(b)}},svnUpdate:function(b){if(true!==this.eventsSuspended&&false===this.fireEvent("beforesvnUpdate",this,b)){return}var d=this.getContextMenu();var c=Ext.MessageBox.wait("Updating "+this.getPath(b)+"...");var a={url:this.url,method:this.method,scope:this,callback:this.cmdCallback,node:b,params:{cmd:"svnUpdate",file:this.getPath(b),username:top.cr.svn.username,password:top.cr.svn.password},success:function(g,f){c.hide();var e=Ext.decode(g.responseText);Ext.MessageBox.alert("Result",e.result);n=d.node;while(n.parentNode!=null){n=n.parentNode}n.reload()},failure:function(g){c.hide();var f=Ext.decode(r.responseText);Ext.MessageBox.alert("Error",f.result);throw g}};if(top.cr.svn.username==""){this.loginSvn(function(){a.params.username=$("svnusername").value;a.params.password=$("svnpassword").value;Ext.Ajax.request(a)},function(){c.hide()})}else{Ext.Ajax.request(a)}},loginSvn:function(b,d){var a=new Ext.FormPanel({labelWidth:80,frame:true,title:"Please Login to Subversion",width:230,defaultType:"textfield",items:[{fieldLabel:"Login",name:"svnusername",id:"svnusername",value:top.cr.user.username,allowBlank:false},{fieldLabel:"Password",name:"svnpassword",id:"svnpassword",inputType:"password",allowBlank:false,listeners:{specialkey:function(f,e){if(e.getKey()==Ext.EventObject.ENTER){Ext.getCmp("loginButtonSvn").fireEvent("click")}}}},{name:"cmd",inputType:"hidden",value:"login"}],buttons:[{id:"loginButtonSvn",formBind:true,text:"Login",listeners:{click:function(){if(a.getForm().isValid()){top.cr.svn.username=$("svnusername").value;top.cr.svn.password=$("svnpassword").value;b();c.close()}}}},{formBind:true,text:"Cancel",listeners:{click:function(){d();c.close()}}}]});var c=new Ext.Window({modal:true,layout:"fit",width:270,height:150,closable:false,resizable:false,snplain:true,items:[a]});c.show()},createNewDir:function(d){if(true!==this.eventsSuspended&&false===this.fireEvent("beforenewdir",this,d)){return}var b=this.treeEditor;var a;var c=d.isLeaf()?d.parentNode:d;c.expand(false,false,function(e){a=e.appendChild(new Ext.tree.AsyncTreeNode({text:this.newdirText,iconCls:"folder"}));b.on({complete:{scope:this,single:true,fn:this.onNewDir}});b.creatingNewDir=true;(function(){b.triggerEdit(a)}.defer(10))}.createDelegate(this))},deleteNode:function(a){if(true!==this.eventsSuspended&&false===this.fireEvent("beforedelete",this,a)){return}Ext.Msg.show({title:this.deleteText,msg:this.reallyWantText+" "+this.deleteText.toLowerCase()+" <b>"+a.text+"</b>?",icon:Ext.Msg.WARNING,buttons:Ext.Msg.YESNO,scope:this,fn:function(b){if("yes"!==b){this.getEl().dom.focus();return}var c={url:this.deleteUrl||this.url,method:this.method,scope:this,callback:this.cmdCallback,node:a,params:{cmd:"delete",file:this.getPath(a)}};Ext.Ajax.request(c)}})},copyNode:function(b){if(true!==this.eventsSuspended&&false===this.fireEvent("beforecopy",this,b)){return}var a={url:this.copyUrl||this.url,method:this.method,scope:this,callback:this.cmdCallback,node:b,params:{cmd:"copy",path:this.getPath(b)}};Ext.Ajax.request(a)},pasteNode:function(b){if(true!==this.eventsSuspended&&false===this.fireEvent("beforepaste",this,b)){return}b=b.isLeaf()?b.parentNode:b;var a={url:this.paste||this.url,method:this.method,scope:this,callback:this.cmdCallback,node:b,params:{cmd:"paste",path:this.getPath(b)}};Ext.Ajax.request(a)},downloadFile:function(c){var f=Ext.id();var d=document.createElement("iframe");d.id=f;d.name=f;d.className="x-hidden";if(Ext.isIE){d.src=Ext.SSL_SECURE_URL}document.body.appendChild(d);if(Ext.isIE){document.frames[f].name=f}var a=Ext.DomHelper.append(document.body,{tag:"form",method:"post",action:this.downloadUrl||this.url,target:f});document.body.appendChild(a);var b;b=document.createElement("input");b.type="hidden";b.name="cmd";b.value="download";a.appendChild(b);b=document.createElement("input");b.type="hidden";b.name="path";b.value=c;a.appendChild(b);var e=function(){Ext.EventManager.removeListener(d,"load",e,this);setTimeout(function(){document.body.removeChild(a)},100);setTimeout(function(){document.body.removeChild(d)},110)};Ext.EventManager.on(d,"load",e,this);a.submit()},getContextMenu:function(){if(!this.contextmenu){var a={singleUpload:this.singleUpload,maxFileSize:this.maxFileSize,enableProgress:this.enableProgress};if(this.baseParams){a.baseParams=this.baseParams}this.contextmenu=new Ext.ux.FileTreeMenu(a);this.contextmenu.on({click:{scope:this,fn:this.onContextClick}});this.uploadPanel=this.contextmenu.getItemByCmd("upload-panel");this.uploadPanel.on({beforeupload:{scope:this,fn:this.onBeforeUpload},allfinished:{scope:this,fn:this.onAllFinished}});this.uploadPanel.setUrl(this.uploadUrl||this.url)}return this.contextmenu},getFileCls:function(a){var b=a.split(".");if(1===b.length){return this.fileCls}else{return this.fileCls+"-"+b.pop().toLowerCase()}},getPath:function(c){var e,d,b;if(c!==this.root){d=c.parentNode;b=[c.text];while(d&&d!==this.root){b.unshift(d.text);d=d.parentNode}b.unshift(this.root.attributes.path||"");e=b.join(this.pathSeparator)}else{e=c.attributes.path||""}e=e.replace(/^[\/]*/,"");return e},hasChild:function(b,a){return(b.isLeaf()?b.parentNode:b).findChild("text",a)!==null},hideContextMenu:function(){if(this.contextmenu&&this.contextmenu.isVisible()){this.contextmenu.hide()}return this},onBeforeEditComplete:function(c,a,b){if(c.cancellingEdit){c.cancellingEdit=false;return}var e=this.getPath(c.editNode);var d=e.replace(/\/[^\\]+$/,"/"+a);if(false===this.fireEvent("beforerename",this,c.editNode,d,e)){c.cancellingEdit=true;c.cancelEdit();return false}},onBeforeNodeDrop:function(g){var f=g.dropNode;var h=g.target.leaf?g.target.parentNode:g.target;if(f.parentNode===h){return false}if(this.hasChild(h,f.text)&&undefined===g.confirmed){this.confirmOverwrite(f.text,function(d){g.confirmed="yes"===d;this.onBeforeNodeDrop(g)});return false}if(false===g.confirmed){return false}g.confirmed=undefined;g.oldParent=f.parentNode;var c=this.getPath(f);var a=this.getPath(h)+"/"+f.text;if(true!==this.eventsSuspended&&false===this.fireEvent("beforerename",this,f,a,c)){return false}var b={url:this.renameUrl||this.url,method:this.method,scope:this,callback:this.cmdCallback,node:f,oldParent:f.parentNode,e:g,params:{cmd:"rename",oldname:c,newname:a}};Ext.Ajax.request(b);return true},onBeforeUpload:function(c){var b=this.getContextMenu();var a=this.getPath(b.node);if(b.node.isLeaf()){a=a.replace(/\/[^\/]+$/,"",a)}c.setPath(a)},onAllFinished:function(a){var b=this.getContextMenu();(b.node.isLeaf()?b.node.parentNode:b.node).reload()},onContextClick:function(d,b,c){if(b.disabled){return}var a=d.node;if(!a){a=d.parentMenu.node}switch(b.cmd){case"reload":a.reload();break;case"expand":a.expand(true);break;case"collapse":a.collapse(true);break;case"open":this.openNode(a);break;case"open-editor":this.editorNode(a,"_self");break;case"open-self":this.openNode(a,"_self");break;case"open-popup":this.openNode(a,"popup");break;case"open-blank":this.openNode(a,"_blank");break;case"open-dwnld":this.openNode(a,"download");break;case"rename":this.treeEditor.triggerEdit(a);break;case"delete":this.deleteNode(a);break;case"copy":this.copyNode(a);break;case"paste":this.pasteNode(a);break;case"newdir":this.createNewDir(a);break;case"upload":this.uploadWindow(a);break;case"svnadd":this.svnAdd(a);break;case"svncommit":this.svnCommit(a);break;case"svnupdate":this.svnUpdate(a);break;case"svnrevert":this.svnRevert(a);break;case"svndiff":this.svnDiff(a);break;default:break}},onContextMenu:function(a,b){if(this.readOnly){return false}this.showContextMenu(a);return false},onDblClick:function(a,b){},onDestroy:function(){if(this.contextmenu){this.contextmenu.purgeListeners();this.contextmenu.destroy();this.contextmenu=null}if(this.treeEditor){this.treeEditor.purgeListeners();this.treeEditor.destroy();this.treeEditor=null}if(this.treeSorter){this.treeSorter=null}Ext.ux.FileTreePanel.superclass.onDestroy.call(this)},onEditComplete:function(d,a,c){var e=d.editNode;if(a===c||d.creatingNewDir){d.creatingNewDir=false;return}var f=this.getPath(e.parentNode);var b={url:this.renameUrl||this.url,method:this.method,scope:this,callback:this.cmdCallback,node:e,oldName:c,params:{cmd:"rename",oldname:f+"/"+c,newname:f+"/"+a}};Ext.Ajax.request(b)},onNewDir:function(b){var c=this.getPath(b.editNode);var a={url:this.newdirUrl||this.url,method:this.method,scope:this,node:b.editNode,callback:this.cmdCallback,params:{cmd:"newdir",dir:c}};Ext.Ajax.request(a)},onNodeDragOver:function(a){a.cancel=a.target.disabled||a.dropNode.parentNode===a.target.parentNode&&a.target.isLeaf()},onNodeDrop:function(b){if(true===b.failure){b.oldParent.appendChild(b.dropNode);return}var a=b.dropNode.parentNode.findChild("text",b.dropNode.text);if(a&&a!==b.dropNode){a.parentNode.removeChild(a)}},editorNode:function(a){cr.editFile(a)},openNode:function(b,d){if(!this.enableOpen){return}d=d||this.openMode;var a;var c;if(b.isLeaf()){c=this.getPath(b);a=this.hrefPrefix+c+this.hrefSuffix;if(true!==this.eventsSuspended&&false===this.fireEvent("beforeopen",this,b.text,a,d)){return}switch(d){case"popup":if(!this.popup||this.popup.closed){this.popup=window.open(a,this.hrefTarget,this.popupFeatures)}this.popup.location=a;if(this.focusPopup){this.popup.focus()}break;case"_self":window.location=a;break;case"_blank":window.open(a);break;case"download":this.downloadFile(c);break}if(true!==this.eventsSuspended){this.fireEvent("open",this,b.text,a,d)}}},setCopyDisabled:function(a){a=!(!a);if(!this.enableCopy===a){return this}this.hideContextMenu();this.enableCopy=!a},setPasteDisabled:function(a){a=!(!a);if(!this.enablePaste===a){return this}this.hideContextMenu();this.enablePaste=!a},setDeleteDisabled:function(a){a=!(!a);if(!this.enableDelete===a){return this}this.hideContextMenu();this.enableDelete=!a},setNewdirDisabled:function(a){a=!(!a);if(!this.enableNewDir===a){return this}this.hideContextMenu();this.enableNewDir=!a},setOpenDisabled:function(a){a=!(!a);if(!this.enableOpen===a){return this}this.hideContextMenu();this.enableOpen=!a;return this},setReadOnly:function(a){a=!(!a);if(this.readOnly===a){return this}this.hideContextMenu();if(this.dragZone){this.dragZone.locked=a}this.readOnly=a;return this},setRenameDisabled:function(a){a=!(!a);if(!this.enableRename===a){return this}this.hideContextMenu();if(this.dragZone){this.dragZone.locked=a}this.enableRename=!a;return this},setUploadDisabled:function(a){a=!(!a);if(!this.enableUpload===a){return this}this.hideContextMenu();this.enableUpload=!a;return this},showContextMenu:function(node){var topAlign=false;var alignEl=this.topMenu?this.topMenu.getEl():this.body;var disablePaste=true;if(!node){node=this.getSelectionModel().getSelectedNode();topAlign=true}else{alignEl=node.getUI().getEl()}if(!node){return}var options={url:this.pasteUrl||this.url,scope:this,method:this.method,success:function(responseObject){disablePaste=eval(responseObject.responseText);var menu=this.getContextMenu();menu.node=node;menu.getItemByCmd("nodename").setText(Ext.util.Format.ellipsis(node.text,22));menu.setItemDisabled("open",!node.isLeaf());menu.setItemDisabled("reload",node.isLeaf());menu.setItemDisabled("expand",node.isLeaf());menu.setItemDisabled("collapse",node.isLeaf());menu.setItemDisabled("copy",this.readOnly||node===this.root||node.disabled);menu.setItemDisabled("paste",this.readOnly||node.disabled||disablePaste);menu.setItemDisabled("delete",node===this.root||node.disabled);menu.setItemDisabled("rename",this.readOnly||node===this.root||node.disabled);menu.setItemDisabled("newdir",this.readOnly||(node.isLeaf()?node.parentNode.disabled:node.disabled));menu.setItemDisabled("upload",node.isLeaf()?node.parentNode.disabled:node.disabled);menu.setItemDisabled("upload-panel",node.isLeaf()?node.parentNode.disabled:node.disabled);var t=node.attributes.iconCls;if(null==t){t=""}var isSvn=(t.indexOf("svn")>=0);var isNew=(t.indexOf("svnNew")>=0);var isModify=(t.indexOf("svnModified")>=0);var isFolder=(t.indexOf("foldersvn")>=0);menu.getItemByCmd("sep-svn").setVisible(isSvn);menu.getItemByCmd("svncommit").setVisible(isSvn&&isModify);menu.getItemByCmd("svndiff").setVisible(isSvn&&isModify);menu.getItemByCmd("svnadd").setVisible(isSvn&&isNew);menu.getItemByCmd("svnupdate").setVisible(isSvn&&!isNew);menu.getItemByCmd("svnrevert").setVisible(isSvn&&isModify&&!isFolder);menu.getItemByCmd("open").setVisible(this.enableOpen);menu.getItemByCmd("copy").setVisible(this.enableCopy);menu.getItemByCmd("paste").setVisible(this.enablePaste);menu.getItemByCmd("delete").setVisible(this.enableDelete);menu.getItemByCmd("newdir").setVisible(this.enableNewDir);menu.getItemByCmd("rename").setVisible(this.enableRename);menu.getItemByCmd("upload").setVisible(this.enableUpload);menu.getItemByCmd("upload-panel").setVisible(this.enableUpload);menu.getItemByCmd("sep-upload").setVisible(this.enableUpload);menu.getItemByCmd("sep-collapse").setVisible(this.enableNewDir||this.enableDelete||this.enableRename);menu.render();node.select();if(topAlign){menu.showAt(menu.getEl().getAlignToXY(alignEl,"tl-bl?"))}else{menu.showAt(menu.getEl().getAlignToXY(alignEl,"tl-tl?",[0,18]))}},params:{cmd:"check",type:"to-paste"}};Ext.Ajax.request(options)},showError:function(b,a){Ext.Msg.show({title:a||this.errorText,msg:Ext.util.Format.ellipsis(b,this.maxMsgLen),fixCursor:true,icon:Ext.Msg.ERROR,buttons:Ext.Msg.OK,minWidth:1200>String(b).length?360:600})},updateCls:function(b,a){if(b.isLeaf()){Ext.fly(b.getUI().iconNode).removeClass(this.getFileCls(a));Ext.fly(b.getUI().iconNode).addClass(this.getFileCls(b.text))}}});Ext.reg("filetreepanel",Ext.ux.FileTreePanel);Ext.namespace("Ext.ux.plugins");Ext.ux.plugins.EditAreaEditor=function(a){Ext.apply(this,{config:a})};Ext.extend(Ext.ux.plugins.EditAreaEditor,Ext.util.Observable,{config:{start_highlight:true,allow_toggle:false,language:"en",syntax:"html"},onRender:function(a){Ext.apply(this.config,{id:a.id});editAreaLoader.init(this.config)},init:function(a){a.on("render",this.onRender,this);Ext.apply(a,{setValue:a.setValue.createSequence(function(c,b){editAreaLoader.setValue(a.id,a.getValue())}),beforeDestroy:a.beforeDestroy.createSequence(function(c,b){})})}});Ext.reg("editarea",Ext.ux.plugins.EditAreaEditor);Ext.namespace("Ext.ux.Notify");Ext.namespace("Ext.ux.NotifyMgr");Ext.ux.NotifyMgr={msgIconBaseCls:"",msgStyle:"padding:10px",alignment:"bottom-right",offsets:[10,10],spacing:10,zIndex:30000,positions:[],windows:[]};Ext.EventManager.on(window,"resize",function(){var a=Ext.getBody(),l=a.getComputedWidth(),e=a.getComputedHeight();if(!Ext.ux.NotifyMgr.windows.length){return}for(var f=0;f<Ext.ux.NotifyMgr.windows.length;++f){var c=Ext.ux.NotifyMgr.windows[f].getInnerWidth()+Ext.ux.NotifyMgr.windows[f].getFrameWidth(),g=Ext.ux.NotifyMgr.windows[f].getInnerHeight()+Ext.ux.NotifyMgr.windows[f].getFrameHeight();switch(Ext.ux.NotifyMgr.alignment){case"top-center":Ext.ux.NotifyMgr.windows[f].el.setX(l-parseInt(l/2)-parseInt(c/2));break;case"top-right":Ext.ux.NotifyMgr.windows[f].el.setX(l-c-(Ext.ux.NotifyMgr.offsets[1]||10));break;case"bottom-left":var k=0;for(var d=f+1;d<Ext.ux.NotifyMgr.windows.length;++d){k+=Ext.ux.NotifyMgr.windows[d].getInnerHeight()+Ext.ux.NotifyMgr.windows[d].getFrameHeight()+(Ext.ux.NotifyMgr.spacing||10)}Ext.ux.NotifyMgr.windows[f].el.setY(e-g-k-(Ext.ux.NotifyMgr.offsets[0]||10));break;case"bottom-center":var k=0;for(var d=f+1;d<Ext.ux.NotifyMgr.windows.length;++d){k+=Ext.ux.NotifyMgr.windows[d].getInnerHeight()+Ext.ux.NotifyMgr.windows[d].getFrameHeight()+(Ext.ux.NotifyMgr.spacing||10)}Ext.ux.NotifyMgr.windows[f].el.setY(e-g-k-(Ext.ux.NotifyMgr.offsets[0]||10));Ext.ux.NotifyMgr.windows[f].el.setX(l-parseInt(l/2)-parseInt(c/2));break;case"bottom-right":var k=0;for(var d=f+1;d<Ext.ux.NotifyMgr.windows.length;++d){k+=Ext.ux.NotifyMgr.windows[d].getInnerHeight()+Ext.ux.NotifyMgr.windows[d].getFrameHeight()+(Ext.ux.NotifyMgr.spacing||10)}Ext.ux.NotifyMgr.windows[f].el.setY(e-g-k-(Ext.ux.NotifyMgr.offsets[0]||10));Ext.ux.NotifyMgr.windows[f].el.setX(l-c-(Ext.ux.NotifyMgr.offsets[1]||10));break}}});Ext.ux.Notify=Ext.extend(Ext.Window,{initComponent:function(){Ext.apply(this,{shadow:false,draggable:false,closable:false,resizable:false,iconCls:this.titleIconCls||"",bodyStyle:Ext.ux.NotifyMgr.msgStyle});this.task=new Ext.util.DelayedTask(this.hide,this);if(this.msgIconCls&&this.msgIconCls!==""){var a=Ext.ux.NotifyMgr.msgIconBaseCls!==""?Ext.ux.NotifyMgr.msgIconBaseCls+" ":"";this.html='<div class="'+a+this.msgIconCls+'"></div>'+this.msg}else{this.html=this.msg}Ext.ux.Notify.superclass.initComponent.call(this)},onDestroy:function(){Ext.ux.NotifyMgr.positions.remove(this.pos);Ext.ux.NotifyMgr.windows.remove(this);Ext.ux.Notify.superclass.onDestroy.call(this)},afterShow:function(){if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll)}if(this.layout){this.doLayout()}if(this.keyMap){this.keyMap.enable()}this.fireEvent("show",this);if(this.closable){this.on("close",function(){Ext.ux.NotifyMgr.positions.remove(this.pos);Ext.ux.NotifyMgr.windows.remove(this);this.task.cancel()},this)}this.task.delay(this.hideDelay||3000)},animShow:function(){this.pos=0;while(Ext.ux.NotifyMgr.positions.indexOf(this.pos)>-1){this.pos++}Ext.ux.NotifyMgr.positions.push(this.pos);this.setZIndex(Ext.ux.NotifyMgr.zIndex);this.el.setXY([-9999,-9999]);this.el.show();this.msgWidth=(this.msgWidth&&this.msgWidth>0)?this.msgWidth:250;this.setWidth(this.msgWidth);var d=Ext.getBody().getComputedHeight(),g=Ext.getBody().getComputedWidth(),f=this.getInnerHeight()+this.getFrameHeight(),m=this.getInnerWidth()+this.getFrameWidth(),l,k,a;switch(Ext.ux.NotifyMgr.alignment){case"top-left":l=Ext.ux.NotifyMgr.offsets[1]||10;k=-f;a=0;break;case"top-center":l=g-parseInt(g/2)-parseInt(m/2);k=-f;a=0;break;case"top-right":l=g-m-(Ext.ux.NotifyMgr.offsets[1]||10);k=-f;a=0;break;case"bottom-left":l=Ext.ux.NotifyMgr.offsets[1]||10;k=d;a=d-f;break;case"bottom-center":l=g-parseInt(g/2)-parseInt(m/2);k=d;a=d-f;break;case"bottom-right":l=g-m-(Ext.ux.NotifyMgr.offsets[1]||10);k=d;a=d-f;break}this.el.setXY([l,k]);this.el.shift({y:a-(Ext.ux.NotifyMgr.alignment.indexOf("bottom")>-1?Ext.ux.NotifyMgr.offsets[0]:-Ext.ux.NotifyMgr.offsets[0]),duration:1,callback:this.afterShow,scope:this});if(Ext.ux.NotifyMgr.windows.length>0){for(var e=0;e<Ext.ux.NotifyMgr.windows.length;++e){var c=0;for(var b=e;b<Ext.ux.NotifyMgr.windows.length;++b){c+=Ext.ux.NotifyMgr.windows[b].getInnerHeight()+Ext.ux.NotifyMgr.windows[b].getFrameHeight()+(Ext.ux.NotifyMgr.spacing||10)}Ext.ux.NotifyMgr.windows[e].el.shift({concurrent:true,y:a-(Ext.ux.NotifyMgr.alignment.indexOf("bottom")>-1?c:-c)-(Ext.ux.NotifyMgr.alignment.indexOf("bottom")>-1?Ext.ux.NotifyMgr.offsets[0]:-Ext.ux.NotifyMgr.offsets[0]),duration:1})}}Ext.ux.NotifyMgr.windows.push(this)},animHide:function(){Ext.ux.NotifyMgr.positions.remove(this.pos);Ext.ux.NotifyMgr.windows.remove(this);this.el.fadeOut({duration:2,scope:this,block:true,stopFx:true,useDisplay:false,callback:this.destroy})}});var XMLObjectifier=(function(){var b=function(e){if(!!e&&typeof(e)==="object"){function d(){}d.prototype=e;return new d()}};var c=function(e){var d="";if(!!e&&typeof(e)==="string"){d=e}var f=/^((-)?([0-9]*)((\.{0,1})([0-9]+))?$)/;return f.test(d)};var a={xmlToJSON:function(i){try{if(!i){return null}var h={};h.typeOf="JSXBObject";var g=(i.nodeType==9)?i.documentElement:i;h.RootName=g.nodeName||"";if(i.nodeType==3||i.nodeType==4){return i.nodeValue}function f(e){return e.replace(/^\s+|\s+$/gm,"")}function m(p){var q=/-/g;var e=String(p).replace(q,"_");return e}function d(q,p){if(p.attributes.length>0){var e=p.attributes.length-1;var r;q._attributes=[];do{r=String(m(p.attributes[e].name));q._attributes.push(r);q[r]=f(p.attributes[e].value)}while(e--)}}var o=(function(){var e={activate:function(){var p=[];if(!!p){p.getNodesByAttribute=function(q,v){if(!!p&&p.length>0){var t=[];var s;var r=p.length-1;try{do{s=p[r];if(s[q]===v){t.push(s)}}while(r--);t.reverse();return t}catch(u){return null}return null}};p.getNodeByAttribute=function(q,u){if(!!p&&p.length>0){var s;var r=p.length-1;try{do{s=p[r];if(s[q]===u){return s}}while(r--)}catch(t){return null}return null}};p.getNodesByValue=function(u){if(!!p&&p.length>0){var s=[];var r;var q=p.length-1;try{do{r=p[q];if(!!r.Text&&r.Text===u){s.push(r)}}while(q--);return s}catch(t){return null}return null}};p.contains=function(q,t){if(!!p&&p.length>0){var r=p.length-1;try{do{if(p[r][q]===t){return true}}while(r--)}catch(s){return false}return false}};p.indexOf=function(q,t){var u=-1;if(!!p&&p.length>0){var r=p.length-1;try{do{if(p[r][q]===t){u=r}}while(r--)}catch(s){return -1}return u}};p.SortByAttribute=function(s,r){if(!!p&&p.length>0){function q(w,u){var v=w[u];v=(bam.validation.isNumeric(v))?parseFloat(v):v;return v}function t(x,v){var w,u;w=q(x,s);u=q(v,s);var y=(w<u)?-1:(u<w)?1:0;if(!!r){y=(r.toUpperCase()==="DESC")?(0-y):y}return y}p.sort(t)}};p.SortByValue=function(r){if(!!p&&p.length>0){function q(u){var t=u.Text;t=(bam.validation.isNumeric(t))?parseFloat(t):t;return t}function s(w,u){var v,t;v=q(w);t=q(u);var x=(v<t)?-1:(t<v)?1:0;if(!!r){x=(r.toUpperCase()==="DESC")?(0-x):x}return x}p.sort(s)}};p.SortByNode=function(s,r){if(!!p&&p.length>0){function q(w,v){var u=w[v][0].Text;u=(bam.validation.isNumeric(u))?parseFloat(u):u;return u}function t(x,v){var w,u;w=q(x,s);u=q(v,s);var y=(w<u)?-1:(u<w)?1:0;if(!!r){y=(r.toUpperCase()==="DESC")?(0-y):y}return y}p.sort(t)}}}return p}};return e})();var n=function(){var e=b(o);return e.activate()};function l(e){e.getNodeByAttribute=function(p,t){if(this.length>0){var r;var q=this.length-1;try{do{r=this[q];if(r[p]==t){return r}}while(q--)}catch(s){return false}return false}};e.contains=function(p,s){if(this.length>0){var q=this.length-1;try{do{if(this[q][p]==s){return true}}while(q--)}catch(r){return false}return false}};e.indexOf=function(p,s){var t=-1;if(this.length>0){var q=this.length-1;try{do{if(this[q][p]==s){t=q}}while(q--)}catch(r){return -1}return t}};e.SortByAttribute=function(r,q){if(this.length){function p(v,t){var u=v[t];u=(c(u))?parseFloat(u):u;return u}function s(w,u){var x=0;var v,t;v=p(w,r);t=p(u,r);if(v<t){x=-1}else{if(t<v){x=1}}if(q){x=(q.toUpperCase()=="DESC")?(0-x):x}return x}this.sort(s)}};e.SortByValue=function(q){if(this.length){function p(t){var s=t.Text;s=(c(s))?parseFloat(s):s;return s}function r(v,t){var w=0;var u,s;u=p(v);s=p(t);if(u<s){w=-1}else{if(s<u){w=1}}if(q){w=(q.toUpperCase()=="DESC")?(0-w):w}return w}this.sort(r)}};e.SortByNode=function(r,q){if(this.length){function p(v,u){var t=v[u][0].Text;t=(c(t))?parseFloat(t):t;return t}function s(w,u){var x=0;var v,t;v=p(w,r);t=p(u,r);if(v<t){x=-1}else{if(t<v){x=1}}if(q){x=(q.toUpperCase()=="DESC")?(0-x):x}return x}this.sort(s)}}}function k(u,r){var s;var q;var t;var e="";if(!r){return null}if(r.attributes.length>0){d(u,r)}u.Text="";if(r.hasChildNodes()){var p=r.childNodes.length-1;var v=0;do{q=r.childNodes[v];switch(q.nodeType){case 1:u._children=[];s=(q.localName)?q.localName:q.baseName;s=m(s);if(e!=s){u._children.push(s)}if(!u[s]){u[s]=[]}t={};u[s].push(t);if(q.attributes.length>0){d(t,q)}if(!u[s].contains){l(u[s])}e=s;if(q.hasChildNodes()){k(t,q)}break;case 3:u.Text+=f(q.nodeValue);break;case 4:u.Text+=(q.text)?f(q.text):f(q.nodeValue);break}}while(v++<p)}}k(h,g);i=null;g=null;return h}catch(j){return null}},textToXML:function(h){var f=null;try{f=(document.all)?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser();f.async=false}catch(g){throw new Error("XML Parser could not be instantiated")}var d;try{if(document.all){d=(f.loadXML(h))?f:false}else{d=f.parseFromString(h,"text/xml")}}catch(g){throw new Error("Error parsing XML string")}return d}};return a})();var cr={};if(document.all&&!window.setTimeout.isPolyfill){var __nativeST__=window.setTimeout;window.setTimeout=function(b,a){var d=Array.prototype.slice.call(arguments,2);return __nativeST__(b instanceof Function?function(){b.apply(null,d)}:b,a)};window.setTimeout.isPolyfill=true}try{$.noConflict()}catch(e){}function closeEditorWarning(){return"Are you sure you would like to leave CodeRunner? Any unsaved changes will be lost."}window.onbeforeunload=closeEditorWarning;Ext.layout.FormLayout.prototype.trackLabels=true;var earpl=function(a){return a.replace(/'/g,"&quot;")};var $=function(a){return document.getElementById(a)};cr.user={username:"",password:""};cr.is_quiz_open=false;cr.is_objective_open=false;cr.checkSession=function(d,a){var b=new Ext.data.Connection();b.request({url:"services.php",method:"POST",params:{cmd:"checkSession"},success:function(g){var f=Ext.decode(g.responseText);if(!f.success){cr.sign_in_window=new Ext.Window({title:"Sign In",html:'<iframe id="ssp_sign_in" src="coderunner_login.php" width="100%" height="100%"></iframe>',modal:true,layout:"fit",width:360,height:250,closable:false,resizable:false,bodyCssClass:"login_modal"});cr.sign_in_window.show()}else{if(a&&d&&typeof(d)==="function"){d(a)}else{if(d&&typeof(d)==="function"){d()}else{Ext.MessageBox.alert("Error","An internal error has occured.\nSupport staff has been notifed of this error.")}}}},failure:function(f){Ext.MessageBox.alert("Error","An internal error has occured.\nSupport staff has been notifed of this error.")}})};cr.svn={username:"",password:""};cr.objectives={};cr.courseModes=[];cr.courseModes[4]="text";cr.courseModes[5]="text";cr.courseModes[6]="sql";cr.courseModes[7]="php";cr.courseModes[8]="c";cr.courseModes[9]="c";cr.courseModes[10]="xml";cr.courseModes[11]="text";cr.courseModes[13]="java";cr.courseModes[14]="text";cr.courseModes[15]="text";cr.courseModes[16]="text";cr.courseModes[100]="text";cr.courseModes[101]="text";cr.courseModes[102]="text";cr.courseModes[103]="text";cr.courseModes[111]="text";cr.courseModes[112]="php";cr.courseModes[113]="php";cr.courseModes[114]="php";cr.courseModes[115]="php";cr.courseModes[117]="sql";cr.courseModes[118]="java";cr.courseModes[119]="sql";cr.courseModes[121]="java";cr.courseModes[122]="java";cr.courseModes[123]="java";cr.courseModes[124]="sql";cr.courseModes[125]="mdx";cr.courseModes[126]="java";cr.courseModes[127]="java";cr.courseModes[128]="perl";cr.courseModes[129]="python";cr.courseModes[130]="java";cr.courseModes[131]="text";cr.courseModes[134]="c";cr.courseModes[135]="cpp";cr.courseModes[137]="perl";cr.courseModes[138]="xml";cr.courseModes[139]="cpp";cr.courseModes[140]="python";cr.courseModes[141]="java";cr.courseModes[142]="java";cr.courseModes[144]="perl";cr.courseModes[146]="perl";cr.courseModes[147]="python";cr.courseModes[148]="python";cr.courseModes[151]="text";cr.courseModes[153]="text";cr.courseModes[154]="text";cr.courseModes[155]="text";cr.courseModes[156]="text";cr.courseModes[157]="text";cr.courseModes[158]="python";cr.courseModes[160]="python";cr.maxAttempt=0;cr.currentAttempt=0;cr.previousScreen=function(){var h=editAreaLoader.getCurrentFile("editarea");var g=$("frame_editarea");var d=(g.contentWindow||g.contentDocument);var b=d.document.getElementById("iframe_"+h.id);var a=(b.contentWindow||b.contentDocument);a.shell.sendKeys("01");a.shell.keysPressed("p")};cr.homeScreen=function(){var h=editAreaLoader.getCurrentFile("editarea");var g=$("frame_editarea");var d=(g.contentWindow||g.contentDocument);var b=d.document.getElementById("iframe_"+h.id);var a=(b.contentWindow||b.contentDocument);a.shell.sendKeys("01");a.shell.keysPressed("0")};cr.nextScreen=function(){var h=editAreaLoader.getCurrentFile("editarea");var g=$("frame_editarea");var d=(g.contentWindow||g.contentDocument);var b=d.document.getElementById("iframe_"+h.id);var a=(b.contentWindow||b.contentDocument);a.shell.sendKeys("01");a.shell.keysPressed("n")};cr.refreshFileTrees=function(){var a=Ext.getCmp("ftp");if(a){a.root.reload()}a=Ext.getCmp("fileBrowser");if(a){a.root.reload()}a=Ext.getCmp("sourceTree");if(a){a.root.reload()}};cr.refreshLessonTree=function(a){var b=new Ext.data.Connection();b.request({url:"services.php",method:"POST",params:{cmd:"getCourse",id:a},success:function(g){var d=Ext.decode(g.responseText);if(!d.success){Ext.MessageBox.alert("Error","Unable to load course content.");return}var f={text:d.title,children:d.coursework};Ext.getCmp(a+"_lessonTree").setRootNode(f);Ext.getCmp(a+"_lessonTree").expandAll()},failure:function(){Ext.MessageBox.alert("Error","Unable to load course content.")}})};cr.hideEditArea=function(){if(cr.editorPanel){cr.editorPanel.hide()}if(cr.centerPanel){cr.centerPanel.doLayout()}};cr.showEditArea=function(){if(cr.editorPanel){cr.editorPanel.show()}if(cr.centerPanel){cr.centerPanel.doLayout()}};cr.editAreaBodyResize=function(d,h,a){var g=document.getElementById("frame_editarea");if(g){g.style.width=h+"px";g.style.height=a+"px";var b=g.contentWindow.document.getElementById("terminals");if(null!=b){var j=b.getElementsByTagName("div");b.style.width=h+"px";b.style.height=(a-45)+"px";for(var f=0;f<j.length;f++){j[f].style.width=h+"px";j[f].style.height=(a-45)+"px"}}}editAreaLoader.execCommand("editarea","resync_highlight")};cr.t=function t(){var a=$("t");for(entryid in cr.objectives){if(cr.objectives[entryid]>0){a.src="https://oreillyschool.com/ws/t/?E="+entryid}}setTimeout(t,60000)};cr.t();var editAreaConf={start_highlight:true,allow_resize:"no",allow_toggle:false,language:"en",toolbar:"preview, |, new_terminal, new_database, new_uml_m0, new_uml_m1, |, new_document, save, saveas, load, |, search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection, |, change_smooth_selection, highlight, reset_highlight, |, help",syntax_selection_allow:"c,cpp,css,html,java,js,json,mdx,perl,php,python,ruby,sql,text,xml",load_callback:"cr.loadFile",save_callback:"cr.saveFile",save_as_callback:"cr.saveAsFile",EA_load_callback:"cr.editAreaLoaded",EA_file_close_callback:"cr.editAreaFileClose",onPreview:"cr.onPreview",plugins:"preview",terminal_open_callback:"cr.onTerminalOpen"};cr.closeActiveTab=function(){cr.checkSession(cr.closeActiveTabCallback)};cr.closeActiveTabCallback=function(){cr.mainTabPanel.remove(cr.mainTabPanel.getActiveTab().getId())};cr.onBeforeTabChange=function(a,d,b){if("help"==d.id){if(!cr.helpWin){cr.helpWin=new Ext.Window({title:"Help",contentEl:"help-window",modal:true,layout:"fit",width:400,height:300,closable:false,resizable:false,snplain:true,buttons:[{text:"Close",handler:function(){cr.helpWin.hide()}}]})}cr.helpWin.show();return false}else{if("about"==d.id){if(!cr.aboutWin){cr.aboutWin=new Ext.Window({title:"About",contentEl:"about-window",modal:true,layout:"fit",width:300,height:260,closable:false,resizable:false,snplain:true,buttons:[{text:"Close",handler:function(){cr.aboutWin.hide()}}]})}cr.aboutWin.show();return false}else{if("logout"==d.id){window.location="/student/logout.php";return false}}}cr.checkSession(cr.onBeforeTabChangeCallback,[a,d,b]);return true};cr.onBeforeTabChangeCallback=function(a){var b=a[0];var f=a[1];var d=a[2];if(null!=f.courseId){cr.currentCourseId=f.courseId}};cr.showVideo=function(f){var d;var b;if(f=="filebrowser"){b="File Browser Demo";d='<object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/45sATp529Mw?version=3&amp;hl=en_US"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="https://www.youtube.com/v/45sATp529Mw?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>'}else{if(f=="editor"){b="Code Editor Demo";d='<object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/SvbM6vPAG9k?version=3&amp;hl=en_US"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="https://www.youtube.com/v/SvbM6vPAG9k?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>'}else{if(f=="coursework"){b="Coursework Demo";d='<object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/WmajY8bIXrA?version=3&amp;hl=en_US"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="https://www.youtube.com/v/WmajY8bIXrA?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>'}}}var a=new Ext.Window({title:b,modal:true,layout:"fit",width:494,height:450,closable:false,resizable:false,html:"<center>"+d+"</center>",buttons:[{text:"Close",handler:function(){a.close()}}]});if(cr.helpWin){cr.helpWin.hide()}a.show()};cr.onBeforeTreeAction=function(b,d,a,f){cr.checkSession(cr.onBeforeTreeActionCallback,[b,d,a,f])};cr.onBeforeTreeActionCallback=function(a){var h=a[0];var j=a[1];var g=a[2];var k=a[3];var f=editAreaLoader.execCommand("editarea","get_all_files()");var d=0,b;for(b in f){if(null==f[b].filepath){continue}if(j.id==f[b].filepath+"/"+f[b].filename){Ext.MessageBox.alert("Error","The file "+f[b].filename+" is currently in use.\n\nPlease close the file and try again.");return false}}return true};cr.onRename=function(b,d,a,f){d.id=a;d.setId(a);cr.refreshFileTrees();return true};cr.waitFor=function(d,b,a){if(!d()){if(a<5){a=a+1;setTimeout(function(){cr.waitFor(d,b,a)},a*1000)}}else{b()}};cr.sk=function(a,b){if("mysql"==b){a.shell.addCommand("login:",cr.user.username+"\n");if(cr.user.password&&""!=cr.user.password){a.shell.addCommand("Password:",cr.user.password+"\n");a.shell.addCommand("Enter password:",cr.user.password+"\n")}}else{a.shell.addCommand("login:",cr.user.username+"\n");if(cr.user.password&&""!=cr.user.password){a.shell.addCommand("Password:",cr.user.password+"\n")}}a.shell.runCommands()};cr.onTerminalOpen=function(b,a){cr.checkSession(cr.onTerminalOpenCallback,[b,a])};cr.onTerminalOpenCallback=function(h){var l=h[0];var k=h[1];var g=$("frame_editarea");var d=(g.contentWindow||g.contentDocument);var b=d.document.getElementById("iframe_"+k.id);var a=(b.contentWindow||b.contentDocument);var j=function(){cr.sk(a,k.terminal_type)};cr.waitFor(function(){return null!=a.shell},j,1)};cr.onLoad=function(){var a=new Ext.data.Connection();a.request({url:"services.php",method:"POST",params:{cmd:"init"},success:function(b){cr.checkSession(cr.initCallback,b)},failure:function(b){Ext.MessageBox.alert("Error","An internal error has occured.\nSupport staff has been notifed of this error.");throw b}})};cr.initCallback=function(a){cr.user=Ext.decode(a.responseText);var b=cr.getQueryVariable("courseid");cr.init();if(null!=b){cr.showCourse(b)}};cr.init=function(){Ext.state.Manager.setProvider(new Ext.state.CookieProvider());Ext.QuickTips.init();Ext.apply(Ext.QuickTips.getQuickTip(),{showDelay:750});cr.viewport=new Ext.Viewport({layout:"border",autoScroll:true,items:[{xtype:"panel",layout:"border",region:"center",autoScroll:true,items:[{xtype:"tabpanel",region:"center",tabPosition:"top",enableTabScroll:true,split:true,plain:true,layoutOnTabChange:true,id:"mainPanel",activeTab:0,defaults:{autoScroll:true},items:[{title:"Welcome",autoLoad:{url:"welcome.php",callback:function(){cr.setTutorialListeners()}}},{title:"Courses",autoLoad:"coursework.php",id:"courses"},{title:"Messages",html:'<iframe src="/student/umail.php" width="100%" id="messageFrame"></iframe>',listeners:{resize:function(b,d,a){i=$("messageFrame");i.style.width=(d-5)+"px";i.style.height=(a-5)+"px"}}},{title:"Overflow",html:'<iframe src="https://overflow.oreillyschool.com/" width="99%" height="99%" id="overflowFrame"></iframe>',listeners:{resize:function(b,d,a){i=$("messageFrame");i.style.width=(d-5)+"px";i.style.height=(a-5)+"px"}}},{title:"Sign Out",id:"logout",tabCls:"right-tab"},{title:"About",id:"about",tabCls:"right-tab"},{title:"Help",id:"help",tabCls:"right-tab"}],listeners:{tabchange:function(b,a){cr.showEditArea()},beforeremove:function(b,a){cr.updateTabStatus(a)},remove:function(a,b,d){if(b.entryid){cr.objectives[b.entryid]--}},beforetabchange:cr.onBeforeTabChange,afterlayout:function(a){a.strip.setWidth(a.stripWrap.getWidth()-2)}}},{region:"south",height:325,split:true,layout:"fit",collapsible:false,border:false,items:[{id:"editarea",xtype:"textarea",height:"100%",width:"100%",plugins:new Ext.ux.plugins.EditAreaEditor(editAreaConf)}],listeners:{bodyresize:cr.editAreaBodyResize}}]},{xtype:"filetreepanel",title:"File Browser",collapsible:true,region:"west",split:true,width:170,id:"ftp",rootPath:"",hrefPrefix:"http://"+cr.user.domain+"/",autoScroll:true,topMenu:true,enableProgress:false,listeners:{beforedelete:cr.onBeforeTreeAction,beforerename:cr.onBeforeTreeAction,rename:cr.onRename,"delete":cr.refreshFileTrees,newdir:cr.refreshFileTrees,dblclick:function(a,b){if(a.isLeaf()){this.editorNode(a)}}}}]});cr.centerPanel=cr.viewport.get(0);cr.files=cr.viewport.get(1);cr.mainTabPanel=cr.centerPanel.get(0);cr.editorPanel=cr.centerPanel.get(1);cr.translateTabs=new Ext.TabPanel({xtype:"tabpanel",plain:true,autoScroll:true,id:"translateTabs",region:"center",margins:"0 0 0 0",enableTabScroll:true,activeTab:0,defaults:{autoScroll:true},items:[{title:"Source",contentEl:"rawFrame"},{title:"Rendered",contentEl:"formattedFrame"}]});cr.translateWin=new Ext.Window({title:"Result",items:cr.translateTabs,modal:true,layout:"fit",height:400,width:600,closable:false,resizeable:true,buttons:[{text:"Close",listeners:{click:function(){cr.translateWin.hide()}}}]});cr.translateWin.doLayout(false,true);cr.mdxWin=new Ext.Window({title:"Result",contentEl:"mdx-window",modal:true,layout:"fit",height:400,width:600,closable:false,autoScroll:true,resizeable:true,listeners:{resize:function(b,d,a){i=$("mdxFrame");i.style.width=(d-50)+"px";i.style.height=(a-70)+"px"}},buttons:[{text:"Close",listeners:{click:function(){cr.mdxWin.hide()}}}]})};cr.updateTabStatus=function(a){if(a.hasOwnProperty("tab_type")){if(a.tab_type==="quiz"){cr.is_quiz_open=false}if(a.tab_type==="objective"){cr.is_objective_open=false}}};cr.getMode=function(a){if(null!=cr.courseModes[a]){return cr.courseModes[a]}return"html"};cr.findType=function(a){var f=a.split(".");var d=f[(f.length-1)];var b;if((d=="c")||(d=="cc")){b="c"}else{if(d=="cpp"){b="cpp"}else{if(d=="css"){b="css"}else{if(d=="html"){b="html"}else{if(d=="java"){b="java"}else{if(d=="js"){b="js"}else{if(d=="json"){b="json"}else{if(d=="mdx"){b="mdx"}else{if((d=="pl")||(d=="pm")){b="perl"}else{if((d=="php")||(d=="php3")||(d=="inc")){b="php"}else{if(d=="py"){b="python"}else{if((d=="rb")||(d=="erb")){b="ruby"}else{if((d=="sql")||(d=="mysql")){b="sql"}else{if((d=="xml")||(d=="rss")||(d=="xsl")||(d=="xsd")||(cr.user.mode&&(d=="lab"||d=="project"||d=="quiz"))){b="xml"}else{b=d}}}}}}}}}}}}}}return b};cr.editFile=function(d){var h=d.id.replace(/^\//,"");var a=d.text;var b=cr.findType(a);var g;if(1==cr.user.mode&&"syllabus"==b){cr.editSyllabus(h,a);return}cr.showEditArea();g=function(){var f=new Ext.data.Connection();f.request({url:"services.php",method:"POST",params:{cmd:"edit",file:h},success:function(j){var k=Ext.decode(j.responseText);if(!k.success){Ext.MessageBox.alert("Error",k.error);return}var l={id:h,text:k.file,syntax:b,title:a,filepath:h.substring(0,h.length-a.length-1),filename:a};editAreaLoader.openFile("editarea",l)},failure:function(){Ext.MessageBox.alert("Error","Unable to open file for editing.")}})};if(d.attributes&&d.attributes.isBinary){Ext.Msg.show({title:"Binary File",msg:"The file "+a+" contains binary data and may not edit correctly. "+(d.attributes.fileSize>50000?"The file is also large, and opening it may cause your browser to run slowly. ":"")+"Would you like to view on the web instead?",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.MessageBox.QUESTION,fn:function(f){if(f==="yes"){window.open("http://"+cr.user.domain+"/"+h)}else{if(f==="no"){g()}}}})}else{if(d.attributes&&d.attributes.fileSize>50000){Ext.Msg.confirm("Warning","The file "+a+" is large, and opening it may cause your browser to run slowly. Do you want to continue?",function(f){if(f==="yes"){g()}})}else{g()}}};cr.loadFile=function(){cr.checkSession(cr.loadFileCallback)};cr.loadFileCallback=function(){var a=new Ext.Window({title:"Load File",maximizable:false,resizable:false,width:400,layout:"form",plain:true,items:[{xtype:"filetreepanel",border:false,autoWidth:true,id:"fileBrowser",height:300,autoScroll:true,enableProgress:false,enableDD:false,enableCopy:false,enableDelete:true,enablePaste:false,enableUpload:false,rootVisible:false,listeners:{dblclick:function(b,d){if(b.isLeaf()){this.editorNode(b);a.close()}}}}],buttons:[{text:"Load",handler:function(){var b=a.get("fileBrowser").getSelectionModel().getSelectedNode();cr.editFile(b);a.close()}},{text:"Cancel",handler:function(){a.close()}}]});a.show()};cr.saveFile=function(g,b,f,a,d){cr.checkSession(cr.saveFileCallback,[g,b,f,a,d])};cr.saveFileCallback=function(k){var a=k[0];var j=k[1];var l=k[2];var f=k[3];var h=k[4];f=typeof(f)!="undefined"?f:false;var b=editAreaLoader.getCurrentFile("editarea");if(!f){if((null!=b.filepath)&&(null!=b.filename)&&(""!=b.filename)){cr.doSaveFile(b.filepath,b.filename,1,l);return}}var d=b.title;if(b.extension.length&&(cr.findType(b.title)==b.title)){d=d+"."+b.extension}var g=new Ext.Window({title:"Save File",maximizable:false,resizable:false,width:400,layout:"form",plain:true,items:[{xtype:"filetreepanel",border:false,autoWidth:true,id:"fileBrowser",height:300,autoScroll:true,enableProgress:false,enableDD:false,enableCopy:false,enableDelete:true,enablePaste:false,enableUpload:false,rootVisible:false,listeners:{dblclick:function(){return}}},{xtype:"textfield",id:"filename",fieldLabel:"Save As",name:"filename",allowBlank:false,value:d,listeners:{specialkey:function(n,m){if(m.getKey()==m.ENTER){Ext.getCmp("saveButton").fireEvent("click")}}}}],buttons:[{id:"saveButton",formBind:true,text:"Save",listeners:{click:function(){var m=g.get("filename").getValue();if(m.length){var n=g.get("fileBrowser").getSelectionModel().getSelectedNode();var o;if(n&&!n.isLeaf()){o=g.get("fileBrowser").getPath(n)+"/"}else{if(n&&n.isLeaf()){o=g.get("fileBrowser").getPath(n.parentNode)+"/"}else{o=""}}if(h){cr.previewWin=window.open("preview.html")}cr.doSaveFile(o,m,0,function(p){editAreaLoader.renameFile("editarea",{fileId:b.id,newPath:o,newFileName:m});editAreaLoader.execCommand("editarea","change_syntax",cr.findType(m));cr.refreshFileTrees();g.close();if(l){l({path:o,filename:m})}})}else{Ext.MessageBox.alert("File Name","You must enter a file name before you can save.")}}}},{text:"Cancel",handler:function(){g.close()}}]});g.show()};cr.saveAsFile=function(d,a,b){cr.saveFile(d,a,b,true)};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}cr.doSaveFile=function(g,j,f,k){var b=editAreaLoader.getCurrentFile("editarea");var a=j.trim();var h=Ext.MessageBox.wait("Saving "+a+"...");if(a.match(/\//g)){Ext.MessageBox.alert("Error - Invalid Filename Character ",'If you are trying to save your file in a specific folder, please select the destination folder from the file tree in the pop-up window and type only the filename in the "Save As" field.');return}var d={url:"services.php",method:"POST",success:function(l,n){var m=Ext.util.JSON.decode(l.responseText);if(m.success){editAreaLoader.setFileEditedMode("editarea",b.id,false);editAreaLoader.execCommand("editarea","change_syntax",cr.findType(a));h.hide();if(k){k({path:g,filename:a})}}else{if(m.errno==1){Ext.Msg.confirm("File Exists",m.error,function(o){if(o=="yes"){cr.doSaveFile(g,a,1,k);return}})}else{Ext.MessageBox.alert("Error",m.error);return}}},failure:function(){h.hide();Ext.MessageBox.alert("Error","An error was encountered while attempting to save your file. Please contact support at support@oreillyschool.com")},params:{cmd:"save",content:b.text,path:g,filename:a,overwrite:f}};Ext.Ajax.request(d)};cr.editAreaFileClose=function(g){var a=true;if(g.edited){a=confirm("Are you sure you want to close the file?\n\nYou will lose any unsaved changes.")}var f=editAreaLoader.execCommand("editarea","get_all_files()");var d=0,b;for(b in f){if(f.hasOwnProperty(b)){d++}}if(a&&1==d){editAreaLoader.execCommand("editarea","new_document()")}return a};cr.editAreaLoaded=function(d){var b=cr.getQueryVariable("courseid");var a="html";if(null!=b){a=cr.getMode(b)}editAreaLoader.execCommand("editarea","change_syntax",a);editAreaLoader.execCommand("editarea","new_document()")};cr.onPreview=function(a){cr.checkSession(cr.onPreviewCallback,[a])};cr.onPreviewCallback=function(args){var btnPressed=args[0];var currentFile=editAreaLoader.execCommand("editarea","get_file",editAreaLoader.execCommand("editarea","curr_file"));var syntax=currentFile.syntax;var conn=new Ext.data.Connection();var contents=currentFile.text;if(syntax=="php"||"html"==syntax){var fileExt;if(currentFile&&currentFile.filename){fileExt=currentFile.filename.substring(currentFile.filename.length-3)}if((null!=currentFile.filepath)&&(null!=currentFile.filename)&&(""!=currentFile.filename)){cr.previewWin=window.open("preview.html")}cr.saveFile("editarea",contents,function(r){var u;u="http://"+cr.user.domain+("/"==cr.user.domain.substring(cr.user.domain.length-1)?"":"/")+r.path;u=u+("/"==u.substring(u.length-1)?"":"/")+r.filename+"?random="+Date.now();var l=cr.previewWin.document.getElementById("location");l.innerHTML=u;l.href=u;cr.previewWin.document.location=u;cr.previewWin.focus()},false,true)}else{if((syntax=="perl")||(syntax=="c")||(syntax=="cpp")||(syntax=="java")||(syntax=="python")){cr.saveFile("editarea",contents,cr.previewPopup,false)}else{if(syntax=="json"){var wait=Ext.MessageBox.wait("Pretty printing your JSON.","Please Wait...");conn.request({url:"services.php",method:"POST",params:{cmd:"pp",contents:contents,filetype:syntax},success:function(responseObject){var r=eval("("+responseObject.responseText+")");if(!r.success){Ext.MessageBox.alert("Error",r.error);return}var tab=Ext.getCmp("jsonPreview");if(tab){tab.update(r.result);tab.show()}else{cr.mainTabPanel.add({id:"jsonPreview",title:"JSON Preview",hideMode:Ext.isIE?"offsets":"display",closable:true,html:r.result}).show()}wait.hide()},failure:function(responseObject){}})}else{if(syntax=="xml"&&1==btnPressed){var wait=Ext.MessageBox.wait("Please wait while your syntax is checked.","Checking Syntax");conn.request({url:"services.php",method:"POST",params:{cmd:"syntax",contents:contents,filepath:currentFile.filepath},success:function(responseObject){var r=Ext.decode(responseObject.responseText);if(!r.success){Ext.MessageBox.alert("Error",r.error);return}var syntaxWin=new Ext.Window({autoScroll:true,height:300,width:600,modal:true,bodyStyle:"padding-left: 5px;",layout:"fit",title:"Result",html:r.message,buttons:[{text:"Close",listeners:{click:function(){syntaxWin.close()}}}]});wait.hide();syntaxWin.show()},failure:function(responseObject){}})}else{if("xml"==syntax&&2==btnPressed){var wait=Ext.MessageBox.wait("Please wait while your file is validated.","Validating");conn.request({url:"services.php",method:"POST",params:{cmd:"validate",contents:contents,filepath:currentFile.filepath},success:function(responseObject){var r=Ext.decode(responseObject.responseText);if(!r.success){Ext.MessageBox.alert("Error",r.error);return}var validateWin=new Ext.Window({autoScroll:true,height:300,width:600,modal:true,bodyStyle:"padding-left: 5px;",layout:"fit",title:"Result",html:r.message,buttons:[{text:"Close",listeners:{click:function(){validateWin.close()}}}]});wait.hide();validateWin.show()},failure:function(responseObject){}})}else{if("xml"==syntax&&3==btnPressed){var t=currentFile.filename;$("frmTranslate").action="translate.php";if(cr.user.mode>0&&t&&((t.indexOf(".lab")>=0&&t.indexOf(".lab")+4==t.length)||(t.indexOf(".quiz")>=0&&t.indexOf(".quiz")+5==t.length)||(t.indexOf(".project")>=0&&t.indexOf(".project")+8==t.length))){$("frmTranslate").action="authorTranslate.php";$("translateContents").value=contents;$("translateFilename").value="";$("translatePath").value=currentFile.filepath;var id=escape(currentFile.filepath).replace(/\//g,"_");$("frmTranslate").target="f_"+id;if($("f_"+id)){$("frmTranslate").submit();cr.mainTabPanel.getItem("t_"+id).show()}else{cr.mainTabPanel.add({title:"Preview",html:'<iframe src="preview.html" width="98%" name="f_'+id+'" id="f_'+id+'"></iframe>',closable:true,id:"t_"+id,listeners:{afterrender:function(){$("frmTranslate").submit()},resize:function(panel,width,height){i=$("f_"+id);i.style.width=(width-5)+"px";i.style.height=(height-5)+"px"}}}).show()}}else{cr.translateWin.show();$("translateContents").value=contents;$("translateFilename").value=currentFile.filename;$("translatePath").value=currentFile.filepath;$("translateSource").value="1";$("frmTranslate").target="rawFrame";$("frmTranslate").submit();cr.translateTabs.setActiveTab(1);$("translateSource").value="0";$("frmTranslate").target="formattedFrame";$("frmTranslate").submit()}}else{if("mdx"==syntax){cr.mdxWin.show();$("tbMDX").value=contents;$("tbSchemaNum").value=parseInt($("tbSchemaNum").value)+1;$("tbSchema").value="";var files=editAreaLoader.execCommand("editarea","get_all_files()");for(id in files){if(files[id].syntax=="xml"){$("tbSchema").value=files[id].text;break}}$("frmMDXQuery").submit()}else{if("ruby"==syntax){if("rb"==fileExt){Ext.MessageBox.alert("Alert","Ruby scripts cannot be previewed on the web.");return}if(("erb"==fileExt)&&(editAreaLoader.getCurrentFile("editarea").filepath.search("ostapp")<0)){Ext.MessageBox.alert("Error","Your file must be in the <b>ostapp/</b> in order to properly preview.");return}else{if((null!=currentFile.filepath)&&(null!=currentFile.filename)&&(""!=currentFile.filename)){cr.previewWin=window.open("preview.html")}}cr.saveFile("editarea",contents,function(r){var u;var viewsIdx=r.path.indexOf("views/");filepath=r.path.substring(viewsIdx+6);u="http://"+cr.user.domain+("/"==cr.user.domain.substring(cr.user.domain.length-1)?"":"/")+"ostapp/"+filepath+"/";var l=cr.previewWin.document.getElementById("location");l.innerHTML=u;l.href=u;cr.previewWin.document.location=u;cr.previewWin.focus()},false,true)}}}}}}}}};cr.showCourse=function(a){cr.checkSession(cr.showCourseCallback,[a])};cr.showCourseCallback=function(a){var b=a[0];var g=Ext.MessageBox.wait("Please wait while your course is loaded.","Loading");var d=new Ext.data.Connection();var f;d.request({url:"services.php",method:"POST",params:{cmd:"getCourse",id:b},success:function(k){c=Ext.decode(k.responseText);if(!c.success){Ext.MessageBox.alert("Error",c.error);return}if(c.success){f=c.coursework;var j=new Ext.tree.TreePanel({id:b+"_lessonTree",useArrows:true,collapsible:true,xtype:"treepanel",autoScroll:true,animate:true,enableDD:false,containerScroll:true,region:"west",title:c.title,loader:new Ext.tree.TreeLoader(),root:{text:c.title,children:c.coursework},width:300,rootVisible:false,listeners:{expand:function(m){var n=m.getSelectionModel().getSelectedNode();if(n){n.ui.focus()}},click:function(o,q){o.disable();window.setTimeout(function(r){r.enable()},500,o);var n=o.attributes.type;if(n=="lesson"){var m=Ext.getCmp(b+"_lessonPanel");m.update('<iframe src="'+o.id+'" width="99%" height="98%" />');Ext.state.Manager.set("lastLesson_"+b,o.id)}else{if((n=="quiz")||(n=="objective")||(n=="sqlobjective")){var p=o.attributes.iconCls;if(p.search("attention")>-1){cr.displayFeedback(n,b,o.id,true)}else{if(p.search("passed")>-1){cr.displayFeedback(n,b,o.id,false)}else{if(p.search("submitted")>-1){Ext.MessageBox.alert("Please Wait","You have already submitted this "+n+". Please wait for your mentor to grade it.")}else{if(n=="quiz"){if(cr.is_quiz_open){Ext.MessageBox.alert("Oops","You can only have one quiz open at a time.")}else{cr.quizPopup(b,o.id)}}else{if((n=="objective")||(n=="sqlobjective")){if(cr.is_objective_open){Ext.MessageBox.alert("Oops","You can only have one objective open at a time.")}else{cr.objectivePopup(b,o.id,n)}}}}}}}else{Ext.MessageBox.alert("Error","Unknown coursework type.")}}}},tbar:[{text:"Refresh Course",handler:function(){var n=new Ext.LoadMask(j.getEl(),{msg:"Please wait..."});j.disable();n.show();var m=new Ext.data.Connection();m.request({url:"services.php",method:"POST",params:{cmd:"getCourse",id:b},success:function(p){var q=Ext.decode(p.responseText);if(!q.success){Ext.MessageBox.alert("Error",q.error);return}var o={text:q.title,children:q.coursework};j.setRootNode(o);j.expandAll();n.hide();j.enable();n=null},failure:function(){Ext.MessageBox.alert("Error","Unable to load course content.");n.hide();j.enable();n=null}})}}],bbar:[{xtype:"box",autoEl:{tag:"a",href:"http://www.oreillyschool.com/about-us/academic-policies/#grading",cn:"Grading Policy",target:"_blank"}}]});var h=Ext.state.Manager.get("lastLesson_"+b,c.coursework[0].id);Ext.state.Manager.set("lastLesson_"+b,h);cr.currentCourseId=b;cr.mainTabPanel.add({title:c.title,courseId:b,layout:"border",hideMode:Ext.isIE?"offsets":"display",closable:true,items:[j,{id:b+"_lessonPanel",autoScroll:true,margins:"0 0 0 0",cmargins:"0 0 0 0",region:"center",html:'<iframe src="'+h+'" width="99%" height="98%" />'}]}).show();j.expandAll();j.getNodeById(h).select();g.hide()}else{g.hide();var l=Ext.MessageBox.alert("Error",f.error)}},failure:function(){g.hide();Ext.MessageBox.alert("Error","Unable to load course content.")}})};cr.quizPopup=function(b,a){cr.checkSession(cr.quizPopupCallback,[b,a])};cr.quizPopupCallback=function(b){var d=b[0];var a=b[1];var g=Ext.MessageBox.wait("Please wait while your quiz is loaded.","Loading");var f=new Ext.data.Connection();f.request({url:"services.php",method:"GET",params:{cmd:"quiz",entryid:a},success:function(j){var h=Ext.decode(j.responseText);if(!h.success){Ext.MessageBox.alert("Error",h.error);return}var n=new Array();for(var k=0;k<h.questions.length;k++){n.push({xtype:"label",html:'<div class="reset"><b>Question '+(k+1)+":</b><br />"+h.questions[k]+"</div>"});n.push({id:"quiz-"+a+"_answer-"+k,xtype:"textarea",height:200,width:400})}var m='<div style="margin-top:20px;">        	    <p style="font-weight:bold; margin-bottom: 5px;">How long did it take you to complete this quiz?</p>        	    <label style="font-weight:normal; margin-right:10px;">Hours         	    <input type="text" size="2" id="hours" name="hours" value="0" style="text-align:right">        	    </label>        	    <label style="font-weight:normal;">Minutes         	    <input type="text" size="2" id="minutes" name="minutes" value="0" style="text-align:right">        	    </label>        	    </div>';n.push({xtype:"spacer",height:10,width:280},{xtype:"box",height:100,width:300,html:m},{xtype:"spacer",height:10,width:280});n.push({xtype:"hidden",id:"numquestions",value:h.questions.length});n.push({xtype:"hidden",id:"cmd",value:"handin"});n.push({xtype:"hidden",id:"type",value:"quiz"});n.push({xtype:"hidden",id:"entryid",value:a});var l=new Ext.form.FormPanel({autoScroll:true,frame:true,width:450,height:450,items:n,buttons:[{text:"Hand In",listeners:{click:function(){this.disable();var o=l.findByType("textarea");for(var p=0;p<o.length;p++){if(!o[p].getValue()){Ext.MessageBox.alert("Error","You have left some answers blank. Please fill in all answers before submitting.");this.enable();return false}}cr.hours=jQuery.trim(jQuery("#hours").val());cr.minutes=jQuery.trim(jQuery("#minutes").val());cr.hours=(cr.hours=="")?0:cr.hours;cr.minutes=(cr.minutes=="")?0:cr.minutes;try{cr.hours=parseInt(cr.hours);cr.minutes=parseInt(cr.minutes);cr.hours_valid=(typeof(cr.hours)==="number"&&(cr.hours%1===0)&&cr.hours>=0);cr.minutes_valid=(typeof(cr.minutes)==="number"&&(cr.minutes%1===0)&&cr.minutes>=0);if(!cr.hours_valid||!cr.minutes_valid){Ext.MessageBox.alert("Error","Please enter only non-negative integers for hours and minutes.");this.enable();return false}}catch(q){Ext.MessageBox.alert("Error","Please enter only non-negative integers for hours and minutes.");this.enable();return false}l.getForm().submit({url:"services.php",method:"POST",success:function(u,s){var r=Ext.decode(s.response.responseText);cr.closeActiveTab();Ext.MessageBox.alert("Success",r.message);cr.refreshLessonTree(d)},failure:function(u,s){var r=Ext.decode(s.response.responseText);Ext.MessageBox.alert("Error",r.error)}})}}}]});if(null==cr.objectives[a]){cr.objectives[a]=1}else{cr.objectives[a]++}cr.mainTabPanel.add({entryid:a,title:h.title,layout:"fit",items:[l],closable:true,tab_type:"quiz"}).show();g.hide();cr.is_quiz_open=true},failure:function(){g.hide();Ext.MessageBox.alert("Error","Unable to load quiz.")}})};cr.objectivePopup=function(d,a,b){cr.checkSession(cr.objectivePopupCallback,[d,a,b])};cr.objectivePopupCallback=function(b){var f=b[0];var a=b[1];var d=b[2];var h=new Array();var j=Ext.MessageBox.wait("Please wait while your objective is loaded.","Loading");var g=new Ext.data.Connection();g.request({url:"services.php",method:"GET",params:{cmd:"objective",entryid:a,type:d},success:function(l){var k=Ext.decode(l.responseText);if(!k.success){Ext.MessageBox.alert("Error",k.error);return}var r;h.push({xtype:"label",html:'<div class="reset"><b>Objective '+(k.sub_order)+":</b><br />"+k.questions[0]+"</div>",autoWidth:true,maxHeight:300,autoScroll:true,border:false});var o=new Array();if(k.maxhandin){h.push({xtype:"label",html:'<div class="reset"><b>Instructions:</b><br /><p>Select each file you need to hand in from <u>Your Files</u> on the left and drop it on the <u>Drop Here</u> icon on the right. If you drag and drop the wrong file or folder, simply select it by clicking it in the <u>Handin</u> tree on the right and click <u>Remove</u>. The number of items you are expected to hand in is displayed above the HandIn tree. You may then enter any comments you might have in the <u>Comments</u> box and then submit your files for review by clicking the <u>Hand In</u> button.</p><br /></div>',autoWidth:true,maxHeight:300,autoScroll:true,border:false});if(d=="objective"){r=new Ext.ux.FileTreePanel({id:"sourceTree",title:"Your Files",border:true,width:250,height:150,rootPath:"",autoScroll:true,enableProgress:false,enableDrop:false,enableCopy:false,expandOnRender:true,rootVisible:true,flex:1,listeners:{rename:cr.onRename,"delete":cr.refreshFileTrees,newdir:cr.refreshFileTrees}})}else{if(d=="sqlobjective"){r=new Ext.tree.TreePanel({id:"mysql-tree",title:"Your Databases",animate:true,autoScroll:true,containerScroll:true,border:true,width:250,height:150,enableDD:true,dropConfig:{appendOnly:true},root:new Ext.tree.AsyncTreeNode({text:"mySQL",draggable:false,id:"mysql-root",leaf:false,expanded:true,iconCls:"folder",children:k.databases}),flex:1})}}var m=new Ext.Toolbar.TextItem("0 of "+k.maxhandin+" expected items");var q=new Ext.tree.TreePanel({id:"handin-tree",title:"Handin",animate:true,appendOnly:true,hlDrop:false,autoScroll:true,containerScroll:true,border:true,width:250,height:150,enableDD:true,dropConfig:{appendOnly:true},root:new Ext.tree.AsyncTreeNode({text:"Drop Here",draggable:false,id:"handin-root",leaf:false,expanded:true,iconCls:"folder",children:new Array()}),listeners:{beforenodedrop:function(u){var s=u.dropNode.attributes;u.dropNode=new Ext.tree.TreeNode(s);return true},nodedrop:function(s){Ext.get(m.getEl()).update(this.getRootNode().childNodes.length+" of "+k.maxhandin+" expected items");return true},remove:function(s,u,v){Ext.get(m.getEl()).update(this.getRootNode().childNodes.length+" of "+k.maxhandin+" expected items");return true}},keys:[{key:46,stopEvent:true,scope:this,fn:function(s,v){var u=q.selModel.selNode;if(u){q.selModel.selNode.parentNode.removeChild(u)}else{Ext.MessageBox.alert("Oops!","You must first select an item before you can remove it.")}}}],tbar:[{xtype:"tbbutton",text:"Remove",icon:"img/silk/icons/delete.png",listeners:{click:function(s,v){var u=q.selModel.selNode;if(u){q.selModel.selNode.parentNode.removeChild(u)}else{Ext.MessageBox.alert("Oops!","You must first select an item before you can remove it.")}}}},{xtype:"tbfill"},m],flex:2});o.push(r,q)}var p=new Ext.form.TextArea({xtype:"textarea",height:140,width:300,autoScroll:true});var n='<div style="margin-top:20px;">    	    <p style="font-weight:bold; margin-bottom: 5px;">How long did it take you to complete this objective?</p>    	    <label style="font-weight:normal; margin-right:10px;">Hours     	    <input type="text" size="2" id="hours" name="hours" value="0" style="text-align:right">    	    </label>    	    <label style="font-weight:normal;">Minutes     	    <input type="text" size="2" id="minutes" name="minutes" value="0" style="text-align:right">    	    </label>    	    </div>';o.push({xtype:"spacer",height:300,width:10},{xtype:"container",height:360,width:300,layout:"vbox",border:true,items:[{xtype:"label",html:"<b>Comments</b>",ref:"comments"},p,{xtype:"spacer",height:10,width:280},{xtype:"box",height:100,width:300,html:n},{xtype:"panel",border:false,buttons:[{text:"Hand In",listeners:{click:function(){this.disable();var s=new Array();if(k.maxhandin){if(q.getRootNode().childNodes.length==0){Ext.MessageBox.alert("Error","You must select something to hand in.");this.enable();return false}else{if((q.getRootNode().childNodes.length!=0)&&((q.getRootNode().childNodes.length<k.maxhandin))){Ext.MessageBox.alert("Error","We're expecting "+k.maxhandin+" items, but you've submitted "+q.getRootNode().childNodes.length+" items. Please adjust accordingly.");this.enable();return false}}cr.hours=jQuery.trim(jQuery("#hours").val());cr.minutes=jQuery.trim(jQuery("#minutes").val());cr.hours=(cr.hours=="")?0:cr.hours;cr.minutes=(cr.minutes=="")?0:cr.minutes;try{cr.hours=parseInt(cr.hours);cr.minutes=parseInt(cr.minutes);cr.hours_valid=(typeof(cr.hours)==="number"&&(cr.hours%1===0)&&cr.hours>=0);cr.minutes_valid=(typeof(cr.minutes)==="number"&&(cr.minutes%1===0)&&cr.minutes>=0);if(!cr.hours_valid||!cr.minutes_valid){Ext.MessageBox.alert("Error","Please enter only non-negative integers for hours and minutes.");this.enable();return false}}catch(v){Ext.MessageBox.alert("Error","Please enter only non-negative integers for hours and minutes.");this.enable();return false}for(var u=0;u<q.getRootNode().childNodes.length;u++){s.push(q.getRootNode().childNodes[u].id)}}cr.handinObjective(f,a,d,s,p.getValue(),k.maxhandin,cr.hours,cr.minutes)}}}]}]});h.push({xtype:"panel",autoWidth:true,height:300,layout:"hbox",layoutConfig:{align:"stretch"},border:false,items:o});if(null==cr.objectives[a]){cr.objectives[a]=1}else{cr.objectives[a]++}cr.mainTabPanel.add({entryid:a,title:k.title,layout:"fit",items:[h],closable:true,tab_type:"objective"}).show();j.hide();cr.is_objective_open=true},failure:function(){j.hide();Ext.MessageBox.alert("Error","Unable to load objective.")}})};cr.editSyllabus=function(a,f){var d=new Array();var b=new Ext.data.Connection();b.request({url:"services.php",method:"POST",params:{cmd:"edit",file:a},success:function(h){var v=Ext.decode(h.responseText);if(!v.success){Ext.MessageBox.alert("Error",v.error);return}var u=XMLObjectifier.xmlToJSON(XMLObjectifier.textToXML(v.file));var o=a.substring(8);o=o.substring(0,o.indexOf("/"));var g=new Ext.ux.FileTreePanel({title:"Available Items",border:true,width:250,rootVisible:false,rootPath:"courses/"+o,autoScroll:true,enableProgress:false,enableDrop:false,enableCopy:false,expandOnRender:true,readOnly:true,flex:1});g.addListener("nodedragover",function(s){s.cancel=true});g.addListener("dblclick",function(s,w){if(s.isLeaf()){this.editorNode(s)}});var m=new Ext.tree.TreeNode({draggable:false,id:"files-"+o,leaf:false,rootVisible:false,expanded:true,iconCls:"folder"});m.xmlNode=u;m.depth=0;for(x=0;x<u.SECTION.length;x++){var p=u.SECTION[x];var k=new Array();var l=new cr.makeSectionNode(p.TITLE);if(p.MESSAGE&&p.MESSAGE[0]&&p.MESSAGE[0].Text){l.message=p.MESSAGE[0].Text}for(y=0;y<p.LESSON.length;y++){var r=p.LESSON[y];var q=cr.makeLessonNode();if(r.LAB){q.appendChild(cr.makeItemNode(o,r.LAB))}if(r.ITEM){q.appendChild(cr.makeItemNode(o,r.ITEM))}if(r.QUIZ){q.appendChild(cr.makeItemNode(o,r.QUIZ))}if(r.PROJECT){q.appendChild(cr.makeItemNode(o,r.PROJECT))}l.appendChild(q)}m.appendChild(l)}var j=new Ext.tree.TreePanel({id:"syllabus-"+o,title:u.TITLE,animate:true,hlDrop:false,autoScroll:true,containerScroll:true,border:true,width:250,enableDD:true,root:m,rootVisible:false,listeners:{dblclick:function(s,w){if(s.isLeaf()){cr.editFile({id:s.attributes.fileName,text:s.text})}},beforemovenode:function(s,C,A,B,w){if(A==B){return true}},nodedragover:function(s){if(null==s.dropNode.depth&&s.target.depth>=2){return}var w=s.dropNode.depth-s.target.depth;if(("append"==s.point&&w!=1)||w!=0){s.cancel=true}},beforenodedrop:function(w){if(w.point=="append"){var s=w.dropNode.text.substring(w.dropNode.text.lastIndexOf(".")+1);w.dropNode=new Ext.tree.TreeNode({leaf:true,expanded:true,draggable:true,fileName:"courses/"+o+"/"+w.dropNode.id,text:w.dropNode.text});w.dropNode.depth=3;return true}return true}},flex:2});var n=new Ext.form.FormPanel({labelWidth:50,width:335,bodyStyle:"padding:5px",border:false,frame:true,defaults:{xtype:"textfield"},items:[{xtype:"textfield",fieldLabel:"Source",width:300,value:"",id:"src",hidden:true},{xtype:"textarea",fieldLabel:"Message",height:200,width:300,value:"",id:"message",hidden:true,enableKeyEvents:true,listeners:{keyup:function(A,w){var s=Ext.getCmp("syllabus-"+o).getSelectionModel().getSelectedNode();s.message=A.getRawValue()}}}],buttons:[{id:"addSection",text:"Add Section",listeners:{click:function(){var s=Ext.getCmp("syllabus-"+o).getSelectionModel().getSelectedNode();var w=cr.makeSectionNode("New Section");w.appendChild(cr.makeLessonNode());j.getRootNode().appendChild(w);w.select()}}},{id:"addLesson",text:"Add Lesson",disabled:false,listeners:{click:function(){var s=Ext.getCmp("syllabus-"+o).getSelectionModel().getSelectedNode();var w=cr.makeLessonNode();s.appendChild(w);w.select()}}},{text:"Remove Item",listeners:{click:function(){var s=Ext.getCmp("syllabus-"+o).getSelectionModel().getSelectedNode();if(!s.hasChildNodes){s.destroy()}else{Ext.MessageBox.confirm("Delete?","Are you sure?<br/>This will remove child items as well.",function(A,B){if(A=="yes"){while(s.firstChild){s.removeChild(s.firstChild)}s.parentNode.removeChild(s);var w=j.getRootNode();w.fireEvent("click",w)}})}}}},{text:"Save",listeners:{click:function(){cr.saveSyllabus(a,f,o,j)}}}]});treeEd=new Ext.tree.TreeEditor(j,{},{ignoreNoChange:true,allowBlank:false,blankText:"A name is required",selectOnFocus:true,listeners:{beforestartedit:function(w,s,A){return 1==w.editNode.depth}}});j.on("click",function(s){var A=n.getForm();A.setValues({src:3==s.depth?s.id.replace("courses/"+o+"/",""):"",message:(s.message?s.message:"")});n.buttons[1].disable();var w=A.findField("src");w.hide();w=A.findField("message");w.hide();if(1==s.depth){n.buttons[1].enable();w.show()}});d.push({xtype:"panel",autoWidth:true,height:300,width:325,layout:"hbox",layoutConfig:{align:"stretch"},border:false,items:[g,j,n]});cr.mainTabPanel.add({title:"Organize Syllabus",layout:"fit",items:[d],closable:true}).show()},failure:function(){wait.hide();Ext.MessageBox.alert("Error","Unable to load syllabus.")}})};cr.saveSyllabus=function(h,k,b,a){var d=a.getRootNode();var g='<?xml version="1.0"?>\n<!DOCTYPE COURSE PUBLIC "-//UserActive//DTD COURSE//EN" "../common/COURSE.dtd">\n<COURSE TITLE="';g=g+a.title+'">\n';for(x=0;x<d.childNodes.length;x++){section=d.childNodes[x];g=g+'<SECTION TITLE="'+section.text+'">\n';g=g+"<MESSAGE><![CDATA[\n";g=g+section.message;g=g+"]]></MESSAGE>\n";for(y=0;y<section.childNodes.length;y++){lesson=section.childNodes[y];g=g+"<LESSON>\n";for(z=0;z<lesson.childNodes.length;z++){item=lesson.childNodes[z];ext=item.id.substring(item.id.lastIndexOf(".")+1);g=g+"<"+ext.toUpperCase()+' SRC="'+item.fileName.replace("courses/"+b+"/","")+'"/>\n'}g=g+"</LESSON>\n"}g=g+"</SECTION>\n"}g=g+"</COURSE>";var j=Ext.MessageBox.wait("Saving your syllabus...");var f={url:"services.php",method:"POST",success:function(l,n){var m=Ext.util.JSON.decode(l.responseText);if(m.success){j.hide()}else{Ext.MessageBox.alert("Error",m.error);return}},failure:function(){j.hide();Ext.MessageBox.alert("Error","An error was encountered while attempting to save your file. Please contact support at support@oreillyschool.com")},params:{cmd:"save",content:g,path:h.substring(0,h.length-k.length),filename:k,overwrite:true}};Ext.Ajax.request(f)};cr.makeSectionNode=function(b){var a=new Ext.tree.TreeNode({leaf:false,expanded:true,draggable:true,text:b});a.message="";a.depth=1;return a};cr.makeLessonNode=function(){var a=new Ext.tree.TreeNode({leaf:false,expanded:true,draggable:true,text:"Lesson"});a.depth=2;return a};cr.makeItemNode=function(b,d){var f=new Array();for(var a=0;a<d.length;a++){var g=d[a];var h=new Ext.tree.TreeNode({leaf:true,expanded:true,draggable:true,fileName:"courses/"+b+"/"+g.SRC,iconCls:"file-"+g.SRC.substring(g.SRC.lastIndexOf(".")+1),text:g.SRC});h.depth=3;f.push(h)}return f};cr.handinObjective=function(j,f,h,d,k,b,a,g){cr.checkSession(cr.handinObjectiveCallback,[j,f,h,d,k,b,a,g])};cr.handinObjectiveCallback=function(l){var h=l[0];var d=l[1];var m=l[2];var a=l[3];var k=l[4];var b=l[5];var n=l[6];var g=l[7];var j=Ext.MessageBox.wait("Please wait while your objective is handed in.","Handing In");var f=new Ext.data.Connection();var o={cmd:"handin",type:m,courseid:h,entryid:d,comments:k,maxhandin:b,hours:n,minutes:g};if(m=="objective"){o.files=a.toString()}else{if(m=="sqlobjective"){o.tables=a.toString()}}f.request({url:"services.php",method:"POST",params:o,success:function(p){var q=Ext.decode(p.responseText);if(!q.success){Ext.MessageBox.alert("Error",q.error);return}j.hide();Ext.MessageBox.alert("Success",q.message);cr.closeActiveTab();cr.refreshLessonTree(h)},failure:function(){j.hide();Ext.MessageBox.alert("Error","Unable to handin objective.")}})};cr.displayFeedback=function(b,f,a,h){cr.maxAttempt=0;cr.currentAttempt=0;var g=Ext.MessageBox.wait("Please wait while your feedback is loaded.","Loading");var d=new Ext.data.Connection();d.request({url:"services.php",method:"POST",params:{cmd:"feedback",entryid:a,getAttempt:0},success:function(l){var m=Ext.decode(l.responseText);if(!m.success){Ext.MessageBox.alert("Error",m.error);return}cr.maxAttempt=Number(m.maxattempt);cr.currentAttempt=Number(m.attempt);var j=new Ext.Toolbar({items:[{id:"previous_attempt",text:"Previous Attempt",listeners:{click:function(){n.disable();var o=new Ext.data.Connection();o.request({url:"services.php",method:"POST",params:{cmd:"feedback",entryid:a,getAttempt:(cr.currentAttempt-1)},success:function(p){var q=Ext.decode(p.responseText);n.body.update('<div class="reset">'+q.message+"</div>");cr.currentAttempt=Number(q.attempt);if(q.attempt<cr.maxAttempt){Ext.getCmp("next_attempt").enable()}if(1==q.attempt){Ext.getCmp("previous_attempt").disable()}n.enable()},failure:function(){n.enable();Ext.MessageBox.alert("Error","Unable to load previous attempt.")}})}}},{xtype:"tbspacer",width:5},{id:"next_attempt",text:"Next Attempt",listeners:{click:function(){n.disable();var o=new Ext.data.Connection();var p=cr.currentAttempt+1;if(p==cr.maxAttempt){p=0}o.request({url:"services.php",method:"POST",params:{cmd:"feedback",entryid:a,getAttempt:p},success:function(q){var s=Ext.decode(q.responseText);n.body.update('<div class="reset">'+s.message+"</div>");cr.currentAttempt=Number(s.attempt);if(s.attempt==cr.maxAttempt){Ext.getCmp("next_attempt").disable()}if(2==s.attempt){Ext.getCmp("previous_attempt").enable()}n.enable()},failure:function(){n.enable();Ext.MessageBox.alert("Error","Unable to load next attempt.")}})}}},{xtype:"tbfill"}]});if(m.attempt==m.maxattempt){Ext.getCmp("next_attempt").disable()}if(1==m.attempt){Ext.getCmp("previous_attempt").disable()}var k={autoScroll:true,cls:"left-right-buttons",height:450,width:700,modal:true,bodyStyle:"padding-left: 5px;",layout:"fit",title:m.title,html:'<div class="reset">'+m.message+"</div>",bbar:j};if(h){if(b=="quiz"){j.addButton({text:"Try Again",listeners:{click:function(){n.close();if(cr.is_quiz_open){Ext.MessageBox.alert("Oops","You can only have one quiz open at a time.")}else{cr.quizPopup(f,a)}}}})}else{if((b=="objective")||(b=="sqlobjective")){j.addButton({text:"Try Again",listeners:{click:function(){n.close();if(cr.is_objective_open){Ext.MessageBox.alert("Oops","You can only have one objective open at a time.")}else{cr.objectivePopup(f,a,b)}}}})}}}else{j.addButton({text:"Close",listeners:{click:function(){n.close()}}})}var n=new Ext.Window(k);g.hide();n.show()},failure:function(){g.hide();Ext.MessageBox.alert("Error","Unable to load "+b+".")}})};cr.previewPopup=function(b){var a=Ext.MessageBox.wait("Working...");var d=cr.findType(b.filename);var f=new Ext.data.Connection();f.request({url:"services.php",method:"POST",params:{cmd:"preview",type:d,path:b.path,filename:b.filename},success:function(j){a.hide();var g=Ext.decode(j.responseText);if(!g.success){Ext.MessageBox.alert("Error",g.error);return}var h={title:"Results",maximizable:false,resizable:false,layout:"form",plain:true,autoScroll:true,width:600,html:g.message,buttons:[{text:"Close",handler:function(){k.close()}}]};if(d=="java"){cr.files.root.reload();h.buttons.unshift({text:"Preview",disabled:!g.javaPreview||g.errors,handler:function(){window.open(g.url);k.close()}});if(!g.javaPreview){h.html=h.html+"<br />"+g.previewMessage}}else{if((d=="c")||(d=="cpp")){if(!g.errors){h.html=h.html+"<br />You can run your program by typing the following in a terminal:<br /><br /><pre>"+g.compiledPath+"</pre>"}}else{if(d=="perl"){h.buttons.unshift({text:"Preview",handler:function(){window.open(g.perlUrl);k.close()}});h.html=h.html+"<br />If there were no errors you can either preview your script on the web by clicking the preview button, or by running this command in a terminal:<br /><pre>"+g.perlPath+"</pre>"}else{if(d=="python"){if(!g.errors){h.html=h.html+"<br />There were no errors you in your program. You can run it by entering this command in a terminal:<br /><pre>python3 "+g.pythonPath+"</pre>"}}}}}h.buttons.push();var k=new Ext.Window(h);k.show();if(k.getHeight()>400){k.setHeight(400);k.setPagePosition((cr.viewport.getWidth()/4),(cr.viewport.getHeight()/4))}},failure:function(){a.hide();Ext.MessageBox.alert("Error","There was an error previewing your file.")}})};cr.getQueryVariable=function(a){var d=window.location.search.substring(1);var f=d.split("&");for(var b=0;b<f.length;b++){var g=f[b].split("=");if(g[0]==a){return g[1]}}return null};cr.setTutorialListeners=function(){jQuery(".filebrowser_video_link").click(function(a){a.preventDefault();cr.showVideo("filebrowser")});jQuery(".editor_video_link").click(function(a){a.preventDefault();cr.showVideo("editor")});jQuery(".coursework_video_link").click(function(a){a.preventDefault();cr.showVideo("coursework")})};jQuery(document).ready(function(a){cr.current_year=(new Date).getFullYear();a(".current_year").text(cr.current_year)});function EAL(){var b=this;b.version="0.8.3";b.term_count=0;date=new Date();b.start_time=date.getTime();b.win="loading";b.error=false;b.baseURL="/js/edit_area/";b.template="";b.lang={};b.load_syntax={};b.syntax={};b.loadedFiles=[];b.waiting_loading={};b.scripts_to_load=[];b.sub_scripts_to_load=[];b.syntax_display_name={coldfusion:"Coldfusion",brainfuck:"Brainfuck",html:"HTML",mdx:"MDX",vbscript:"VBScript",c:"C",basic:"Basic",java:"Java",pas:"Pascal",xml:"XML",php:"PHP",ruby:"Ruby",xsl:"XSL",css:"CSS",tsql:"T-SQL",robotstxt:"Robots txt",cpp:"C++",json:"JSON",python:"Python",sql:"SQL",js:"Javascript",perl:"Perl",vb:"Visual Basic",text:"Text"};b.resize=[];b.hidden={};b.default_settings={debug:false,smooth_selection:true,font_size:"10",font_family:"monospace",start_highlight:false,toolbar:"search,go_to_line,fullscreen,|,undo,redo,|,select_font,|,change_smooth_selection,highlight,reset_highlight,word_wrap,|,help",begin_toolbar:"",end_toolbar:"",is_multi_files:false,allow_resize:"both",show_line_colors:false,min_width:400,min_height:125,replace_tab_by_spaces:false,allow_toggle:true,language:"en",syntax:"",syntax_selection_allow:"basic,brainfuck,c,coldfusion,cpp,css,html,java,js,pas,perl,php,python,ruby,robotstxt,sql,tsql,vb,xml",display:"onload",max_undo:30,browsers:"known",plugins:"",gecko_spellcheck:false,fullscreen:false,is_editable:true,cursor_position:"begin",word_wrap:false,autocompletion:false,load_callback:"",save_callback:"",save_as_callback:"",change_callback:"",submit_callback:"",EA_init_callback:"",EA_delete_callback:"",EA_load_callback:"",EA_unload_callback:"",EA_toggle_on_callback:"",EA_toggle_off_callback:"",EA_file_switch_on_callback:"",EA_file_switch_off_callback:"",EA_syntax_switch_callback:"",EA_terminal_switch_on_callback:"",EA_terminal_switch_off_callback:"",EA_file_close_callback:""};b.advanced_buttons=[["new_terminal","terminal.gif","new_terminal",false],["new_database","database.png","new_database",false],["new_uml_m0","server_connect_m0.png","new_uml_m0",false],["new_uml_m1","server_connect_m1.png","new_uml_m1",false],["new_document","newdocument.gif","new_document",false],["search","search.gif","show_search",false],["go_to_line","go_to_line.gif","go_to_line",false],["undo","undo.gif","undo",true],["redo","redo.gif","redo",true],["change_smooth_selection","smooth_selection.gif","change_smooth_selection_mode",true],["reset_highlight","reset_highlight.gif","resync_highlight",true],["highlight","highlight.gif","change_highlight",true],["help","help.gif","show_help",false],["save","save.gif","save",false],["saveas","saveas.png","saveas",false],["load","load.gif","load",false],["fullscreen","fullscreen.gif","toggle_full_screen",false],["word_wrap","word_wrap.gif","toggle_word_wrap",true],["autocompletion","autocompletion.gif","toggle_autocompletion",true]];b.set_browser_infos(b);if(b.isIE>=6||b.isGecko||(b.isWebKit&&!b.isSafari<3)||b.isOpera>=9||b.isCamino){b.isValidBrowser=true}else{b.isValidBrowser=false}b.set_base_url();for(var a=0;a<b.scripts_to_load.length;a++){setTimeout("eAL.load_script('"+b.baseURL+b.scripts_to_load[a]+".js');",1);b.waiting_loading[b.scripts_to_load[a]+".js"]=false}b.add_event(window,"load",EAL.prototype.window_loaded)}EAL.prototype={has_error:function(){this.error=true;for(var a in EAL.prototype){EAL.prototype[a]=function(){}}},set_browser_infos:function(a){ua=navigator.userAgent;a.isWebKit=/WebKit/.test(ua);a.isGecko=!a.isWebKit&&/Gecko/.test(ua);a.isMac=/Mac/.test(ua);a.isIE=(navigator.appName=="Microsoft Internet Explorer");if(a.isIE){a.isIE=ua.replace(/^.*?MSIE\s+([0-9\.]+).*$/,"$1");if(a.isIE<6){a.has_error()}}if(a.isOpera=(ua.indexOf("Opera")!=-1)){a.isOpera=ua.replace(/^.*?Opera.*?([0-9\.]+).*$/i,"$1");if(a.isOpera<9){a.has_error()}a.isIE=false}if(a.isFirefox=(ua.indexOf("Firefox")!=-1)){a.isFirefox=ua.replace(/^.*?Firefox.*?([0-9\.]+).*$/i,"$1")}if(ua.indexOf("Iceweasel")!=-1){a.isFirefox=ua.replace(/^.*?Iceweasel.*?([0-9\.]+).*$/i,"$1")}if(ua.indexOf("GranParadiso")!=-1){a.isFirefox=ua.replace(/^.*?GranParadiso.*?([0-9\.]+).*$/i,"$1")}if(ua.indexOf("BonEcho")!=-1){a.isFirefox=ua.replace(/^.*?BonEcho.*?([0-9\.]+).*$/i,"$1")}if(ua.indexOf("SeaMonkey")!=-1){a.isFirefox=(ua.replace(/^.*?SeaMonkey.*?([0-9\.]+).*$/i,"$1"))+1}if(a.isCamino=(ua.indexOf("Camino")!=-1)){a.isCamino=ua.replace(/^.*?Camino.*?([0-9\.]+).*$/i,"$1")}if(a.isSafari=(ua.indexOf("Safari")!=-1)){a.isSafari=ua.replace(/^.*?Version\/([0-9]+\.[0-9]+).*$/i,"$1")}if(a.isChrome=(ua.indexOf("Chrome")!=-1)){a.isChrome=ua.replace(/^.*?Chrome.*?([0-9\.]+).*$/i,"$1");a.isSafari=false}},window_loaded:function(){eAL.win="loaded";if(document.forms){for(var a=0;a<document.forms.length;a++){var b=document.forms[a];b.edit_area_replaced_submit=null;try{b.edit_area_replaced_submit=b.onsubmit;b.onsubmit=""}catch(c){}eAL.add_event(b,"submit",EAL.prototype.submit);eAL.add_event(b,"reset",EAL.prototype.reset)}}eAL.add_event(window,"unload",function(){for(var d in eAs){eAL.delete_instance(d)}})},init_ie_textarea:function(d){var b=document.getElementById(d);try{if(b&&typeof(b.focused)=="undefined"){b.focus();b.focused=true;b.selectionStart=b.selectionEnd=0;get_IE_selection(b);eAL.add_event(b,"focus",IE_textarea_focus);eAL.add_event(b,"blur",IE_textarea_blur)}}catch(c){}},init:function(d){var b=this,c=d,a;if(!c.id){b.has_error()}if(b.error){return}if(eAs[c.id]){b.delete_instance(c.id)}for(a in b.default_settings){if(typeof(c[a])=="undefined"){c[a]=b.default_settings[a]}}if(c.browsers=="known"&&b.isValidBrowser==false){return}if(c.begin_toolbar.length>0){c.toolbar=c.begin_toolbar+","+c.toolbar}if(c.end_toolbar.length>0){c.toolbar=c.toolbar+","+c.end_toolbar}c.tab_toolbar=c.toolbar.replace(/ /g,"").split(",");c.plugins=c.plugins.replace(/ /g,"").split(",");for(a=0;a<c.plugins.length;a++){if(c.plugins[a].length==0){c.plugins.splice(a,1)}}b.get_template();b.load_script(b.baseURL+"langs/"+c.language+".js");if(c.syntax.length>0){c.syntax=c.syntax.toLowerCase();b.load_script(b.baseURL+"reg_syntax/"+c.syntax+".js")}eAs[c.id]={settings:c};eAs[c.id]["displayed"]=false;eAs[c.id]["hidden"]=false;b.start(c.id)},delete_instance:function(j){var h=document,a=window.frames,c,b;eAL.execCommand(j,"EA_delete");if(a["frame_"+j]&&a["frame_"+j].editArea){if(eAs[j]["displayed"]){eAL.toggle(j,"off")}a["frame_"+j].editArea.execCommand("EA_unload")}c=h.getElementById("EditAreaArroundInfos_"+j);if(c){c.parentNode.removeChild(c)}b=h.getElementById("frame_"+j);if(b){b.parentNode.removeChild(b);try{delete a["frame_"+j]}catch(g){}}delete eAs[j]},start:function(b){var p=this,m=document,k,n,c,h,j="",e="",o,l,g;if(p.win!="loaded"){setTimeout("eAL.start('"+b+"');",50);return}for(g in p.waiting_loading){if(p.waiting_loading[g]!="loaded"&&typeof(p.waiting_loading[g])!="function"){setTimeout("eAL.start('"+b+"');",50);return}}if(!p.lang[eAs[b]["settings"]["language"]]||(eAs[b]["settings"]["syntax"].length>0&&!p.load_syntax[eAs[b]["settings"]["syntax"]])){setTimeout("eAL.start('"+b+"');",50);return}if(eAs[b]["settings"]["syntax"].length>0){p.init_syntax_regexp()}if(!m.getElementById("EditAreaArroundInfos_"+b)&&(eAs[b]["settings"]["debug"]||eAs[b]["settings"]["allow_toggle"])){n=m.createElement("span");n.id="EditAreaArroundInfos_"+b;if(eAs[b]["settings"]["allow_toggle"]){checked=(eAs[b]["settings"]["display"]=="onload")?"checked='checked'":"";j+="<div id='edit_area_toggle_"+g+"'>";j+="<input id='edit_area_toggle_checkbox_"+b+"' class='toggle_"+b+"' type='checkbox' onclick='eAL.toggle(\""+b+"\");' accesskey='e' "+checked+" />";j+="<label for='edit_area_toggle_checkbox_"+b+"'>{$toggle}</label></div>"}if(eAs[b]["settings"]["debug"]){j+="<textarea id='edit_area_debug_"+b+"' spellcheck='off' style='z-index:20;width:100%;height:120px;overflow:auto;border:solid black 1px;'></textarea><br />"}j=p.translate(j,eAs[b]["settings"]["language"]);n.innerHTML=j;c=m.getElementById(b).parentNode;h=m.getElementById(b).nextSibling;if(h==null){c.appendChild(n)}else{c.insertBefore(n,h)}}if(!eAs[b]["initialized"]){p.execCommand(b,"EA_init");if(eAs[b]["settings"]["display"]=="later"){eAs[b]["initialized"]=true;return}}if(p.isIE){p.init_ie_textarea(b)}var a=eAs[b];for(g=0;g<a.settings["tab_toolbar"].length;g++){e+=p.get_control_html(a.settings["tab_toolbar"][g],a.settings["language"])}e=p.translate(e,a.settings["language"],"template");if(!p.iframe_script){p.iframe_script="";for(g=0;g<p.sub_scripts_to_load.length;g++){p.iframe_script+='<script language="javascript" type="text/javascript" src="'+p.baseURL+p.sub_scripts_to_load[g]+'.js"><\/script>'}}for(g=0;g<a.settings["plugins"].length;g++){if(!p.all_plugins_loaded){p.iframe_script+='<script language="javascript" type="text/javascript" src="'+p.baseURL+"plugins/"+a.settings["plugins"][g]+"/"+a.settings["plugins"][g]+'.js"><\/script>'}p.iframe_script+='<script language="javascript" type="text/javascript" src="'+p.baseURL+"plugins/"+a.settings["plugins"][g]+"/langs/"+a.settings["language"]+'.js"><\/script>'}if(!p.iframe_css){p.iframe_css="<link href='"+p.baseURL+"edit_area.css' rel='stylesheet' type='text/css' />"}o=p.template.replace(/\[__BASEURL__\]/g,p.baseURL);o=o.replace("[__TOOLBAR__]",e);o=p.translate(o,a.settings["language"],"template");o=o.replace("[__CSSRULES__]",p.iframe_css);o=o.replace("[__JSCODE__]",p.iframe_script);o=o.replace("[__EA_VERSION__]",p.version);a.textarea=m.getElementById(a.settings["id"]);eAs[a.settings["id"]]["textarea"]=a.textarea;if(typeof(window.frames["frame_"+a.settings["id"]])!="undefined"){delete window.frames["frame_"+a.settings["id"]]}c=a.textarea.parentNode;l=m.createElement("iframe");l.name="frame_"+a.settings["id"];l.id="frame_"+a.settings["id"];l.style.borderWidth="0px";setAttribute(l,"frameBorder","0");l.style.overflow="hidden";l.style.display="none";h=a.textarea.nextSibling;if(h==null){c.appendChild(l)}else{c.insertBefore(l,h)}k=window.frames["frame_"+a.settings["id"]];k.document.open();k.eAs=eAs;k.area_id=a.settings["id"];k.document.area_id=a.settings["id"];k.document.write(o);k.document.close()},toggle:function(b,a){if(!a){a=(eAs[b]["displayed"]==true)?"off":"on"}if(eAs[b]["displayed"]==true&&a=="off"){this.toggle_off(b)}else{if(eAs[b]["displayed"]==false&&a=="on"){this.toggle_on(b)}}return false},toggle_off:function(a){var j=window.frames,k,n,d,h,c,m,b,g;if(j["frame_"+a]){k=j["frame_"+a];n=eAs[a]["textarea"];if(k.editArea.fullscreen.isFull){k.editArea.toggle_full_screen(false)}eAs[a]["displayed"]=false;n.wrap="off";setAttribute(n,"wrap","off");d=n.parentNode;h=n.nextSibling;d.removeChild(n);d.insertBefore(n,h);n.value=k.editArea.textarea.value;c=k.editArea.last_selection.selectionStart;m=k.editArea.last_selection.selectionEnd;b=k.document.getElementById("result").scrollTop;g=k.document.getElementById("result").scrollLeft;document.getElementById("frame_"+a).style.display="none";n.style.display="inline";try{n.focus()}catch(l){}if(this.isIE){n.selectionStart=c;n.selectionEnd=m;n.focused=true;set_IE_selection(n)}else{if(this.isOpera&&this.isOpera<9.6){n.setSelectionRange(0,0)}try{n.setSelectionRange(c,m)}catch(l){}}n.scrollTop=b;n.scrollLeft=g;k.editArea.execCommand("toggle_off")}},toggle_on:function(a){var h=window.frames,j,m,b=0,l=0,c=0,g=0,e,d;if(h["frame_"+a]){j=h["frame_"+a];m=eAs[a]["textarea"];area=j.editArea;area.textarea.value=m.value;e=eAs[a]["settings"]["cursor_position"];if(m.use_last==true){b=m.last_selectionStart;l=m.last_selectionEnd;c=m.last_scrollTop;g=m.last_scrollLeft;m.use_last=false}else{if(e=="auto"){try{b=m.selectionStart;l=m.selectionEnd;c=m.scrollTop;g=m.scrollLeft}catch(k){}}}this.set_editarea_size_from_textarea(a,document.getElementById("frame_"+a));m.style.display="none";document.getElementById("frame_"+a).style.display="inline";area.execCommand("focus");eAs[a]["displayed"]=true;area.execCommand("update_size");j.document.getElementById("result").scrollTop=c;j.document.getElementById("result").scrollLeft=g;area.area_select(b,l-b);area.execCommand("toggle_on")}else{d=document.getElementById(a);d.last_selectionStart=d.selectionStart;d.last_selectionEnd=d.selectionEnd;d.last_scrollTop=d.scrollTop;d.last_scrollLeft=d.scrollLeft;d.use_last=true;eAL.start(a)}},set_editarea_size_from_textarea:function(e,d){var c,b,a;c=document.getElementById(e);b=Math.max(eAs[e]["settings"]["min_width"],c.offsetWidth)+"px";a=Math.max(eAs[e]["settings"]["min_height"],c.offsetHeight)+"px";if(c.style.width.indexOf("%")!=-1){b=c.style.width}if(c.style.height.indexOf("%")!=-1){a=c.style.height}d.style.width=b;d.style.height=a},set_base_url:function(){var d=this,a,c,b;if(!this.baseURL){a=document.getElementsByTagName("script");for(c=0;c<a.length;c++){if(a[c].src&&a[c].src.match(/edit_area_[^\\\/]*$/i)){var e=unescape(a[c].src);e=e.substring(0,e.lastIndexOf("/"));this.baseURL=e;this.file_name=a[c].src.substr(a[c].src.lastIndexOf("/")+1);break}}}b=document.location.href;if(b.indexOf("?")!=-1){b=b.substring(0,b.indexOf("?"))}b=b.substring(0,b.lastIndexOf("/"));if(d.baseURL.indexOf("://")==-1&&d.baseURL.charAt(0)!="/"){d.baseURL=b+"/"+d.baseURL}d.baseURL+="/"},get_button_html:function(h,b,a,g,e){var d,c;if(!e){e=this.baseURL}d="editArea.execCommand('"+a+"')";c='<a id="a_'+h+'" href="javascript:'+d+'" onclick="'+d+';return false;" onmousedown="return false;" target="_self" fileSpecific="'+(g?"yes":"no")+'">';c+='<img id="'+h+'" src="'+e+"images/"+b+'" title="{$'+h+'}" width="20" height="20" class="editAreaButtonNormal" onmouseover="editArea.switchClass(this,\'editAreaButtonOver\');" onmouseout="editArea.restoreClass(this);" onmousedown="editArea.restoreAndSwitchClass(this,\'editAreaButtonDown\');" /></a>';return c},get_control_html:function(b,h){var g=this,e,a,d,c;for(e=0;e<g.advanced_buttons.length;e++){a=g.advanced_buttons[e];if(a[0]==b){return g.get_button_html(a[0],a[1],a[2],a[3])}}switch(b){case"*":case"return":return"<br />";case"|":case"separator":return'<img src="'+g.baseURL+'images/spacer.gif" width="1" height="15" class="editAreaSeparatorLine">';case"select_font":d="<select id='area_font_size' onchange='javascript:editArea.execCommand(\"change_font_size\")' fileSpecific='yes'>";d+="<option disabled value='-1'>{$font_size}</option>";c=[8,9,10,11,12,14];for(e=0;e<c.length;e++){d+="<option value='"+c[e]+"'>"+c[e]+" pt</option>"}d+="</select>";return d;case"syntax_selection":d="<select id='syntax_selection' onchange='javascript:editArea.execCommand(\"change_syntax\",this.value)' fileSpecific='yes'>";d+="<option disabled value='-1'>{$syntax_selection}</option>";d+="</select>";return d}return"<span id='tmp_tool_"+b+"'>["+b+"]</span>"},get_template:function(){if(this.template==""){var a=null;if(window.XMLHttpRequest){a=new XMLHttpRequest()}else{if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLHTTP")}else{alert("XMLHTTPRequest not supported. EditArea not loaded");return}}a.open("GET",this.baseURL+"template.html",false);a.send(null);if(a.readyState==4){this.template=a.responseText}else{this.has_error()}}},translate:function(c,b,a){if(a=="word"){c=eAL.get_word_translation(c,b)}else{if(a="template"){eAL.current_language=b;c=c.replace(/\{\$([^\}]+)\}/gm,eAL.translate_template)}}return c},translate_template:function(){return eAL.get_word_translation(EAL.prototype.translate_template.arguments[1],eAL.current_language)},get_word_translation:function(c,b){var a;for(a in eAL.lang[b]){if(a==c){return eAL.lang[b][a]}}return"_"+c},load_script:function(b){var g=this,j=document,a,c;if(g.loadedFiles[b]){return}try{a=j.createElement("script");a.type="text/javascript";a.src=b;a.charset="UTF-8";j.getElementsByTagName("head")[0].appendChild(a)}catch(h){j.write('<script language="javascript" type="text/javascript" src="'+b+'" charset="UTF-8"><\/script>')}g.loadedFiles[b]=true},add_event:function(d,a,b){try{if(d.attachEvent){d.attachEvent("on"+a,b)}else{d.addEventListener(a,b,false)}}catch(c){}},remove_event:function(d,a,b){try{if(d.detachEvent){d.detachEvent("on"+a,b)}else{d.removeEventListener(a,b,false)}}catch(c){}},reset:function(h){var c,g,d,a;c=eAL.isIE?window.event.srcElement:h.target;if(c.tagName!="FORM"){c=c.form}for(d in eAs){g=false;for(a=0;a<c.elements.length;a++){if(c.elements[a].id==d){g=true}}if(window.frames["frame_"+d]&&g&&eAs[d]["displayed"]==true){var b='window.frames["frame_'+d+'"].editArea.textarea.value=document.getElementById("'+d+'").value;';b+='window.frames["frame_'+d+'"].editArea.execCommand("focus");';b+='window.frames["frame_'+d+'"].editArea.check_line_selection();';b+='window.frames["frame_'+d+'"].editArea.execCommand("reset");';window.setTimeout(b,10)}}return},submit:function(h){var c,g,b=window.frames,d,a;c=eAL.isIE?window.event.srcElement:h.target;if(c.tagName!="FORM"){c=c.form}for(d in eAs){g=false;for(a=0;a<c.elements.length;a++){if(c.elements[a].id==d){g=true}}if(g){if(b["frame_"+d]&&eAs[d]["displayed"]==true){document.getElementById(d).value=b["frame_"+d].editArea.textarea.value}eAL.execCommand(d,"EA_submit")}}if(typeof(c.edit_area_replaced_submit)=="function"){res=c.edit_area_replaced_submit();if(res==false){if(eAL.isIE){return false}else{h.preventDefault()}}}return},getValue:function(a){if(window.frames["frame_"+a]&&eAs[a]["displayed"]==true){return window.frames["frame_"+a].editArea.textarea.value}else{if(elem=document.getElementById(a)){return elem.value}}return false},setValue:function(c,b){var a=window.frames;if((f=a["frame_"+c])&&eAs[c]["displayed"]==true){f.editArea.textarea.value=b;f.editArea.execCommand("focus");f.editArea.check_line_selection(false);f.editArea.execCommand("onchange")}else{if(elem=document.getElementById(c)){elem.value=b}}},getSelectionRange:function(d){var c,b,a=window.frames;c={start:0,end:0};if(a["frame_"+d]&&eAs[d]["displayed"]==true){b=a["frame_"+d].editArea;c.start=b.textarea.selectionStart;c.end=b.textarea.selectionEnd}else{if(elem=document.getElementById(d)){c=getSelectionRange(elem)}}return c},setSelectionRange:function(d,c,b){var a=window.frames;if(a["frame_"+d]&&eAs[d]["displayed"]==true){a["frame_"+d].editArea.area_select(c,b-c);if(!this.isIE){a["frame_"+d].editArea.check_line_selection(false);a["frame_"+d].editArea.scroll_to_view()}}else{if(elem=document.getElementById(d)){setSelectionRange(elem,c,b)}}},getSelectedText:function(b){var a=this.getSelectionRange(b);return this.getValue(b).substring(a.start,a.end)},setSelectedText:function(a,k){var g=window.frames,j=document,c,l,b,e,h;k=k.replace(/\r/g,"");c=this.getSelectionRange(a);l=this.getValue(a);if(g["frame_"+a]&&eAs[a]["displayed"]==true){b=g["frame_"+a].document.getElementById("result").scrollTop;e=g["frame_"+a].document.getElementById("result").scrollLeft}else{b=j.getElementById(a).scrollTop;e=j.getElementById(a).scrollLeft}l=l.substring(0,c.start)+k+l.substring(c.end);this.setValue(a,l);h=c.start+k.length;this.setSelectionRange(a,c.start,h);if(k!=this.getSelectedText(a).replace(/\r/g,"")){this.setSelectionRange(a,c.start,h+k.split("\n").length-1)}if(g["frame_"+a]&&eAs[a]["displayed"]==true){g["frame_"+a].document.getElementById("result").scrollTop=b;g["frame_"+a].document.getElementById("result").scrollLeft=e;g["frame_"+a].editArea.execCommand("onchange")}else{j.getElementById(a).scrollTop=b;j.getElementById(a).scrollLeft=e}},insertTags:function(e,a,c){var b,d;b=this.getSelectionRange(e);text=a+this.getSelectedText(e)+c;eAL.setSelectedText(e,text);d=this.getSelectionRange(e);if(b.end>b.start){this.setSelectionRange(e,d.end,d.end)}else{this.setSelectionRange(e,b.start+a.length,b.start+a.length)}},hide:function(j){var a=window.frames,h=document,b=this,e,g,c;if(h.getElementById(j)&&!b.hidden[j]){b.hidden[j]={};b.hidden[j]["selectionRange"]=b.getSelectionRange(j);if(h.getElementById(j).style.display!="none"){b.hidden[j]["scrollTop"]=h.getElementById(j).scrollTop;b.hidden[j]["scrollLeft"]=h.getElementById(j).scrollLeft}if(a["frame_"+j]){b.hidden[j]["toggle"]=eAs[j]["displayed"];if(a["frame_"+j]&&eAs[j]["displayed"]==true){e=a["frame_"+j].document.getElementById("result").scrollTop;g=a["frame_"+j].document.getElementById("result").scrollLeft}else{e=h.getElementById(j).scrollTop;g=h.getElementById(j).scrollLeft}b.hidden[j]["scrollTop"]=e;b.hidden[j]["scrollLeft"]=g;if(eAs[j]["displayed"]==true){eAL.toggle_off(j)}}c=h.getElementById("EditAreaArroundInfos_"+j);if(c){c.style.display="none"}h.getElementById(j).style.display="none"}},show:function(g){var a=window.frames,e=document,b=this,c;if((elem=e.getElementById(g))&&b.hidden[g]){elem.style.display="inline";elem.scrollTop=b.hidden[g]["scrollTop"];elem.scrollLeft=b.hidden[g]["scrollLeft"];c=e.getElementById("EditAreaArroundInfos_"+g);if(c){c.style.display="inline"}if(a["frame_"+g]){elem.style.display="inline";if(b.hidden[g]["toggle"]==true){eAL.toggle_on(g)}scrollTop=b.hidden[g]["scrollTop"];scrollLeft=b.hidden[g]["scrollLeft"];if(a["frame_"+g]&&eAs[g]["displayed"]==true){a["frame_"+g].document.getElementById("result").scrollTop=scrollTop;a["frame_"+g].document.getElementById("result").scrollLeft=scrollLeft}else{elem.scrollTop=scrollTop;elem.scrollLeft=scrollLeft}}sel=b.hidden[g]["selectionRange"];b.setSelectionRange(g,sel.start,sel.end);delete b.hidden[g]}},getCurrentFile:function(a){return this.execCommand(a,"get_file",this.execCommand(a,"curr_file"))},renameFile:function(b,a){return this.execCommand(b,"rename_file",a)},getFile:function(b,a){return this.execCommand(b,"get_file",a)},getAllFiles:function(a){return this.execCommand(a,"get_all_files()")},openFile:function(b,a){return this.execCommand(b,"open_file",a)},closeFile:function(b,a){return this.execCommand(b,"close_file",a)},setFileEditedMode:function(e,c,d){var b,a;b=new RegExp("\\\\","g");a=new RegExp('"',"g");return this.execCommand(e,'set_file_edited_mode("'+c.replace(b,"\\\\").replace(a,'\\"')+'",'+d+")")},execCommand:function(id,cmd,fct_param){switch(cmd){case"EA_init":if(eAs[id]["settings"]["EA_init_callback"].length>0){eval(eAs[id]["settings"]["EA_init_callback"]+"('"+id+"');")}break;case"EA_delete":if(eAs[id]["settings"]["EA_delete_callback"].length>0){eval(eAs[id]["settings"]["EA_delete_callback"]+"('"+id+"');")}break;case"EA_submit":if(eAs[id]["settings"]["submit_callback"].length>0){eval(eAs[id]["settings"]["submit_callback"]+"('"+id+"');")}break}if(window.frames["frame_"+id]&&window.frames["frame_"+id].editArea){if(fct_param!=undefined){return eval('window.frames["frame_'+id+'"].editArea.'+cmd+"(fct_param);")}else{return eval('window.frames["frame_'+id+'"].editArea.'+cmd+";")}}return false}};var eAL=new EAL();var eAs={};function getAttribute(g,e){var d,c,b;try{d=g.getAttribute(e)}catch(a){}if(!d){for(b=0;b<g.attributes.length;b++){c=g.attributes[b].name.toLowerCase();if(c==e){d=g.attributes[b].value;return d}}}return d}function setAttribute(c,a,b){if(a=="class"){c.setAttribute("className",b);c.setAttribute("class",b)}else{c.setAttribute(a,b)}}function getChildren(b,k,h,c,g,e){if(!g){var g="single"}if(!e){var e=-1}if(b){var a=b.childNodes;var l=null;var d=[];for(var j=0;j<a.length;j++){strTagName=new String(a[j].tagName);children_class="?";if(strTagName!="undefined"){child_attribute=getAttribute(a[j],h);if((strTagName.toLowerCase()==k.toLowerCase()||k=="")&&(h==""||child_attribute==c)){if(g=="all"){d.push(a[j])}else{return a[j]}}if(e!=0){l=getChildren(a[j],k,h,c,g,e-1);if(g=="all"){if(l.length>0){d=d.concat(l)}}else{if(l!=null){return l}}}}}if(g=="all"){return d}}return null}function isChildOf(b,a){if(b){if(b==a){return true}while(b.parentNode!="undefined"){return isChildOf(b.parentNode,a)}}return false}function getMouseX(a){if(a!=null&&typeof(a.pageX)!="undefined"){return a.pageX}else{return(a!=null?a.x:event.x)+document.documentElement.scrollLeft}}function getMouseY(a){if(a!=null&&typeof(a.pageY)!="undefined"){return a.pageY}else{return(a!=null?a.y:event.y)+document.documentElement.scrollTop}}function calculeOffsetLeft(a){return calculeOffset(a,"offsetLeft")}function calculeOffsetTop(a){return calculeOffset(a,"offsetTop")}function calculeOffset(b,a){var c=0;while(b){c+=b[a];b=b.offsetParent}return c}function get_css_property(a,b){if(document.defaultView){return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)}else{if(a.currentStyle){var b=b.replace(/-\D/gi,function(c){return c.charAt(c.length-1).toUpperCase()});return a.currentStyle[b]}else{return null}}}var _mCE;function start_move_element(b,d,c){var a=(b.target||b.srcElement).id;if(d){a=d}if(!c){c=window}if(c.event){b=c.event}_mCE=c.document.getElementById(a);_mCE.frame=c;c.document.onmousemove=move_element;c.document.onmouseup=end_move_element;mouse_x=getMouseX(b);mouse_y=getMouseY(b);_mCE.start_pos_x=mouse_x-(_mCE.style.left.replace("px","")||calculeOffsetLeft(_mCE));_mCE.start_pos_y=mouse_y-(_mCE.style.top.replace("px","")||calculeOffsetTop(_mCE));return false}function end_move_element(a){_mCE.frame.document.onmousemove="";_mCE.frame.document.onmouseup="";_mCE=null}function move_element(d){var a,c,b;if(_mCE.frame&&_mCE.frame.event){d=_mCE.frame.event}a=getMouseY(d)-_mCE.start_pos_y;c=getMouseX(d)-_mCE.start_pos_x;b=_mCE.frame.document.body.offsetWidth-_mCE.offsetWidth;max_top=_mCE.frame.document.body.offsetHeight-_mCE.offsetHeight;a=Math.min(Math.max(0,a),max_top);c=Math.min(Math.max(0,c),b);_mCE.style.top=a+"px";_mCE.style.left=c+"px";return false}var nav=eAL.nav;function getSelectionRange(a){return{start:a.selectionStart,end:a.selectionEnd}}function setSelectionRange(b,c,a){b.focus();c=Math.max(0,Math.min(b.value.length,c));a=Math.max(c,Math.min(b.value.length,a));if(nav.isOpera&&nav.isOpera<9.6){b.selectionEnd=1;b.selectionStart=0;b.selectionEnd=1;b.selectionStart=0}b.selectionStart=c;b.selectionEnd=a;if(nav.isIE){set_IE_selection(b)}}function get_IE_selection(r){var p=document,b,n,g,m,h,l,k,c,a,q,j;if(r&&r.focused){if(!r.ea_line_height){b=p.createElement("div");b.style.fontFamily=get_css_property(r,"font-family");b.style.fontSize=get_css_property(r,"font-size");b.style.visibility="hidden";b.innerHTML="0";p.body.appendChild(b);r.ea_line_height=b.offsetHeight;p.body.removeChild(b)}n=p.selection.createRange();try{g=n.duplicate();g.moveToElementText(r);g.setEndPoint("EndToEnd",n);if(g.parentElement()==r){m=r;h=0;while(m.parentNode){h+=m.scrollTop;m=m.parentNode}l=n.offsetTop-calculeOffsetTop(r)+h;k=Math.round((l/r.ea_line_height)+1);c=Math.round(n.boundingHeight/r.ea_line_height);a=g.text.length-n.text.length;j=r.value.substr(0,a).split("\n");a+=(k-j.length)*2;r.selectionStart=a;q=r.selectionStart+n.text.length;j=r.value.substr(0,a+n.text.length).split("\n");q+=(k+c-1-j.length)*2;r.selectionEnd=q}}catch(o){}}if(r&&r.id){setTimeout("get_IE_selection(document.getElementById('"+r.id+"'));",50)}}function IE_textarea_focus(){event.srcElement.focused=true}function IE_textarea_blur(){event.srcElement.focused=false}function set_IE_selection(d){var a,a,b,c;if(!window.closed){a=d.value.substr(0,d.selectionStart).split("\n").length-1;b=d.value.substr(0,d.selectionEnd).split("\n").length-1;try{c=document.selection.createRange();c.moveToElementText(d);c.setEndPoint("EndToStart",c);c.moveStart("character",d.selectionStart-a);c.moveEnd("character",d.selectionEnd-b-(d.selectionStart-a));c.select()}catch(g){}}}eAL.waiting_loading["elements_functions.js"]="loaded";EAL.prototype.start_resize_area=function(){var h=document,c,j,g,b,e;h.onmouseup=eAL.end_resize_area;h.onmousemove=eAL.resize_area;eAL.toggle(eAL.resize.id);c=eAs[eAL.resize.id]["textarea"];j=h.getElementById("edit_area_resize");if(!j){j=h.createElement("div");j.id="edit_area_resize";j.style.border="dashed #888888 1px"}g=c.offsetWidth-2;b=c.offsetHeight-2;j.style.display="block";j.style.width=g+"px";j.style.height=b+"px";e=c.parentNode;e.insertBefore(j,c);c.style.display="none";eAL.resize.start_top=calculeOffsetTop(j);eAL.resize.start_left=calculeOffsetLeft(j)};EAL.prototype.end_resize_area=function(h){var j=document,k,c,g,b;j.onmouseup="";j.onmousemove="";k=j.getElementById("edit_area_resize");c=eAs[eAL.resize.id]["textarea"];g=Math.max(eAs[eAL.resize.id]["settings"]["min_width"],k.offsetWidth-4);b=Math.max(eAs[eAL.resize.id]["settings"]["min_height"],k.offsetHeight-4);if(eAL.isIE==6){g-=2;b-=2}c.style.width=g+"px";c.style.height=b+"px";k.style.display="none";c.style.display="inline";c.selectionStart=eAL.resize.selectionStart;c.selectionEnd=eAL.resize.selectionEnd;eAL.toggle(eAL.resize.id);return false};EAL.prototype.resize_area=function(d){var b,a,c;b=eAs[eAL.resize.id]["settings"]["allow_resize"];if(b=="both"||b=="y"){a=Math.max(20,getMouseY(d)-eAL.resize.start_top);document.getElementById("edit_area_resize").style.height=a+"px"}if(b=="both"||b=="x"){c=Math.max(20,getMouseX(d)-eAL.resize.start_left);document.getElementById("edit_area_resize").style.width=c+"px"}return false};eAL.waiting_loading["resize_area.js"]="loaded";EAL.prototype.get_regexp=function(a){res="(\\b)(";for(i=0;i<a.length;i++){if(i>0){res+="|"}res+=this.get_escaped_regexp(a[i])}res+=")(\\b)";reg=new RegExp(res);return res};EAL.prototype.get_escaped_regexp=function(a){return a.toString().replace(/(\.|\?|\*|\+|\\|\(|\)|\[|\]|\}|\{|\$|\^|\|)/g,"\\$1")};EAL.prototype.init_syntax_regexp=function(){var m={};for(var c in this.load_syntax){if(!this.syntax[c]){this.syntax[c]={};this.syntax[c]["keywords_reg_exp"]={};this.keywords_reg_exp_nb=0;if(this.load_syntax[c]["KEYWORDS"]){param="g";if(this.load_syntax[c]["KEYWORD_CASE_SENSITIVE"]===false){param+="i"}for(var k in this.load_syntax[c]["KEYWORDS"]){if(typeof(this.load_syntax[c]["KEYWORDS"][k])=="function"){continue}this.syntax[c]["keywords_reg_exp"][k]=new RegExp(this.get_regexp(this.load_syntax[c]["KEYWORDS"][k]),param);this.keywords_reg_exp_nb++}}if(this.load_syntax[c]["OPERATORS"]){var n="";var l=0;for(var k in this.load_syntax[c]["OPERATORS"]){if(typeof(this.load_syntax[c]["OPERATORS"][k])=="function"){continue}if(l>0){n+="|"}n+=this.get_escaped_regexp(this.load_syntax[c]["OPERATORS"][k]);l++}if(n.length>0){this.syntax[c]["operators_reg_exp"]=new RegExp("("+n+")","g")}}if(this.load_syntax[c]["DELIMITERS"]){var n="";var l=0;for(var k in this.load_syntax[c]["DELIMITERS"]){if(typeof(this.load_syntax[c]["DELIMITERS"][k])=="function"){continue}if(l>0){n+="|"}n+=this.get_escaped_regexp(this.load_syntax[c]["DELIMITERS"][k]);l++}if(n.length>0){this.syntax[c]["delimiters_reg_exp"]=new RegExp("("+n+")","g")}}var o=[];this.syntax[c]["quotes"]={};var h=[];if(this.load_syntax[c]["QUOTEMARKS"]){for(var k in this.load_syntax[c]["QUOTEMARKS"]){if(typeof(this.load_syntax[c]["QUOTEMARKS"][k])=="function"){continue}var p=this.get_escaped_regexp(this.load_syntax[c]["QUOTEMARKS"][k]);this.syntax[c]["quotes"][p]=p;h[h.length]="("+p+"(\\\\.|[^"+p+"])*(?:"+p+"|$))";o.push(p)}}this.syntax[c]["comments"]={};if(this.load_syntax[c]["COMMENT_SINGLE"]){for(var k in this.load_syntax[c]["COMMENT_SINGLE"]){if(typeof(this.load_syntax[c]["COMMENT_SINGLE"][k])=="function"){continue}var p=this.get_escaped_regexp(this.load_syntax[c]["COMMENT_SINGLE"][k]);h[h.length]="("+p+"(.|\\r|\\t)*(\\n|$))";o.push(p);this.syntax[c]["comments"][p]="\n"}}if(this.load_syntax[c]["COMMENT_MULTI"]){for(var k in this.load_syntax[c]["COMMENT_MULTI"]){if(typeof(this.load_syntax[c]["COMMENT_MULTI"][k])=="function"){continue}var b=this.get_escaped_regexp(k);var e=this.get_escaped_regexp(this.load_syntax[c]["COMMENT_MULTI"][k]);h[h.length]="("+b+"(.|\\n|\\r)*?("+e+"|$))";o.push(b);o.push(e);this.syntax[c]["comments"][k]=this.load_syntax[c]["COMMENT_MULTI"][k]}}if(h.length>0){this.syntax[c]["comment_or_quote_reg_exp"]=new RegExp("("+h.join("|")+")","gi")}if(o.length>0){this.syntax[c]["syntax_trace_regexp"]=new RegExp("((.|\n)*?)(\\\\*("+o.join("|")+"|$))","gmi")}if(this.load_syntax[c]["SCRIPT_DELIMITERS"]){this.syntax[c]["script_delimiters"]={};for(var k in this.load_syntax[c]["SCRIPT_DELIMITERS"]){if(typeof(this.load_syntax[c]["SCRIPT_DELIMITERS"][k])=="function"){continue}this.syntax[c]["script_delimiters"][k]=this.load_syntax[c]["SCRIPT_DELIMITERS"]}}this.syntax[c]["custom_regexp"]={};if(this.load_syntax[c]["REGEXPS"]){for(var k in this.load_syntax[c]["REGEXPS"]){if(typeof(this.load_syntax[c]["REGEXPS"][k])=="function"){continue}var d=this.load_syntax[c]["REGEXPS"][k];if(!this.syntax[c]["custom_regexp"][d.execute]){this.syntax[c]["custom_regexp"][d.execute]={}}this.syntax[c]["custom_regexp"][d.execute][k]={regexp:new RegExp(d.search,d.modifiers),"class":d["class"]}}}this.syntax[c]["extension"]="";if(this.load_syntax[c]["EXTENSION"]){this.syntax[c]["extension"]=this.load_syntax[c]["EXTENSION"]}if(this.load_syntax[c]["STYLES"]){m[c]={};for(var k in this.load_syntax[c]["STYLES"]){if(typeof(this.load_syntax[c]["STYLES"][k])=="function"){continue}if(typeof(this.load_syntax[c]["STYLES"][k])!="string"){for(var g in this.load_syntax[c]["STYLES"][k]){m[c][g]=this.load_syntax[c]["STYLES"][k][g]}}else{m[c][k]=this.load_syntax[c]["STYLES"][k]}}}var a="";for(var k in m[c]){if(m[c][k].length>0){a+="."+c+" ."+k.toLowerCase()+" span{"+m[c][k]+"}\n";a+="."+c+" ."+k.toLowerCase()+"{"+m[c][k]+"}\n"}}this.syntax[c]["styles"]=a}}};eAL.waiting_loading["reg_syntax.js"]="loaded";var editAreaLoader=eAL;var editAreas=eAs;EditAreaLoader=EAL;editAreaLoader.iframe_script='<script type=\'text/javascript\'> Ã EA(){var t=Á;t.error=Ì;t.inlinePopup=[{popup_id:"area_search_replace",icon_id:"search"},{popup_id:"edit_area_help",icon_id:"help"}];t.plugins={};t.line_number=0;È.eAL.set_browser_infos(t);if(t.isIE >=8)t.isIE=7;t.É={};t.last_text_to_highlight="";t.last_hightlighted_text="";t.syntax_list=[];t.allready_used_syntax={};t.check_line_selection_timer=50;t.ÂFocused=Ì;t.highlight_selection_line=null;t.previous=[];t.next=[];t.last_undo="";t.files={};t.filesIdAssoc={};t.curr_file=\'\';t.assocBracket={};t.revertAssocBracket={};t.assocBracket["("]=")";t.assocBracket["{"]="}";t.assocBracket["["]="]";for(var index in t.assocBracket){t.revertAssocBracket[t.assocBracket[index]]=index;}t.is_editable=Ë;t.lineHeight=16;t.tab_nb_char=4;if(t.isOpera)t.tab_nb_char=6;t.is_tabbing=Ì;t.fullscreen={\'isFull\':Ì};t.isResizing=Ì;t.id=area_id;t.Å=eAs[t.id]["Å"];if((""+t.Å[\'replace_tab_by_spaces\']).match(/^[0-9]+$/)){t.tab_nb_char=t.Å[\'replace_tab_by_spaces\'];t.tabulation="";for(var i=0;i<t.tab_nb_char;i++)t.tabulation+=" ";}\nelse{t.tabulation="\t";}if(t.Å["syntax_selection_allow"]&&t.Å["syntax_selection_allow"].Æ>0)t.syntax_list=t.Å["syntax_selection_allow"].replace(/ /g,"").split(",");if(t.Å[\'syntax\'])t.allready_used_syntax[t.Å[\'syntax\']]=Ë;};EA.Ä.init=Ã(){var t=Á,a,s=t.Å;t.Â=_$("Â");t.container=_$("container");t.result=_$("result");t.content_highlight=_$("content_highlight");t.selection_field=_$("selection_field");t.selection_field_text=_$("selection_field_text");t.processing_screen=_$("processing");t.terminals_screen=_$("terminals");t.editor_area=_$("editor");t.tab_browsing_area=_$("tab_browsing_area");t.test_font_size=_$("test_font_size");a=t.Â;if(!s[\'is_editable\'])t.set_editable(Ì);t.set_show_line_colors(s[\'show_line_colors\']);if(syntax_selec=_$("syntax_selection")){for(var i=0;i<t.syntax_list.Æ;i++){var syntax=t.syntax_list[i];var option=document.createElement("option");option.Ê=syntax;if(syntax==s[\'syntax\'])option.selected="selected";dispSyntax=È.eAL.syntax_display_name[ syntax ];option.innerHTML=typeof(dispSyntax)==\'undefined\' ? syntax.substring(0,1).toUpperCase()+syntax.substring(1):dispSyntax;syntax_selec.appendChild(option);}}spans=È.getChildren(_$("toolbar_1"),"span","","","all",-1);for(var i=0;i<spans.Æ;i++){id=spans[i].id.replace(/tmp_tool_(.*)/,"$1");if(id!=spans[i].id){for(var j in t.plugins){if(typeof(t.plugins[j].get_control_html)=="Ã"){html=t.plugins[j].get_control_html(id);if(html!=Ì){html=t.get_translation(html,"template");var new_span=document.createElement("span");new_span.innerHTML=html;var father=spans[i].ÈNode;spans[i].ÈNode.replaceChild(new_span,spans[i]);break;}}}}}if(s["debug"]){t.debug=È.document.getElementById("edit_area_debug_"+t.id);}if(_$("redo")!=null)t.switchClassSticky(_$("redo"),\'editAreaButtonDisabled\',Ë);if(typeof(È.eAL.syntax[s["syntax"]])!="undefined"){for(var i in È.eAL.syntax){if(typeof(È.eAL.syntax[i]["Çs"])!="undefined"){t.add_Ç(È.eAL.syntax[i]["Çs"]);}}}if(t.isOpera)_$("editor").onkeypress=keyDown;\nelse _$("editor").onkeydown=keyDown;for(var i=0;i<t.inlinePopup.Æ;i++){if(t.isOpera)_$(t.inlinePopup[i]["popup_id"]).onkeypress=keyDown;\nelse _$(t.inlinePopup[i]["popup_id"]).onkeydown=keyDown;}if(s["allow_resize"]=="both"||s["allow_resize"]=="x"||s["allow_resize"]=="y")t.allow_resize(Ë);È.eAL.toggle(t.id,"on");t.change_smooth_selection_mode(eA.smooth_selection);t.execCommand("change_highlight",s["start_highlight"]);t.set_font(eA.Å["font_family"],eA.Å["font_size"]);children=È.getChildren(document.body,"","selec","none","all",-1);for(var i=0;i<children.Æ;i++){if(t.isIE)children[i].unselectable=Ë;\nelse children[i].onmousedown=Ã(){return Ì};}a.spellcheck=s["gecko_spellcheck"];if(t.isFirefox >=\'3\'){t.content_highlight.Ç.paddingLeft="1px";t.selection_field.Ç.paddingLeft="1px";t.selection_field_text.Ç.paddingLeft="1px";}if(t.isIE&&t.isIE < 8){a.Ç.marginTop="-1px";}if(t.isSafari){t.editor_area.Ç.position="absolute";if(t.isSafari < 3.2)a.Ç.marginTop="1px";}È.eAL.add_event(t.result,"click",Ã(e){if((e.target||e.srcElement)==eA.result){eA.area_select(eA.Â.Ê.Æ,0);}});if(s[\'is_multi_files\']!=Ì)t.open_file({\'id\':t.curr_file,\'text\':\'\'});t.set_word_wrap(s[\'word_wrap\']);setTimeout("eA.focus();eA.manage_size();eA.execCommand(\'EA_load\');",10);t.check_undo();t.check_line_selection(Ë);t.scroll_to_view();for(var i in t.plugins){if(typeof(t.plugins[i].onload)=="Ã")t.plugins[i].onload();}if(s[\'fullscreen\']==Ë)t.toggle_full_screen(Ë);È.eAL.add_event(window,"resize",eA.update_size);È.eAL.add_event(È.window,"resize",eA.update_size);È.eAL.add_event(top.window,"resize",eA.update_size);È.eAL.add_event(window,"unload",Ã(){if(È.eAL){È.eAL.remove_event(È.window,"resize",eA.update_size);È.eAL.remove_event(top.window,"resize",eA.update_size);}if(eAs[eA.id]&&eAs[eA.id]["displayed"]){eA.execCommand("EA_unload");}});};EA.Ä.update_size=Ã(){var d=document,pd=È.document,height,width,popup,maxLeft,maxTop;if(typeof eAs !=\'undefined\'&&eAs[eA.id]&&eAs[eA.id]["displayed"]==Ë){if(eA.fullscreen[\'isFull\']){pd.getElementById("frame_"+eA.id).Ç.width=pd.getElementsByTagName("html")[0].clientWidth+"px";pd.getElementById("frame_"+eA.id).Ç.height=pd.getElementsByTagName("html")[0].clientHeight+"px";}if(eA.tab_browsing_area.Ç.display==\'block\'&&(!eA.isIE||eA.isIE >=8)){eA.tab_browsing_area.Ç.height="0px";eA.tab_browsing_area.Ç.height=(eA.result.offsetTop-eA.tab_browsing_area.offsetTop-1)+"px";}height=d.body.offsetHeight-eA.get_all_toolbar_height()-4;eA.result.Ç.height=height+"px";width=d.body.offsetWidth-2;eA.result.Ç.width=width+"px";for(i=0;i < eA.inlinePopup.Æ;i++){popup=_$(eA.inlinePopup[i]["popup_id"]);maxLeft=d.body.offsetWidth-popup.offsetWidth;maxTop=d.body.offsetHeight-popup.offsetHeight;if(popup.offsetTop > maxTop)popup.Ç.top=maxTop+"px";if(popup.offsetLeft > maxLeft)popup.Ç.left=maxLeft+"px";}var area_width=d.body.offsetWidth-100;if(Á.Â&&Á.Â.previous_scrollWidth!=area_width){Á.container.Ç.width=area_width+"px";Á.Â.Ç.width=area_width+"px";Á.content_highlight.Ç.width=area_width+"px";Á.Â.previous_scrollWidth=area_width;}eA.manage_size(Ë);eA.fixLinesHeight(eA.Â.Ê,0,-1);}};EA.Ä.manage_size=Ã(onlyOneTime){if(!eAs[Á.id])return Ì;if(eAs[Á.id]["displayed"]==Ë&&Á.ÂFocused){var area_height,resized=Ì;Á.É["nb_line"]=parseInt(_$("nbLine").innerHTML);var newLines=\'\',destDiv=_$("line_number");var currentLines=0;while(i < destDiv.childNodes.Æ){if(destDiv.childNodes[i].nodeType !=3){currentLines++;}i++;}if(Á.É["nb_line"] > currentLines){for(i=1;i <=Á.É["nb_line"];i++){newLines+=\'<div id="line_\'+i+\'">\'+i+"</div>";Á.line_number++;}destDiv.innerHTML=newLines;if(Á.Å[\'word_wrap\']){Á.fixLinesHeight(Á.Â.Ê,1,-1);}}if(!Á.Å[\'word_wrap\']){var area_width=Á.Â.scrollWidth;area_height=Á.Â.scrollHeight;if(Á.isOpera&&Á.isOpera < 9.6){area_width=10000;}if(Á.Â.previous_scrollWidth!=area_width){Á.container.Ç.width=area_width+"px";Á.Â.Ç.width=area_width+"px";Á.content_highlight.Ç.width=area_width+"px";Á.Â.previous_scrollWidth=area_width;resized=Ë;}}if(Á.Å[\'word_wrap\']){newW=Á.Â.offsetWidth;if(Á.isFirefox||Á.isIE)newW-=2;if(Á.isSafari)newW-=6;Á.content_highlight.Ç.width=Á.selection_field_text.Ç.width=Á.selection_field.Ç.width=Á.test_font_size.Ç.width=newW+"px";}area_height=destDiv.offsetHeight;if(Á.Â.previous_scrollHeight!=area_height){Á.container.Ç.height=(area_height+2)+"px";Á.Â.Ç.height=area_height+"px";Á.content_highlight.Ç.height=area_height+"px";Á.Â.previous_scrollHeight=area_height;resized=Ë;}Á.Â.scrollTop="0px";Á.Â.scrollLeft="0px";if(resized==Ë){Á.scroll_to_view();}}if(!onlyOneTime)setTimeout("eA.manage_size();",100);};EA.Ä.execCommand=Ã(cmd,param){for(var i in Á.plugins){if(typeof(Á.plugins[i].execCommand)=="Ã"){if(!Á.plugins[i].execCommand(cmd,param))return;}}switch(cmd){case "file_open":break;case "terminal_open":if(Á.Å["terminal_open_callback"].Æ>0)eval("È."+Á.Å["terminal_open_callback"]+"(\'"+Á.id+"\',param);");break;break;case "save":if(Á.Å["save_callback"].Æ>0)eval("È."+Á.Å["save_callback"]+"(\'"+Á.id+"\',eA.Â.Ê);");break;case "saveas":if(Á.Å["save_as_callback"].Æ>0)eval("È."+Á.Å["save_as_callback"]+"(\'"+Á.id+"\',eA.Â.Ê);");break;case "load":if(Á.Å["load_callback"].Æ>0)eval("È."+Á.Å["load_callback"]+"(\'"+Á.id+"\');");break;case "onchange":if(Á.Å["change_callback"].Æ>0)eval("È."+Á.Å["change_callback"]+"(\'"+Á.id+"\');");break;case "EA_load":if(Á.Å["EA_load_callback"].Æ>0)eval("È."+Á.Å["EA_load_callback"]+"(\'"+Á.id+"\');");break;case "EA_unload":if(Á.Å["EA_unload_callback"].Æ>0)eval("È."+Á.Å["EA_unload_callback"]+"(\'"+Á.id+"\');");break;case "toggle_on":if(Á.Å["EA_toggle_on_callback"].Æ>0)eval("È."+Á.Å["EA_toggle_on_callback"]+"(\'"+Á.id+"\');");break;case "toggle_off":if(Á.Å["EA_toggle_off_callback"].Æ>0)eval("È."+Á.Å["EA_toggle_off_callback"]+"(\'"+Á.id+"\');");break;case "re_sync":if(!Á.do_highlight)break;case "file_switch_on":if(Á.Å["EA_file_switch_on_callback"].Æ>0)eval("È."+Á.Å["EA_file_switch_on_callback"]+"(param);");break;case "file_switch_off":if(Á.Å["EA_file_switch_off_callback"].Æ>0)eval("È."+Á.Å["EA_file_switch_off_callback"]+"(param);");break;case "syntax_switched":if(Á.Å["EA_syntax_switch_callback"].Æ>0)eval("È."+Á.Å["EA_syntax_switch_callback"]+"(param);");break;case "terminal_switch_on":if(Á.Å["EA_terminal_switch_on_callback"].Æ>0)eval("È."+Á.Å["EA_terminal_switch_on_callback"]+"(param);");break;case "terminal_switch_off":if(Á.Å["EA_terminal_switch_off_callback"].Æ>0)eval("È."+Á.Å["EA_terminal_switch_off_callback"]+"(param);");break;case "file_close":if(Á.Å["EA_file_close_callback"].Æ>0)return eval("È."+Á.Å["EA_file_close_callback"]+"(param);");break;default:if(typeof(eval("eA."+cmd))=="Ã"){if(Á.Å["debug"])eval("eA."+cmd+"(param);");\nelse try{eval("eA."+cmd+"(param);");}catch(e){};}}};EA.Ä.get_translation=Ã(word,mode){if(mode=="template")return È.eAL.translate(word,Á.Å["language"],mode);\nelse return È.eAL.get_word_translation(word,Á.Å["language"]);};EA.Ä.add_plugin=Ã(plug_name,plug_obj){for(var i=0;i<Á.Å["plugins"].Æ;i++){if(Á.Å["plugins"][i]==plug_name){Á.plugins[plug_name]=plug_obj;plug_obj.baseURL=È.eAL.baseURL+"plugins/"+plug_name+"/";if(typeof(plug_obj.init)=="Ã")plug_obj.init();}}};EA.Ä.load_css=Ã(url){try{link=document.createElement("link");link.type="text/css";link.rel="Çsheet";link.media="all";link.href=url;head=document.getElementsByTagName("head");head[0].appendChild(link);}catch(e){document.write("<link href=\'"+url+"\' rel=\'Çsheet\' type=\'text/css\' />");}};EA.Ä.load_script=Ã(url){try{script=document.createElement("script");script.type="text/javascript";script.src=url;script.charset="UTF-8";head=document.getElementsByTagName("head");head[0].appendChild(script);}catch(e){document.write("<script type=\'text/javascript\' src=\'"+url+"\' charset=\\"UTF-8\\"><"+"/script>");}};EA.Ä.add_lang=Ã(language,Ês){if(!È.eAL.lang[language])È.eAL.lang[language]={};for(var i in Ês)È.eAL.lang[language][i]=Ês[i];};Ã _$(id){return document.getElementById(id);};var eA=new EA();È.eAL.add_event(window,"load",init);Ã init(){setTimeout("eA.init();",10);};	EA.Ä.focus=Ã(){Á.Â.focus();Á.ÂFocused=Ë;};EA.Ä.check_line_selection=Ã(timer_checkup){var changes,infos,new_top,new_width,i;var t1=t2=t2_1=t3=tLines=tend=new Date().getTime();if(!eAs[Á.id])return Ì;if(!Á.smooth_selection&&!Á.do_highlight){}\nelse if(Á.ÂFocused&&eAs[Á.id]["displayed"]==Ë&&Á.isResizing==Ì){infos=Á.get_selection_infos();changes=Á.checkTextEvolution(typeof(Á.É[\'full_text\'])==\'undefined\' ? \'\':Á.É[\'full_text\'],infos[\'full_text\']);t2=new Date().getTime();if(Á.É["line_start"] !=infos["line_start"]||Á.É["line_nb"] !=infos["line_nb"]||infos["full_text"] !=Á.É["full_text"]||Á.reload_highlight||Á.É["selectionStart"] !=infos["selectionStart"]||Á.É["selectionEnd"] !=infos["selectionEnd"]||!timer_checkup){new_top=Á.getLinePosTop(infos["line_start"]);new_width=Math.max(Á.Â.scrollWidth,Á.container.clientWidth-50);Á.selection_field.Ç.top=Á.selection_field_text.Ç.top=new_top+"px";if(!Á.Å[\'word_wrap\']){Á.selection_field.Ç.width=Á.selection_field_text.Ç.width=Á.test_font_size.Ç.width=new_width+"px";}if(Á.do_highlight==Ë){var curr_text=infos["full_text"].split("\\n");var content="";var start=Math.max(0,infos["line_start"]-1);var end=Math.min(curr_text.Æ,infos["line_start"]+infos["line_nb"]-1);for(i=start;i< end;i++){content+=curr_text[i]+"\\n";}selLength=infos[\'selectionEnd\']-infos[\'selectionStart\'];content=content.substr(0,infos["curr_pos"]-1)+"\\r\\r"+content.substr(infos["curr_pos"]-1,selLength)+"\\r\\r"+content.substr(infos["curr_pos"]-1+selLength);content=\'<span>\'+content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace("\\r\\r",\'</span><strong>\').replace("\\r\\r",\'</strong><span>\')+\'</span>\';if(Á.isIE||(Á.isOpera&&Á.isOpera < 9.6)){Á.selection_field.innerHTML="<pre>"+content.replace(/^\\r?\\n/,"<br>")+"</pre>";}\nelse{Á.selection_field.innerHTML=content;}Á.selection_field_text.innerHTML=Á.selection_field.innerHTML;t2_1=new Date().getTime();if(Á.reload_highlight||(infos["full_text"] !=Á.last_text_to_highlight&&(Á.É["line_start"]!=infos["line_start"]||Á.show_line_colors||Á.Å[\'word_wrap\']||Á.É["line_nb"]!=infos["line_nb"]||Á.É["nb_line"]!=infos["nb_line"]))){Á.maj_highlight(infos);}}}t3=new Date().getTime();if(Á.Å[\'word_wrap\']&&infos["full_text"] !=Á.É["full_text"]){if(changes.newText.split("\\n").Æ==1&&Á.É[\'nb_line\']&&infos[\'nb_line\']==Á.É[\'nb_line\']){Á.fixLinesHeight(infos[\'full_text\'],changes.lineStart,changes.lineStart);}\nelse{Á.fixLinesHeight(infos[\'full_text\'],changes.lineStart,-1);}}tLines=new Date().getTime();if(infos["line_start"] !=Á.É["line_start"]||infos["curr_pos"] !=Á.É["curr_pos"]||infos["full_text"].Æ!=Á.É["full_text"].Æ||Á.reload_highlight||!timer_checkup){var selec_char=infos["curr_line"].charAt(infos["curr_pos"]-1);var no_real_move=Ë;if(infos["line_nb"]==1&&(Á.assocBracket[selec_char]||Á.revertAssocBracket[selec_char])){no_real_move=Ì;if(Á.findEndBracket(infos,selec_char)===Ë){_$("end_bracket").Ç.visibility="visible";_$("cursor_pos").Ç.visibility="visible";_$("cursor_pos").innerHTML=selec_char;_$("end_bracket").innerHTML=(Á.assocBracket[selec_char]||Á.revertAssocBracket[selec_char]);}\nelse{_$("end_bracket").Ç.visibility="hidden";_$("cursor_pos").Ç.visibility="hidden";}}\nelse{_$("cursor_pos").Ç.visibility="hidden";_$("end_bracket").Ç.visibility="hidden";}Á.displayToCursorPosition("cursor_pos",infos["line_start"],infos["curr_pos"]-1,infos["curr_line"],no_real_move);if(infos["line_nb"]==1&&infos["line_start"]!=Á.É["line_start"])Á.scroll_to_view();}Á.É=infos;}tend=new Date().getTime();if(timer_checkup){setTimeout("eA.check_line_selection(Ë)",Á.check_line_selection_timer);}};EA.Ä.get_selection_infos=Ã(){var sel={},start,end,len,str;Á.getIESelection();start=Á.Â.selectionStart;end=Á.Â.selectionEnd;if(Á.É["selectionStart"]==start&&Á.É["selectionEnd"]==end&&Á.É["full_text"]==Á.Â.Ê){return Á.É;}if(Á.tabulation!="\t"&&Á.Â.Ê.indexOf("\t")!=-1){len=Á.Â.Ê.Æ;Á.Â.Ê=Á.replace_tab(Á.Â.Ê);start=end=start+(Á.Â.Ê.Æ-len);Á.area_select(start,0);}sel["selectionStart"]=start;sel["selectionEnd"]=end;sel["full_text"]=Á.Â.Ê;sel["line_start"]=1;sel["line_nb"]=1;sel["curr_pos"]=0;sel["curr_line"]="";sel["indexOfCursor"]=0;sel["selec_direction"]=Á.É["selec_direction"];var splitTab=sel["full_text"].split("\\n");var nbLine=Math.max(0,splitTab.Æ);var nbChar=Math.max(0,sel["full_text"].Æ-(nbLine-1));if(sel["full_text"].indexOf("\\r")!=-1)nbChar=nbChar-(nbLine-1);sel["nb_line"]=nbLine;sel["nb_char"]=nbChar;if(start>0){str=sel["full_text"].substr(0,start);sel["curr_pos"]=start-str.lastIndexOf("\\n");sel["line_start"]=Math.max(1,str.split("\\n").Æ);}\nelse{sel["curr_pos"]=1;}if(end>start){sel["line_nb"]=sel["full_text"].substring(start,end).split("\\n").Æ;}sel["indexOfCursor"]=start;sel["curr_line"]=splitTab[Math.max(0,sel["line_start"]-1)];if(sel["selectionStart"]==Á.É["selectionStart"]){if(sel["selectionEnd"]>Á.É["selectionEnd"])sel["selec_direction"]="down";\nelse if(sel["selectionEnd"]==Á.É["selectionStart"])sel["selec_direction"]=Á.É["selec_direction"];}\nelse if(sel["selectionStart"]==Á.É["selectionEnd"]&&sel["selectionEnd"]>Á.É["selectionEnd"]){sel["selec_direction"]="down";}\nelse{sel["selec_direction"]="up";}_$("nbLine").innerHTML=nbLine;_$("nbChar").innerHTML=nbChar;_$("linePos").innerHTML=sel["line_start"];_$("currPos").innerHTML=sel["curr_pos"];return sel;};EA.Ä.getIESelection=Ã(){var selectionStart,selectionEnd,range,stored_range;if(!Á.isIE)return Ì;if(Á.Å[\'word_wrap\'])Á.Â.wrap=\'off\';try{range=document.selection.createRange();stored_range=range.duplicate();stored_range.moveToElementText(Á.Â);stored_range.setEndPoint(\'EndToEnd\',range);if(stored_range.ÈElement()!=Á.Â)throw "invalid focus";var scrollTop=Á.result.scrollTop+document.body.scrollTop;var relative_top=range.offsetTop-È.calculeOffsetTop(Á.Â)+scrollTop;var line_start=Math.round((relative_top / Á.lineHeight)+1);var line_nb=Math.round(range.boundingHeight / Á.lineHeight);selectionStart=stored_range.text.Æ-range.text.Æ;selectionStart+=(line_start-Á.Â.Ê.substr(0,selectionStart).split("\\n").Æ)*2;selectionStart-=(line_start-Á.Â.Ê.substr(0,selectionStart).split("\\n").Æ)* 2;selectionEnd=selectionStart+range.text.Æ;selectionEnd+=(line_start+line_nb-1-Á.Â.Ê.substr(0,selectionEnd).split("\\n").Æ)*2;Á.Â.selectionStart=selectionStart;Á.Â.selectionEnd=selectionEnd;}catch(e){}if(Á.Å[\'word_wrap\'])Á.Â.wrap=\'soft\';};EA.Ä.setIESelection=Ã(){var a=Á.Â,nbLineStart,nbLineEnd,range;if(!Á.isIE)return Ì;nbLineStart=a.Ê.substr(0,a.selectionStart).split("\\n").Æ-1;nbLineEnd=a.Ê.substr(0,a.selectionEnd).split("\\n").Æ-1;range=document.selection.createRange();range.moveToElementText(a);range.setEndPoint(\'EndToStart\',range);range.moveStart(\'character\',a.selectionStart-nbLineStart);range.moveEnd(\'character\',a.selectionEnd-nbLineEnd-(a.selectionStart-nbLineStart));range.select();};EA.Ä.checkTextEvolution=Ã(lastText,newText){var ch={},baseStep=200,cpt=0,end,step,tStart=new Date().getTime();end=Math.min(newText.Æ,lastText.Æ);step=baseStep;while(cpt<end&&step>=1){if(lastText.substr(cpt,step)==newText.substr(cpt,step)){cpt+=step;}\nelse{step=Math.floor(step/2);}}ch.posStart=cpt;ch.lineStart=newText.substr(0,ch.posStart).split("\\n").Æ-1;cpt_last=lastText.Æ;cpt=newText.Æ;step=baseStep;while(cpt>=0&&cpt_last>=0&&step>=1){if(lastText.substr(cpt_last-step,step)==newText.substr(cpt-step,step)){cpt-=step;cpt_last-=step;}\nelse{step=Math.floor(step/2);}}ch.posNewEnd=cpt;ch.posLastEnd=cpt_last;if(ch.posNewEnd<=ch.posStart){if(lastText.Æ < newText.Æ){ch.posNewEnd=ch.posStart+newText.Æ-lastText.Æ;ch.posLastEnd=ch.posStart;}\nelse{ch.posLastEnd=ch.posStart+lastText.Æ-newText.Æ;ch.posNewEnd=ch.posStart;}}ch.newText=newText.substring(ch.posStart,ch.posNewEnd);ch.lastText=lastText.substring(ch.posStart,ch.posLastEnd);ch.lineNewEnd=newText.substr(0,ch.posNewEnd).split("\\n").Æ-1;ch.lineLastEnd=lastText.substr(0,ch.posLastEnd).split("\\n").Æ-1;ch.newTextLine=newText.split("\\n").slice(ch.lineStart,ch.lineNewEnd+1).join("\\n");ch.lastTextLine=lastText.split("\\n").slice(ch.lineStart,ch.lineLastEnd+1).join("\\n");return ch;};EA.Ä.tab_selection=Ã(){if(Á.is_tabbing)return;Á.is_tabbing=Ë;Á.getIESelection();var start=Á.Â.selectionStart;var end=Á.Â.selectionEnd;var insText=Á.Â.Ê.substring(start,end);var pos_start=start;var pos_end=end;if(insText.Æ==0){Á.Â.Ê=Á.Â.Ê.substr(0,start)+Á.tabulation+Á.Â.Ê.substr(end);pos_start=start+Á.tabulation.Æ;pos_end=pos_start;}\nelse{start=Math.max(0,Á.Â.Ê.substr(0,start).lastIndexOf("\\n")+1);endText=Á.Â.Ê.substr(end);startText=Á.Â.Ê.substr(0,start);tmp=Á.Â.Ê.substring(start,end).split("\\n");insText=Á.tabulation+tmp.join("\\n"+Á.tabulation);Á.Â.Ê=startText+insText+endText;pos_start=start;pos_end=Á.Â.Ê.indexOf("\\n",startText.Æ+insText.Æ);if(pos_end==-1)pos_end=Á.Â.Ê.Æ;}Á.Â.selectionStart=pos_start;Á.Â.selectionEnd=pos_end;if(Á.isIE){Á.setIESelection();setTimeout("eA.is_tabbing=Ì;",100);}\nelse{Á.is_tabbing=Ì;}};EA.Ä.invert_tab_selection=Ã(){var t=Á,a=Á.Â;if(t.is_tabbing)return;t.is_tabbing=Ë;t.getIESelection();var start=a.selectionStart;var end=a.selectionEnd;var insText=a.Ê.substring(start,end);var pos_start=start;var pos_end=end;if(insText.Æ==0){if(a.Ê.substring(start-t.tabulation.Æ,start)==t.tabulation){a.Ê=a.Ê.substr(0,start-t.tabulation.Æ)+a.Ê.substr(end);pos_start=Math.max(0,start-t.tabulation.Æ);pos_end=pos_start;}}\nelse{start=a.Ê.substr(0,start).lastIndexOf("\\n")+1;endText=a.Ê.substr(end);startText=a.Ê.substr(0,start);tmp=a.Ê.substring(start,end).split("\\n");insText="";for(i=0;i<tmp.Æ;i++){for(j=0;j<t.tab_nb_char;j++){if(tmp[i].charAt(0)=="\t"){tmp[i]=tmp[i].substr(1);j=t.tab_nb_char;}\nelse if(tmp[i].charAt(0)==" ")tmp[i]=tmp[i].substr(1);}insText+=tmp[i];if(i<tmp.Æ-1)insText+="\\n";}a.Ê=startText+insText+endText;pos_start=start;pos_end=a.Ê.indexOf("\\n",startText.Æ+insText.Æ);if(pos_end==-1)pos_end=a.Ê.Æ;}a.selectionStart=pos_start;a.selectionEnd=pos_end;if(t.isIE){t.setIESelection();setTimeout("eA.is_tabbing=Ì;",100);}\nelse t.is_tabbing=Ì;};EA.Ä.press_enter=Ã(){if(!Á.smooth_selection)return Ì;Á.getIESelection();var scrollTop=Á.result.scrollTop;var scrollLeft=Á.result.scrollLeft;var start=Á.Â.selectionStart;var end=Á.Â.selectionEnd;var start_last_line=Math.max(0,Á.Â.Ê.substring(0,start).lastIndexOf("\\n")+1);var begin_line=Á.Â.Ê.substring(start_last_line,start).replace(/^([ \t]*).*/gm,"$1");var lineStart=Á.Â.Ê.substring(0,start).split("\\n").Æ;if(begin_line=="\\n"||begin_line=="\\r"||begin_line.Æ==0){return Ì;}if(Á.isIE||(Á.isOpera&&Á.isOpera < 9.6)){begin_line="\\r\\n"+begin_line;}\nelse{begin_line="\\n"+begin_line;}Á.Â.Ê=Á.Â.Ê.substring(0,start)+begin_line+Á.Â.Ê.substring(end);Á.area_select(start+begin_line.Æ,0);if(Á.isIE){Á.result.scrollTop=scrollTop;Á.result.scrollLeft=scrollLeft;}return Ë;};EA.Ä.findEndBracket=Ã(infos,bracket){var start=infos["indexOfCursor"];var normal_order=Ë;if(Á.assocBracket[bracket])endBracket=Á.assocBracket[bracket];\nelse if(Á.revertAssocBracket[bracket]){endBracket=Á.revertAssocBracket[bracket];normal_order=Ì;}var end=-1;var nbBracketOpen=0;for(var i=start;i<infos["full_text"].Æ&&i>=0;){if(infos["full_text"].charAt(i)==endBracket){nbBracketOpen--;if(nbBracketOpen<=0){end=i;break;}}\nelse if(infos["full_text"].charAt(i)==bracket)nbBracketOpen++;if(normal_order)i++;\nelse i--;}if(end==-1)return Ì;var endLastLine=infos["full_text"].substr(0,end).lastIndexOf("\\n");if(endLastLine==-1)line=1;\nelse line=infos["full_text"].substr(0,endLastLine).split("\\n").Æ+1;var curPos=end-endLastLine-1;var endLineLength=infos["full_text"].substring(end).split("\\n")[0].Æ;Á.displayToCursorPosition("end_bracket",line,curPos,infos["full_text"].substring(endLastLine+1,end+endLineLength));return Ë;};EA.Ä.displayToCursorPosition=Ã(id,start_line,cur_pos,lineContent,no_real_move){var elem,dest,content,posLeft=0,posTop,fixPadding,topOffset,endElem;elem=Á.test_font_size;dest=_$(id);content="<span id=\'test_font_size_inner\'>"+lineContent.substr(0,cur_pos).replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</span><span id=\'endTestFont\'>"+lineContent.substr(cur_pos).replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</span>";if(Á.isIE||(Á.isOpera&&Á.isOpera < 9.6)){elem.innerHTML="<pre>"+content.replace(/^\\r?\\n/,"<br>")+"</pre>";}\nelse{elem.innerHTML=content;}endElem=_$(\'endTestFont\');topOffset=endElem.offsetTop;fixPadding=parseInt(Á.content_highlight.Ç.paddingLeft.replace("px",""));posLeft=45+endElem.offsetLeft+(!isNaN(fixPadding)&&topOffset > 0 ? fixPadding:0);posTop=Á.getLinePosTop(start_line)+topOffset;if(Á.isIE&&cur_pos > 0&&endElem.offsetLeft==0){posTop+=Á.lineHeight;}if(no_real_move!=Ë){dest.Ç.top=posTop+"px";dest.Ç.left=posLeft+"px";}dest.cursor_top=posTop;dest.cursor_left=posLeft;};EA.Ä.getLinePosTop=Ã(start_line){var elem=_$(\'line_\'+start_line),posTop=0;if(elem)posTop=elem.offsetTop;\nelse posTop=Á.lineHeight *(start_line-1);return posTop;};EA.Ä.getTextHeight=Ã(text){var t=Á,elem,height;elem=t.test_font_size;content=text.replace(/&/g,"&amp;").replace(/</g,"&lt;");if(t.isIE||(Á.isOpera&&Á.isOpera < 9.6)){elem.innerHTML="<pre>"+content.replace(/^\\r?\\n/,"<br>")+"</pre>";}\nelse{elem.innerHTML=content;}height=elem.offsetHeight;height=Math.max(1,Math.floor(elem.offsetHeight / Á.lineHeight))* Á.lineHeight;return height;};EA.Ä.fixLinesHeight=Ã(textValue,lineStart,lineEnd){var aText=textValue.split("\\n");if(lineEnd==-1)lineEnd=aText.Æ-1;for(var i=Math.max(0,lineStart);i <=lineEnd;i++){if(elem=_$(\'line_\'+(i+1))){elem.Ç.height=typeof(aText[i])!="undefined" ? Á.getTextHeight(aText[i])+"px":Á.lineHeight;}}};EA.Ä.area_select=Ã(start,Æ){Á.Â.focus();start=Math.max(0,Math.min(Á.Â.Ê.Æ,start));end=Math.max(start,Math.min(Á.Â.Ê.Æ,start+Æ));if(Á.isIE){Á.Â.selectionStart=start;Á.Â.selectionEnd=end;Á.setIESelection();}\nelse{if(Á.isOpera&&Á.isOpera < 9.6){Á.Â.setSelectionRange(0,0);}Á.Â.setSelectionRange(start,end);}Á.check_line_selection();};EA.Ä.area_get_selection=Ã(){var text="";if(document.selection){var range=document.selection.createRange();text=range.text;}\nelse{text=Á.Â.Ê.substring(Á.Â.selectionStart,Á.Â.selectionEnd);}return text;}; EA.Ä.replace_tab=Ã(text){return text.replace(/((\\n?)([^\t\\n]*)\t)/gi,eA.smartTab);};EA.Ä.smartTab=Ã(){val="                   ";return EA.Ä.smartTab.arguments[2]+EA.Ä.smartTab.arguments[3]+val.substr(0,eA.tab_nb_char-(EA.Ä.smartTab.arguments[3].Æ)%eA.tab_nb_char);};EA.Ä.show_waiting_screen=Ã(){width=Á.editor_area.offsetWidth;height=Á.editor_area.offsetHeight;if(!(Á.isIE&&Á.isIE<6)){width-=2;height-=2;}Á.processing_screen.Ç.display="block";Á.processing_screen.Ç.width=width+"px";Á.processing_screen.Ç.height=height+"px";Á.waiting_screen_displayed=Ë;};EA.Ä.show_terminals_screen=Ã(){var height_adjust=_$(\'toolbar_1\').offsetHeight+_$(\'tab_browsing_area\').offsetHeight;width=Á.editor_area.offsetWidth;height=Á.editor_area.offsetHeight-height_adjust;if(!(Á.isIE&&Á.isIE<6)){width-=2;height-=2;}Á.terminals_screen.Ç.display="block";Á.terminals_screen.Ç.width=width+"px";Á.terminals_screen.Ç.height=height+"px";Á.terminals_screen.Ç.top=height_adjust+"px";Á.terminals_screen_displayed=Ë;};EA.Ä.hide_waiting_screen=Ã(){Á.processing_screen.Ç.display="none";Á.waiting_screen_displayed=Ì;};EA.Ä.hide_terminals_screen=Ã(){Á.terminals_screen.Ç.display="none";Á.terminals_screen_displayed=Ì;};EA.Ä.add_Ç=Ã(Çs){if(Çs.Æ>0){newcss=document.createElement("Ç");newcss.type="text/css";newcss.media="all";if(newcss.ÇSheet){newcss.ÇSheet.cssText=Çs;}\nelse{newcss.appendChild(document.createTextNode(Çs));}document.getElementsByTagName("head")[0].appendChild(newcss);}};EA.Ä.set_font=Ã(family,size){var t=Á,a=Á.Â,s=Á.Å,elem_font,i,elem;var elems=["Â","content_highlight","cursor_pos","end_bracket","selection_field","selection_field_text","line_number"];if(family&&family!="")s["font_family"]=family;if(size&&size>0)s["font_size"]=size;if(t.isOpera&&t.isOpera < 9.6)s[\'font_family\']="monospace";if(elem_font=_$("area_font_size")){for(i=0;i < elem_font.Æ;i++){if(elem_font.options[i].Ê&&elem_font.options[i].Ê==s["font_size"])elem_font.options[i].selected=Ë;}}if(t.isFirefox){var nbTry=3;do{var div1=document.createElement(\'div\'),text1=document.createElement(\'Â\');var Çs={width:\'40px\',overflow:\'scroll\',zIndex:50,visibility:\'hidden\',fontFamily:s["font_family"],fontSize:s["font_size"]+"pt",lineHeight:t.lineHeight+"px",padding:\'0\',margin:\'0\',border:\'none\',whiteSpace:\'nowrap\'};var diff,changed=Ì;for(i in Çs){div1.Ç[ i ]=Çs[i];text1.Ç[ i ]=Çs[i];}text1.wrap=\'off\';text1.setAttribute(\'wrap\',\'off\');t.container.appendChild(div1);t.container.appendChild(text1);div1.innerHTML=text1.Ê=\'azertyuiopqsdfghjklm\';div1.innerHTML=text1.Ê=text1.Ê+\'wxcvbn^p*ù$!:;,,\';diff=text1.scrollWidth-div1.scrollWidth;if(Math.abs(diff)>=2){s["font_size"]++;changed=Ë;}t.container.removeChild(div1);t.container.removeChild(text1);nbTry--;}while(changed&&nbTry > 0);}elem=t.test_font_size;elem.Ç.fontFamily=""+s["font_family"];elem.Ç.fontSize=s["font_size"]+"pt";elem.innerHTML="0";t.lineHeight=elem.offsetHeight;for(i=0;i<elems.Æ;i++){elem=_$(elems[i]);elem.Ç.fontFamily=s["font_family"];elem.Ç.fontSize=s["font_size"]+"pt";elem.Ç.lineHeight=t.lineHeight+"px";}t.add_Ç("pre{font-family:"+s["font_family"]+"}");if((t.isOpera&&t.isOpera < 9.6)||t.isIE >=8){var parNod=a.ÈNode,nxtSib=a.nextSibling,start=a.selectionStart,end=a.selectionEnd;parNod.removeChild(a);parNod.insertBefore(a,nxtSib);t.area_select(start,end-start);}Á.focus();Á.update_size();Á.check_line_selection();};EA.Ä.change_font_size=Ã(){var size=_$("area_font_size").Ê;if(size>0)Á.set_font("",size);};EA.Ä.open_inline_popup=Ã(popup_id){Á.close_all_inline_popup();var popup=_$(popup_id);var editor=_$("editor");for(var i=0;i<Á.inlinePopup.Æ;i++){if(Á.inlinePopup[i]["popup_id"]==popup_id){var icon=_$(Á.inlinePopup[i]["icon_id"]);if(icon){Á.switchClassSticky(icon,\'editAreaButtonSelected\',Ë);break;}}}popup.Ç.height="auto";popup.Ç.overflow="visible";if(document.body.offsetHeight< popup.offsetHeight){popup.Ç.height=(document.body.offsetHeight-10)+"px";popup.Ç.overflow="auto";}if(!popup.positionned){var new_left=editor.offsetWidth /2-popup.offsetWidth /2;var new_top=editor.offsetHeight /2-popup.offsetHeight /2;popup.Ç.left=new_left+"px";popup.Ç.top=new_top+"px";popup.positionned=Ë;}popup.Ç.visibility="visible";};EA.Ä.close_inline_popup=Ã(popup_id){var popup=_$(popup_id);for(var i=0;i<Á.inlinePopup.Æ;i++){if(Á.inlinePopup[i]["popup_id"]==popup_id){var icon=_$(Á.inlinePopup[i]["icon_id"]);if(icon){Á.switchClassSticky(icon,\'editAreaButtonNormal\',Ì);break;}}}popup.Ç.visibility="hidden";};EA.Ä.close_all_inline_popup=Ã(e){for(var i=0;i<Á.inlinePopup.Æ;i++){Á.close_inline_popup(Á.inlinePopup[i]["popup_id"]);}Á.Â.focus();};EA.Ä.show_help=Ã(){Á.open_inline_popup("edit_area_help");};EA.Ä.new_document=Ã(){var ts=new Date().getTime();var s=_$("syntax_selection");Á.open_file({id:\'new_\'+ts,title:\'untitled\',syntax:s.options[s.selectedIndex].Ê});};EA.Ä.new_terminal=Ã(){È.eAL.term_count++;var termId="Terminal"+È.eAL.term_count;Á.open_terminal({id:termId,title:termId});};EA.Ä.new_database=Ã(){È.eAL.term_count++;var termId="Terminal"+È.eAL.term_count;Á.open_terminal({id:termId,title:termId,database:Ë});};EA.Ä.new_uml_m0=Ã(){if(null !=EA.umlTerminal0){Á.switch_to_tab(EA.umlTerminal0,Ë);return;}È.eAL.term_count++;var termId="Terminal"+È.eAL.term_count;EA.umlTerminal0=termId;Á.open_terminal({id:termId,title:termId,umlM0:Ë});};EA.Ä.new_uml_m1=Ã(){if(null !=EA.umlTerminal1){Á.switch_to_tab(EA.umlTerminal1,Ë);return;}È.eAL.term_count++;var termId="Terminal"+È.eAL.term_count;EA.umlTerminal1=termId;Á.open_terminal({id:termId,title:termId,umlM1:Ë});};EA.Ä.get_all_toolbar_height=Ã(){var area=_$("editor");var results=È.getChildren(area,"div","class","area_toolbar","all","0");var height=0;for(var i=0;i<results.Æ;i++){height+=results[i].offsetHeight;}return height;};EA.Ä.go_to_line=Ã(line){if(!line){var icon=_$("go_to_line");if(icon !=null){Á.restoreClass(icon);Á.switchClassSticky(icon,\'editAreaButtonSelected\',Ë);}line=prompt(Á.get_translation("go_to_line_prompt"));if(icon !=null)Á.switchClassSticky(icon,\'editAreaButtonNormal\',Ì);}if(line&&line!=null&&line.search(/^[0-9]+$/)!=-1){var start=0;var lines=Á.Â.Ê.split("\\n");if(line > lines.Æ)start=Á.Â.Ê.Æ;\nelse{for(var i=0;i<Math.min(line-1,lines.Æ);i++)start+=lines[i].Æ+1;}Á.area_select(start,0);}};EA.Ä.change_smooth_selection_mode=Ã(setTo){if(Á.do_highlight)return;if(setTo !=null){if(setTo===Ì)Á.smooth_selection=Ë;\nelse Á.smooth_selection=Ì;}var icon=_$("change_smooth_selection");Á.Â.focus();if(Á.smooth_selection===Ë){Á.switchClassSticky(icon,\'editAreaButtonNormal\',Ì);Á.smooth_selection=Ì;Á.selection_field.Ç.display="none";_$("cursor_pos").Ç.display="none";_$("end_bracket").Ç.display="none";}\nelse{Á.switchClassSticky(icon,\'editAreaButtonSelected\',Ì);Á.smooth_selection=Ë;Á.selection_field.Ç.display="block";_$("cursor_pos").Ç.display="block";_$("end_bracket").Ç.display="block";}};EA.Ä.scroll_to_view=Ã(show){var zone,lineElem;if(!Á.smooth_selection)return;zone=_$("result");var cursor_pos_top=_$("cursor_pos").cursor_top;if(show=="bottom"){cursor_pos_top+=Á.getLinePosTop(Á.É[\'line_start\']+Á.É[\'line_nb\']-1);}var max_height_visible=zone.clientHeight+zone.scrollTop;var miss_top=cursor_pos_top+Á.lineHeight-max_height_visible;if(miss_top>0){zone.scrollTop=zone.scrollTop+miss_top;}\nelse if(zone.scrollTop > cursor_pos_top){zone.scrollTop=cursor_pos_top;}var cursor_pos_left=_$("cursor_pos").cursor_left;var max_width_visible=zone.clientWidth+zone.scrollLeft;var miss_left=cursor_pos_left+10-max_width_visible;if(miss_left>0){zone.scrollLeft=zone.scrollLeft+miss_left+50;}\nelse if(zone.scrollLeft > cursor_pos_left){zone.scrollLeft=cursor_pos_left;}\nelse if(zone.scrollLeft==45){zone.scrollLeft=0;}};EA.Ä.check_undo=Ã(only_once){if(!eAs[Á.id])return Ì;if(Á.ÂFocused&&eAs[Á.id]["displayed"]==Ë){var text=Á.Â.Ê;if(Á.previous.Æ<=1)Á.switchClassSticky(_$("undo"),\'editAreaButtonDisabled\',Ë);if(!Á.previous[Á.previous.Æ-1]||Á.previous[Á.previous.Æ-1]["text"] !=text){Á.previous.push({"text":text,"selStart":Á.Â.selectionStart,"selEnd":Á.Â.selectionEnd});if(Á.previous.Æ > Á.Å["max_undo"]+1)Á.previous.shift();}if(Á.previous.Æ >=2)Á.switchClassSticky(_$("undo"),\'editAreaButtonNormal\',Ì);}if(!only_once)setTimeout("eA.check_undo()",3000);};EA.Ä.undo=Ã(){if(Á.previous.Æ > 0){Á.getIESelection();Á.next.push({"text":Á.Â.Ê,"selStart":Á.Â.selectionStart,"selEnd":Á.Â.selectionEnd});var prev=Á.previous.pop();if(prev["text"]==Á.Â.Ê&&Á.previous.Æ > 0)prev=Á.previous.pop();Á.Â.Ê=prev["text"];Á.last_undo=prev["text"];Á.area_select(prev["selStart"],prev["selEnd"]-prev["selStart"]);Á.switchClassSticky(_$("redo"),\'editAreaButtonNormal\',Ì);Á.resync_highlight(Ë);Á.check_file_changes();}};EA.Ä.redo=Ã(){if(Á.next.Æ > 0){var next=Á.next.pop();Á.previous.push(next);Á.Â.Ê=next["text"];Á.last_undo=next["text"];Á.area_select(next["selStart"],next["selEnd"]-next["selStart"]);Á.switchClassSticky(_$("undo"),\'editAreaButtonNormal\',Ì);Á.resync_highlight(Ë);Á.check_file_changes();}if(Á.next.Æ==0)Á.switchClassSticky(_$("redo"),\'editAreaButtonDisabled\',Ë);};EA.Ä.check_redo=Ã(){if(eA.next.Æ==0||eA.Â.Ê!=eA.last_undo){eA.next=[];eA.switchClassSticky(_$("redo"),\'editAreaButtonDisabled\',Ë);}\nelse{Á.switchClassSticky(_$("redo"),\'editAreaButtonNormal\',Ì);}};EA.Ä.switchClass=Ã(element,class_name,lock_state){var lockChanged=Ì;if(typeof(lock_state)!="undefined"&&element !=null){element.classLock=lock_state;lockChanged=Ë;}if(element !=null&&(lockChanged||!element.classLock)){element.oldClassName=element.className;element.className=class_name;}};EA.Ä.restoreAndSwitchClass=Ã(element,class_name){if(element !=null&&!element.classLock){Á.restoreClass(element);Á.switchClass(element,class_name);}};EA.Ä.restoreClass=Ã(element){if(element !=null&&element.oldClassName&&!element.classLock){element.className=element.oldClassName;element.oldClassName=null;}};EA.Ä.setClassLock=Ã(element,lock_state){if(element !=null)element.classLock=lock_state;};EA.Ä.switchClassSticky=Ã(element,class_name,lock_state){var lockChanged=Ì;if(typeof(lock_state)!="undefined"&&element !=null){element.classLock=lock_state;lockChanged=Ë;}if(element !=null&&(lockChanged||!element.classLock)){element.className=class_name;element.oldClassName=class_name;}};EA.Ä.scroll_page=Ã(params){var dir=params["dir"],shift_pressed=params["shift"];var lines=Á.Â.Ê.split("\\n");var new_pos=0,Æ=0,char_left=0,line_nb=0,curLine=0;var toScrollAmount=_$("result").clientHeight-30;var nbLineToScroll=0,diff=0;if(dir=="up"){nbLineToScroll=Math.ceil(toScrollAmount / Á.lineHeight);for(i=Á.É["line_start"];i-diff > Á.É["line_start"]-nbLineToScroll;i--){if(elem=_$(\'line_\'+i)){diff+=Math.floor((elem.offsetHeight-1)/ Á.lineHeight);}}nbLineToScroll-=diff;if(Á.É["selec_direction"]=="up"){for(line_nb=0;line_nb< Math.min(Á.É["line_start"]-nbLineToScroll,lines.Æ);line_nb++){new_pos+=lines[line_nb].Æ+1;}char_left=Math.min(lines[Math.min(lines.Æ-1,line_nb)].Æ,Á.É["curr_pos"]-1);if(shift_pressed)Æ=Á.É["selectionEnd"]-new_pos-char_left;Á.area_select(new_pos+char_left,Æ);view="top";}\nelse{view="bottom";for(line_nb=0;line_nb< Math.min(Á.É["line_start"]+Á.É["line_nb"]-1-nbLineToScroll,lines.Æ);line_nb++){new_pos+=lines[line_nb].Æ+1;}char_left=Math.min(lines[Math.min(lines.Æ-1,line_nb)].Æ,Á.É["curr_pos"]-1);if(shift_pressed){start=Math.min(Á.É["selectionStart"],new_pos+char_left);Æ=Math.max(new_pos+char_left,Á.É["selectionStart"])-start;if(new_pos+char_left < Á.É["selectionStart"])view="top";}\nelse start=new_pos+char_left;Á.area_select(start,Æ);}}\nelse{var nbLineToScroll=Math.floor(toScrollAmount / Á.lineHeight);for(i=Á.É["line_start"];i+diff < Á.É["line_start"]+nbLineToScroll;i++){if(elem=_$(\'line_\'+i)){diff+=Math.floor((elem.offsetHeight-1)/ Á.lineHeight);}}nbLineToScroll-=diff;if(Á.É["selec_direction"]=="down"){view="bottom";for(line_nb=0;line_nb< Math.min(Á.É["line_start"]+Á.É["line_nb"]-2+nbLineToScroll,lines.Æ);line_nb++){if(line_nb==Á.É["line_start"]-1)char_left=Á.É["selectionStart"]-new_pos;new_pos+=lines[line_nb].Æ+1;}if(shift_pressed){Æ=Math.abs(Á.É["selectionStart"]-new_pos);Æ+=Math.min(lines[Math.min(lines.Æ-1,line_nb)].Æ,Á.É["curr_pos"]);Á.area_select(Math.min(Á.É["selectionStart"],new_pos),Æ);}\nelse{Á.area_select(new_pos+char_left,0);}}\nelse{view="top";for(line_nb=0;line_nb< Math.min(Á.É["line_start"]+nbLineToScroll-1,lines.Æ,lines.Æ);line_nb++){if(line_nb==Á.É["line_start"]-1)char_left=Á.É["selectionStart"]-new_pos;new_pos+=lines[line_nb].Æ+1;}if(shift_pressed){Æ=Math.abs(Á.É["selectionEnd"]-new_pos-char_left);Æ+=Math.min(lines[Math.min(lines.Æ-1,line_nb)].Æ,Á.É["curr_pos"])-char_left-1;Á.area_select(Math.min(Á.É["selectionEnd"],new_pos+char_left),Æ);if(new_pos+char_left > Á.É["selectionEnd"])view="bottom";}\nelse{Á.area_select(new_pos+char_left,0);}}}Á.check_line_selection();Á.scroll_to_view(view);};EA.Ä.start_resize=Ã(e){È.eAL.resize["id"]=eA.id;È.eAL.resize["start_x"]=(e)? e.pageX:event.x+document.body.scrollLeft;È.eAL.resize["start_y"]=(e)? e.pageY:event.y+document.body.scrollTop;if(eA.isIE){eA.Â.focus();eA.getIESelection();}È.eAL.resize["selectionStart"]=eA.Â.selectionStart;È.eAL.resize["selectionEnd"]=eA.Â.selectionEnd;È.eAL.start_resize_area();};EA.Ä.toggle_full_screen=Ã(to){var t=Á,p=È,a=t.Â,html,frame,selStart,selEnd,old,icon;if(typeof(to)=="undefined")to=!t.fullscreen[\'isFull\'];old=t.fullscreen[\'isFull\'];t.fullscreen[\'isFull\']=to;icon=_$("fullscreen");selStart=t.Â.selectionStart;selEnd=t.Â.selectionEnd;html=p.document.getElementsByTagName("html")[0];frame=p.document.getElementById("frame_"+t.id);if(to&&to!=old){t.fullscreen[\'old_overflow\']=p.get_css_property(html,"overflow");t.fullscreen[\'old_height\']=p.get_css_property(html,"height");t.fullscreen[\'old_width\']=p.get_css_property(html,"width");t.fullscreen[\'old_scrollTop\']=html.scrollTop;t.fullscreen[\'old_scrollLeft\']=html.scrollLeft;t.fullscreen[\'old_zIndex\']=p.get_css_property(frame,"z-index");if(t.isOpera){html.Ç.height="100%";html.Ç.width="100%";}html.Ç.overflow="hidden";html.scrollTop=0;html.scrollLeft=0;frame.Ç.position="absolute";frame.Ç.width=html.clientWidth+"px";frame.Ç.height=html.clientHeight+"px";frame.Ç.display="block";frame.Ç.zIndex="999999";frame.Ç.top="0px";frame.Ç.left="0px";frame.Ç.top="-"+p.calculeOffsetTop(frame)+"px";frame.Ç.left="-"+p.calculeOffsetLeft(frame)+"px";t.switchClassSticky(icon,\'editAreaButtonSelected\',Ì);t.fullscreen[\'allow_resize\']=t.resize_allowed;t.allow_resize(Ì);if(t.isFirefox){p.eAL.execCommand(t.id,"update_size();");t.area_select(selStart,selEnd-selStart);t.scroll_to_view();t.focus();}\nelse{setTimeout("È.eAL.execCommand(\'"+t.id+"\',\'update_size();\');eA.focus();",10);}}\nelse if(to!=old){frame.Ç.position="static";frame.Ç.zIndex=t.fullscreen[\'old_zIndex\'];if(t.isOpera){html.Ç.height="auto";html.Ç.width="auto";html.Ç.overflow="auto";}\nelse if(t.isIE&&p!=top){html.Ç.overflow="auto";}\nelse{html.Ç.overflow=t.fullscreen[\'old_overflow\'];}html.scrollTop=t.fullscreen[\'old_scrollTop\'];html.scrollLeft=t.fullscreen[\'old_scrollLeft\'];p.eAL.hide(t.id);p.eAL.show(t.id);t.switchClassSticky(icon,\'editAreaButtonNormal\',Ì);if(t.fullscreen[\'allow_resize\'])t.allow_resize(t.fullscreen[\'allow_resize\']);if(t.isFirefox){t.area_select(selStart,selEnd-selStart);setTimeout("eA.scroll_to_view();",10);}}};EA.Ä.allow_resize=Ã(allow){var resize=_$("resize_area");if(allow){resize.Ç.visibility="visible";È.eAL.add_event(resize,"mouseup",eA.start_resize);}\nelse{resize.Ç.visibility="hidden";È.eAL.remove_event(resize,"mouseup",eA.start_resize);}Á.resize_allowed=allow;};EA.Ä.change_syntax=Ã(new_syntax,is_waiting){if(new_syntax==Á.Å[\'syntax\'])return Ë;var founded=Ì;for(var i=0;i<Á.syntax_list.Æ;i++){if(Á.syntax_list[i]==new_syntax)founded=Ë;}if(founded==Ë){if(!È.eAL.load_syntax[new_syntax]){if(!is_waiting)È.eAL.load_script(È.eAL.baseURL+"reg_syntax/"+new_syntax+".js");setTimeout("eA.change_syntax(\'"+new_syntax+"\',Ë);",100);Á.show_waiting_screen();}\nelse{if(!Á.allready_used_syntax[new_syntax]){È.eAL.init_syntax_regexp();Á.add_Ç(È.eAL.syntax[new_syntax]["Çs"]);Á.allready_used_syntax[new_syntax]=Ë;}var sel=_$("syntax_selection");if(sel&&sel.Ê!=new_syntax){for(var i=0;i<sel.Æ;i++){if(sel.options[i].Ê&&sel.options[i].Ê==new_syntax)sel.options[i].selected=Ë;}}Á.Å[\'syntax\']=new_syntax;Á.Å[\'extension\']=È.eAL.syntax[new_syntax][\'extension\'];Á.resync_highlight(Ë);Á.hide_waiting_screen();return Ë;}Á.execCommand(\'syntax_switched\',new_syntax);}return Ì;};EA.Ä.set_editable=Ã(is_editable){if(is_editable){document.body.className="";Á.Â.readOnly=Ì;Á.is_editable=Ë;}\nelse{document.body.className="non_editable";Á.Â.readOnly=Ë;Á.is_editable=Ì;}if(eAs[Á.id]["displayed"]==Ë)Á.update_size();};EA.Ä.toggle_word_wrap=Ã(){Á.set_word_wrap(!Á.Å[\'word_wrap\']);};EA.Ä.set_word_wrap=Ã(to){var t=Á,a=t.Â;Á.Å[\'word_wrap\']=Ì;t.switchClassSticky(_$("word_wrap"),\'editAreaButtonDisabled\',Ë);return Ì;if(to){wrap_mode=\'soft\';Á.container.className+=\' word_wrap\';Á.container.Ç.width="";Á.content_highlight.Ç.width="";a.Ç.width="100%";if(t.isIE&&t.isIE < 7){a.Ç.width=(a.offsetWidth-5)+"px";}t.switchClassSticky(_$("word_wrap"),\'editAreaButtonSelected\',Ì);}\nelse{wrap_mode=\'off\';Á.container.className=Á.container.className.replace(/word_wrap/g,\'\');t.switchClassSticky(_$("word_wrap"),\'editAreaButtonNormal\',Ë);}Á.Â.previous_scrollWidth=\'\';Á.Â.previous_scrollHeight=\'\';a.wrap=wrap_mode;a.setAttribute(\'wrap\',wrap_mode);if(!Á.isIE){var start=a.selectionStart,end=a.selectionEnd;var parNod=a.ÈNode,nxtSib=a.nextSibling;parNod.removeChild(a);parNod.insertBefore(a,nxtSib);Á.area_select(start,end-start);}Á.Å[\'word_wrap\']=to;Á.focus();Á.update_size();Á.check_line_selection();};EA.Ä.open_file=Ã(Å){if(Å[\'id\']!="undefined"){var id=Å[\'id\'];var new_file={};new_file[\'id\']=id;new_file[\'title\']=id;new_file[\'text\']="";new_file[\'É\']="";new_file[\'last_text_to_highlight\']="";new_file[\'last_hightlighted_text\']="";new_file[\'previous\']=[];new_file[\'next\']=[];new_file[\'last_undo\']="";new_file[\'smooth_selection\']=Á.Å[\'smooth_selection\'];new_file[\'do_highlight\']=Á.Å[\'start_highlight\'];new_file[\'syntax\']=Á.Å[\'syntax\'];new_file[\'extension\']=Á.Å[\'extension\'];new_file[\'scroll_top\']=0;new_file[\'scroll_left\']=0;new_file[\'selection_start\']=0;new_file[\'selection_end\']=0;new_file[\'edited\']=Ì;new_file[\'font_size\']=Á.Å["font_size"];new_file[\'font_family\']=Á.Å["font_family"];new_file[\'word_wrap\']=Ì;new_file[\'toolbar\']={\'links\':{},\'selects\':{}};new_file[\'compare_edited_text\']=new_file[\'text\'];new_file[\'type\']="file";Á.files[id]=new_file;Á.update_file(id,Å);Á.files[id][\'compare_edited_text\']=Á.files[id][\'text\'];var html_id=\'tab_file_\'+encodeURIComponent(top.earpl(id));Á.filesIdAssoc[html_id]=id;Á.files[id][\'html_id\']=html_id;if(!_$(Á.files[id][\'html_id\'])&&id!=""){Á.tab_browsing_area.Ç.display="block";Á.makeTab(id);Á.update_size();}if(id!="")Á.execCommand(\'file_open\',Á.files[id]);Á.switch_to_tab(id,Ë);return Ë;}\nelse return Ì;};EA.Ä.makeTab=Ã(id){var elem=document.createElement(\'li\');elem.id=Á.files[id][\'html_id\'];elem.setAttribute(\'class\',\'file\');var close="<img src=\\""+È.eAL.baseURL+"images/close.gif\\" title=\\""+Á.get_translation(\'close_tab\',\'word\')+"\\" onclick=\\"eA.execCommand(\'close_file\',eA.filesIdAssoc[\'"+Á.files[id][\'html_id\']+"\']);return Ì;\\" class=\\"hidden\\" onmouseover=\\"Á.className=\'\'\\" onmouseout=\\"Á.className=\'hidden\'\\" />";elem.innerHTML="<a onclick=\\"javascript:eA.execCommand(\'switch_to_tab\',eA.filesIdAssoc[\'"+Á.files[id][\'html_id\']+"\']);\\" selec=\\"none\\"><b><span><strong class=\\"edited\\">*</strong><span id=\\""+Á.files[id][\'html_id\']+"_tabname\\" class=\\"tabname\\">"+Á.files[id][\'title\']+"</span>"+close+"</span></b></a>";_$(\'tab_browsing_list\').appendChild(elem);};EA.Ä.close_file=Ã(id){if(Á.files[id]){Á.save_file(id);if(Á.execCommand(\'file_close\',Á.files[id])!==Ì){var li=_$(Á.files[id][\'html_id\']);li.ÈNode.removeChild(li);if(id==Á.curr_file){var next_file="";var is_next=Ì;for(var i in Á.files){if(is_next){next_file=i;break;}\nelse if(i==id)is_next=Ë;\nelse next_file=i;}Á.switch_to_tab(next_file);}delete(Á.files[id]);Á.update_size();}}};EA.Ä.open_terminal=Ã(Å){if(Å[\'id\']!="undefined"){var id=Å[\'id\'];var new_file={};new_file[\'id\']=id;new_file[\'title\']=id;new_file[\'text\']="";new_file[\'É\']="";new_file[\'last_text_to_highlight\']="";new_file[\'last_hightlighted_text\']="";new_file[\'previous\']=[];new_file[\'next\']=[];new_file[\'last_undo\']="";new_file[\'smooth_selection\']=Á.Å[\'smooth_selection\'];new_file[\'do_highlight\']=Á.Å[\'start_highlight\'];new_file[\'syntax\']=Á.Å[\'syntax\'];new_file[\'scroll_top\']=0;new_file[\'scroll_left\']=0;new_file[\'selection_start\']=0;new_file[\'selection_end\']=0;new_file[\'edited\']=Ì;new_file[\'font_size\']=Á.Å["font_size"];new_file[\'font_family\']=Á.Å["font_family"];new_file[\'word_wrap\']=Á.Å["word_wrap"];new_file[\'toolbar\']={\'links\':{},\'selects\':{}};new_file[\'compare_edited_text\']=new_file[\'text\'];new_file[\'type\']="terminal";if(Á.Å[\'uml\']){new_file[\'uml\']=Ë;}Á.files[id]=new_file;Á.update_file(id,Å);Á.files[id][\'compare_edited_text\']=Á.files[id][\'text\'];var html_id=\'tab_file_\'+encodeURIComponent(top.earpl(id));Á.filesIdAssoc[html_id]=id;Á.files[id][\'html_id\']=html_id;if(!_$(Á.files[id][\'html_id\'])&&id!=""){Á.tab_browsing_area.Ç.display="block";var elem=document.createElement(\'li\');elem.id=Á.files[id][\'html_id\'];elem.setAttribute(\'class\',\'terminal\');var close="<img src=\\""+È.eAL.baseURL+"images/close.gif\\" title=\\""+Á.get_translation(\'close_tab\',\'word\')+"\\" onclick=\\"eA.execCommand(\'close_terminal\',eA.filesIdAssoc[\'"+html_id+"\']);return Ì;\\" class=\\"hidden\\" onmouseover=\\"Á.className=\'\'\\" onmouseout=\\"Á.className=\'hidden\'\\" />";elem.innerHTML="<a onclick=\\"javascript:eA.execCommand(\'switch_to_tab\',eA.filesIdAssoc[\'"+html_id+"\']);\\" selec=\\"none\\"><b><span><strong class=\\"edited\\">*</strong><span id=\\""+Á.files[id][\'html_id\']+"_tabname\\" class=\\"tabname\\">"+Á.files[id][\'title\']+"</span>"+close+"</span></b></a>";_$(\'tab_browsing_list\').appendChild(elem);elem=document.createElement(\'div\');elem.setAttribute(\'id\',html_id);elem.Ç.height=\'100%\';elem.Ç.width=\'100%\';_$(\'terminals\').appendChild(elem);var iframe=document.createElement(\'iframe\');iframe.id=iframe.name=\'iframe_\'+id;iframe.width=\'100%\';iframe.height=\'100%\';iframe.Ç.display="block";var url=new String(window.location);if(Å[\'database\']){iframe.src=\'/cold-mysql\';new_file[\'terminal_type\']="mysql";}\nelse if(Å[\'umlM0\']){iframe.src=\'/cold-uml-m0\';new_file[\'terminal_type\']="uml";}\nelse if(Å[\'umlM1\']){iframe.src=\'/cold-uml-m1\';new_file[\'terminal_type\']="uml";}\nelse{iframe.src=\'/cold/\';new_file[\'terminal_type\']="unix";}elem.appendChild(iframe);Á.update_size();}Á.switch_to_tab(id,Ë);if(id!="")Á.execCommand(\'terminal_open\',Á.files[id]);return Ë;}\nelse return Ì;};EA.Ä.close_terminal=Ã(id){if(id==EA.umlTerminal0){EA.umlTerminal0=null;}\nelse if(id==EA.umlTerminalq){EA.umlTerminal1=null;}if(Á.files[id]){var li=_$(Á.files[id][\'html_id\']);li.ÈNode.removeChild(li);if(id==Á.curr_file){var next_file="";var is_next=Ì;for(var i in Á.files){if(is_next){next_file=i;break;}\nelse if(i==id)is_next=Ë;\nelse next_file=i;}Á.switch_to_tab(next_file);}var i=_$("iframe_"+id);i.ÈNode.removeChild(i);delete(Á.files[id]);Á.update_size();}};EA.Ä.save_file=Ã(id){var t=Á,save,a_links,a_selects,save_butt,img,i;if(t.files[id]){var save=t.files[id];if("terminal"==save["type"]){return;}save[\'É\']=t.É;save[\'last_text_to_highlight\']=t.last_text_to_highlight;save[\'last_hightlighted_text\']=t.last_hightlighted_text;save[\'previous\']=t.previous;save[\'next\']=t.next;save[\'last_undo\']=t.last_undo;save[\'smooth_selection\']=t.smooth_selection;save[\'do_highlight\']=t.do_highlight;save[\'syntax\']=t.Å[\'syntax\'];save[\'extension\']=t.Å[\'extension\'];save[\'text\']=t.Â.Ê;save[\'scroll_top\']=t.result.scrollTop;save[\'scroll_left\']=t.result.scrollLeft;save[\'selection_start\']=t.É["selectionStart"];save[\'selection_end\']=t.É["selectionEnd"];save[\'font_size\']=t.Å["font_size"];save[\'font_family\']=t.Å["font_family"];save[\'word_wrap\']=t.Å["word_wrap"];save[\'toolbar\']={\'links\':{},\'selects\':{}};a_links=_$("toolbar_1").getElementsByTagName("a");for(i=0;i<a_links.Æ;i++){if(a_links[i].getAttribute(\'fileSpecific\')==\'yes\'){save_butt={};img=a_links[i].getElementsByTagName(\'img\')[0];save_butt[\'classLock\']=img.classLock;save_butt[\'className\']=img.className;save_butt[\'oldClassName\']=img.oldClassName;save[\'toolbar\'][\'links\'][a_links[i].id]=save_butt;}}a_selects=_$("toolbar_1").getElementsByTagName("select");for(i=0;i<a_selects.Æ;i++){if(a_selects[i].getAttribute(\'fileSpecific\')==\'yes\'){save[\'toolbar\'][\'selects\'][a_selects[i].id]=a_selects[i].Ê;}}t.files[id]=save;return save;}return Ì;};EA.Ä.hide_terminal=Ã(id){var t=Á,save,a_links,a_selects,save_butt,img,i;if(t.files[id]){var save=t.files[id];t.files[id]=save;return save;}return Ì;};EA.Ä.update_file=Ã(id,new_Ês){for(var i in new_Ês){Á.files[id][i]=new_Ês[i];}};EA.Ä.display_file=Ã(id){var t=Á,a=t.Â,new_file,a_lis,a_selects,a_links,a_options,i,j;if(Á.terminals_screen_displayed){Á.hide_terminals_screen();}if(id==\'\'){a.readOnly=Ë;t.tab_browsing_area.Ç.display="none";_$("no_file_selected").Ç.display="block";t.result.className="empty";if(!t.files[\'\']){t.open_file({id:\'\'});}}\nelse if(typeof(t.files[id])==\'undefined\'){return Ì;}\nelse{t.result.className="";a.readOnly=!t.is_editable;_$("no_file_selected").Ç.display="none";t.tab_browsing_area.Ç.display="block";}t.check_redo(Ë);t.check_undo(Ë);t.curr_file=id;a_lis=t.tab_browsing_area.getElementsByTagName(\'li\');for(i=0;i<a_lis.Æ;i++){if(a_lis[i].id==t.files[id][\'html_id\'])a_lis[i].className=a_lis[i].className+\' selected\';\nelse a_lis[i].className=a_lis[i].className.replace(\' selected\',\'\');}new_file=t.files[id];a.Ê=new_file[\'text\'];t.set_font(new_file[\'font_family\'],new_file[\'font_size\']);t.area_select(new_file[\'selection_start\'],new_file[\'selection_end\']-new_file[\'selection_start\']);t.manage_size(Ë);t.result.scrollTop=new_file[\'scroll_top\'];t.result.scrollLeft=new_file[\'scroll_left\'];t.previous=new_file[\'previous\'];t.next=new_file[\'next\'];t.last_undo=new_file[\'last_undo\'];t.check_redo(Ë);t.check_undo(Ë);t.execCommand("change_highlight",new_file[\'do_highlight\']);t.execCommand("change_syntax",new_file[\'syntax\']);t.execCommand("change_smooth_selection_mode",new_file[\'smooth_selection\']);t.execCommand("set_word_wrap",new_file[\'word_wrap\']);a_links=new_file[\'toolbar\'][\'links\'];for(i in a_links){if(img=_$(i).getElementsByTagName(\'img\')[0]){img.classLock=a_links[i][\'classLock\'];img.className=a_links[i][\'className\'];img.oldClassName=a_links[i][\'oldClassName\'];}}a_selects=new_file[\'toolbar\'][\'selects\'];for(i in a_selects){a_options=_$(i).options;for(j=0;j<a_options.Æ;j++){if(a_options[j].Ê==a_selects[i])_$(i).options[j].selected=Ë;}}};EA.Ä.display_terminal=Ã(id){var t=Á,a=t.Â,new_file,a_lis,a_selects,a_links,a_options,a_terminals,i,j;t.curr_file=id;a_lis=t.tab_browsing_area.getElementsByTagName(\'li\');for(i=0;i<a_lis.Æ;i++){if(a_lis[i].id==t.files[id][\'html_id\'])a_lis[i].className=a_lis[i].className+\' selected\';\nelse a_lis[i].className=a_lis[i].className.replace(\' selected\',\'\');}new_file=t.files[id];a.Ê=new_file[\'text\'];a_links=new_file[\'toolbar\'][\'links\'];for(i in a_links){if(img=_$(i).getElementsByTagName(\'img\')[0]){img.classLock=a_links[i][\'classLock\'];img.className=a_links[i][\'className\'];img.oldClassName=a_links[i][\'oldClassName\'];}}a_selects=new_file[\'toolbar\'][\'selects\'];for(i in a_selects){a_options=_$(i).options;for(j=0;j<a_options.Æ;j++){if(a_options[j].Ê==a_selects[i])_$(i).options[j].selected=Ë;}}a_terminals=t.terminals_screen.getElementsByTagName(\'div\');for(i=0;i < a_terminals.Æ;i++){if(a_terminals[i].id==t.files[id][\'html_id\']){a_terminals[i].Ç.display=\'block\';}\nelse{a_terminals[i].Ç.display=\'none\';}}Á.show_terminals_screen();};EA.Ä.switch_to_tab=Ã(tab_id,force_refresh){var to_tab=document.getElementById(Á.files[tab_id][\'html_id\']);var to_type;if(to_tab.className){to_type=to_tab.className;}\nelse{to_type=to_tab.getAttribute(\'class\');}if(Á.curr_file&&((tab_id !=Á.curr_file)||(force_refresh))){var from_type;if(document.getElementById(Á.files[Á.curr_file][\'html_id\'])){var from_tab=document.getElementById(Á.files[Á.curr_file][\'html_id\']);if(from_tab.className){from_type=from_tab.className.replace(/ selected/,\'\');}\nelse if(null !=from_tab.getAttribute(\'class\')){from_type=from_tab.getAttribute(\'class\').replace(/ selected/,\'\');}\nelse{from_type=\'terminal\';}}if(from_type==\'file\'){Á.save_file(Á.curr_file);Á.execCommand(\'file_switch_off\',Á.files[Á.curr_file]);}\nelse if(from_type==\'terminal\'){Á.hide_terminal(Á.curr_file);Á.execCommand(\'terminal_switch_off\',Á.files[Á.curr_file]);}var tb=document.getElementById("toolbar_1");children=tb.childNodes;children[1].Ç.display="";children[4].Ç.display="";for(x=7;x < 26;x++){children[x].Ç.display="";}}if(to_type==\'file\'&&((tab_id !=Á.curr_file)||(force_refresh))){Á.display_file(tab_id);Á.execCommand(\'file_switch_on\',Á.files[tab_id]);}\nelse if(to_type==\'terminal\'){var tb=document.getElementById("toolbar_1");children=tb.childNodes;children[1].Ç.display="none";for(x=7;x < 26;x++){children[x].Ç.display="none";}for(x=1;x<4;x++){document.getElementById("a_preview_but"+x).Ç.display="none";}if((Á.files[tab_id][\'umlM0\'])||(Á.files[tab_id][\'umlM1\'])){children[4].Ç.display="none";for(x=4;x<7;x++){document.getElementById("a_preview_but"+x).Ç.display="";}}Á.display_terminal(tab_id);Á.execCommand(\'terminal_switch_on\',Á.files[tab_id]);}};EA.Ä.switch_to_terminal=Ã(tab_to_show){if(null==tab_to_show)return;if(tab_to_show!=Á.curr_file){Á.hide_terminal(Á.curr_file);if(Á.curr_file!=\'\'){Á.execCommand(\'terminal_switch_off\',Á.files[Á.curr_file]);}Á.display_terminal(tab_to_show);if(tab_to_show!=\'\'){Á.execCommand(\'terminal_switch_on\',Á.files[tab_to_show]);}}};EA.Ä.switch_to_file=Ã(file_to_show,force_refresh){if(file_to_show!=Á.curr_file||force_refresh){Á.save_file(Á.curr_file);if(Á.curr_file!=\'\')Á.execCommand(\'file_switch_off\',Á.files[Á.curr_file]);Á.display_file(file_to_show);if(file_to_show!=\'\')Á.execCommand(\'file_switch_on\',Á.files[file_to_show]);}};EA.Ä.get_file=Ã(id){if(id==Á.curr_file)Á.save_file(id);return Á.files[id];};EA.Ä.rename_file=Ã(o){var currentFile=Á.files[o.fileId];var e=_$(currentFile.html_id);e.ÈNode.removeChild(e);var newId=o.newPath+o.newFileName;currentFile.title=o.newFileName;currentFile.filepath=o.newPath;currentFile.filename=o.newFileName;currentFile.html_id=newId;currentFile.id=newId;delete(Á.files[o.fileId]);Á.files[newId]=currentFile;var html_id=\'tab_file_\'+encodeURIComponent(top.earpl(newId));Á.filesIdAssoc[html_id]=newId;Á.files[newId][\'html_id\']=html_id;Á.curr_file=newId;Á.makeTab(newId);Á.update_size();Á.switch_to_tab(newId,Ë);};EA.Ä.get_all_files=Ã(){tmp_files=Á.files;Á.save_file(Á.curr_file);if(tmp_files[\'\'])delete(Á.files[\'\']);return tmp_files;};EA.Ä.check_file_changes=Ã(){var id=Á.curr_file;if(Á.files[id]&&Á.files[id][\'compare_edited_text\']!=undefined){if(Á.files[id][\'compare_edited_text\'].Æ==Á.Â.Ê.Æ&&Á.files[id][\'compare_edited_text\']==Á.Â.Ê){if(Á.files[id][\'edited\']!=Ì)Á.set_file_edited_mode(id,Ì);}\nelse{if(Á.files[id][\'edited\']!=Ë)Á.set_file_edited_mode(id,Ë);}}};EA.Ä.set_file_edited_mode=Ã(id,to){if(Á.files[id]&&_$(Á.files[id][\'html_id\'])){var link=_$(Á.files[id][\'html_id\']).getElementsByTagName(\'a\')[0];if(to==Ë){link.className=\'edited\';}\nelse{link.className=\'\';if(id==Á.curr_file)text=Á.Â.Ê;\nelse text=Á.files[id][\'text\'];Á.files[id][\'compare_edited_text\']=text;}Á.files[id][\'edited\']=to;}};EA.Ä.set_show_line_colors=Ã(new_Ê){Á.show_line_colors=new_Ê;if(new_Ê)Á.selection_field.className+=\' show_colors\';\nelse Á.selection_field.className=Á.selection_field.className.replace(/ show_colors/g,\'\');};var EA_keys={8:"Retour arriere",9:"Tabulation",12:"Milieu(pave numerique)",13:"Entrer",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Verr Maj",27:"Esc",32:"Space",33:"Page up",34:"Page down",35:"End",36:"Begin",37:"Left",38:"Up",39:"Right",40:"Down",44:"Impr ecran",45:"Inser",46:"Suppr",91:"Menu Demarrer Windows / touche pomme Mac",92:"Menu Demarrer Windows",93:"Menu contextuel Windows",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Verr Num",145:"Arret defil"};Ã keyDown(e){if(!e){e=event;}for(var i in eA.plugins){if(typeof(eA.plugins[i].onkeydown)=="Ã"){if(eA.plugins[i].onkeydown(e)===Ì){if(eA.isIE)e.keyCode=0;return Ì;}}}var target_id=(e.target||e.srcElement).id;var use=Ì;if(EA_keys[e.keyCode])letter=EA_keys[e.keyCode];\nelse letter=String.fromCharCode(e.keyCode);var low_letter=letter.toLowerCase();if(letter=="Page up"&&!AltPressed(e)&&!eA.isOpera){eA.execCommand("scroll_page",{"dir":"up","shift":ShiftPressed(e)});use=Ë;}\nelse if(letter=="Page down"&&!AltPressed(e)&&!eA.isOpera){eA.execCommand("scroll_page",{"dir":"down","shift":ShiftPressed(e)});use=Ë;}\nelse if(eA.is_editable==Ì){return Ë;}\nelse if(letter=="Tabulation"&&target_id=="Â"&&!CtrlPressed(e)&&!AltPressed(e)){if(ShiftPressed(e))eA.execCommand("invert_tab_selection");\nelse eA.execCommand("tab_selection");use=Ë;if(eA.isOpera||(eA.isFirefox&&eA.isMac))setTimeout("eA.execCommand(\'focus\');",1);}\nelse if(letter=="Entrer"&&target_id=="Â"){if(eA.press_enter())use=Ë;}\nelse if(letter=="Entrer"&&target_id=="area_search"){eA.execCommand("area_search");use=Ë;}\nelse  if(letter=="Esc"){eA.execCommand("close_all_inline_popup",e);use=Ë;}\nelse if(CtrlPressed(e)&&!AltPressed(e)&&!ShiftPressed(e)){switch(low_letter){case "f":eA.execCommand("area_search");use=Ë;break;case "r":eA.execCommand("area_replace");use=Ë;break;case "q":eA.execCommand("close_all_inline_popup",e);use=Ë;break;case "h":eA.execCommand("change_highlight");use=Ë;break;case "g":setTimeout("eA.execCommand(\'go_to_line\');",5);use=Ë;break;case "e":eA.execCommand("show_help");use=Ë;break;case "z":use=Ë;eA.execCommand("undo");break;case "y":use=Ë;eA.execCommand("redo");break;case "s":use=Ë;eA.execCommand("save");break;case "i":use=Ë;eA.execCommand("saveas");break;case "o":use=Ë;eA.execCommand("load");break;default:break;}}if(eA.next.Æ > 0){setTimeout("eA.check_redo();",10);}setTimeout("eA.check_file_changes();",10);if(use){if(eA.isIE)e.keyCode=0;return Ì;}return Ë;};Ã AltPressed(e){if(window.event){return(window.event.altKey);}\nelse{if(e.modifiers)return(e.altKey||(e.modifiers % 2));\nelse return e.altKey;}};Ã CtrlPressed(e){if(window.event){return(window.event.ctrlKey);}\nelse{return(e.ctrlKey||(e.modifiers==2)||(e.modifiers==3)||(e.modifiers>5));}};Ã ShiftPressed(e){if(window.event){return(window.event.shiftKey);}\nelse{return(e.shiftKey||(e.modifiers>3));}};	EA.Ä.show_search=Ã(){if(_$("area_search_replace").Ç.visibility=="visible"){Á.hidden_search();}\nelse{Á.open_inline_popup("area_search_replace");var text=Á.area_get_selection();var search=text.split("\\n")[0];_$("area_search").Ê=search;_$("area_search").focus();}};EA.Ä.hidden_search=Ã(){Á.close_inline_popup("area_search_replace");};EA.Ä.area_search=Ã(mode){if(!mode)mode="search";_$("area_search_msg").innerHTML="";var search=_$("area_search").Ê;Á.Â.focus();Á.Â.ÂFocused=Ë;var infos=Á.get_selection_infos();var start=infos["selectionStart"];var pos=-1;var pos_begin=-1;var Æ=search.Æ;if(_$("area_search_replace").Ç.visibility!="visible"){Á.show_search();return;}if(search.Æ==0){_$("area_search_msg").innerHTML=Á.get_translation("search_field_empty");return;}if(mode!="replace"){if(_$("area_search_reg_exp").checked)start++;\nelse start+=search.Æ;}if(_$("area_search_reg_exp").checked){var opt="m";if(!_$("area_search_match_case").checked)opt+="i";var reg=new RegExp(search,opt);pos=infos["full_text"].substr(start).search(reg);pos_begin=infos["full_text"].search(reg);if(pos!=-1){pos+=start;Æ=infos["full_text"].substr(start).match(reg)[0].Æ;}\nelse if(pos_begin!=-1){Æ=infos["full_text"].match(reg)[0].Æ;}}\nelse{if(_$("area_search_match_case").checked){pos=infos["full_text"].indexOf(search,start);pos_begin=infos["full_text"].indexOf(search);}\nelse{pos=infos["full_text"].toLowerCase().indexOf(search.toLowerCase(),start);pos_begin=infos["full_text"].toLowerCase().indexOf(search.toLowerCase());}}if(pos==-1&&pos_begin==-1){_$("area_search_msg").innerHTML="<strong>"+search+"</strong> "+Á.get_translation("not_found");return;}\nelse if(pos==-1&&pos_begin !=-1){begin=pos_begin;_$("area_search_msg").innerHTML=Á.get_translation("restart_search_at_begin");}\nelse begin=pos;if(mode=="replace"&&pos==infos["indexOfCursor"]){var replace=_$("area_replace").Ê;var new_text="";if(_$("area_search_reg_exp").checked){var opt="m";if(!_$("area_search_match_case").checked)opt+="i";var reg=new RegExp(search,opt);new_text=infos["full_text"].substr(0,begin)+infos["full_text"].substr(start).replace(reg,replace);}\nelse{new_text=infos["full_text"].substr(0,begin)+replace+infos["full_text"].substr(begin+Æ);}Á.Â.Ê=new_text;Á.area_select(begin,Æ);Á.area_search();}\nelse Á.area_select(begin,Æ);};EA.Ä.area_replace=Ã(){Á.area_search("replace");};EA.Ä.area_replace_all=Ã(){var base_text=Á.Â.Ê;var search=_$("area_search").Ê;var replace=_$("area_replace").Ê;if(search.Æ==0){_$("area_search_msg").innerHTML=Á.get_translation("search_field_empty");return;}var new_text="";var nb_change=0;if(_$("area_search_reg_exp").checked){var opt="mg";if(!_$("area_search_match_case").checked)opt+="i";var reg=new RegExp(search,opt);nb_change=infos["full_text"].match(reg).Æ;new_text=infos["full_text"].replace(reg,replace);}\nelse{if(_$("area_search_match_case").checked){var tmp_tab=base_text.split(search);nb_change=tmp_tab.Æ-1;new_text=tmp_tab.join(replace);}\nelse{var lower_Ê=base_text.toLowerCase();var lower_search=search.toLowerCase();var start=0;var pos=lower_Ê.indexOf(lower_search);while(pos!=-1){nb_change++;new_text+=Á.Â.Ê.substring(start,pos)+replace;start=pos+search.Æ;pos=lower_Ê.indexOf(lower_search,pos+1);}new_text+=Á.Â.Ê.substring(start);}}if(new_text==base_text){_$("area_search_msg").innerHTML="<strong>"+search+"</strong> "+Á.get_translation("not_found");}\nelse{Á.Â.Ê=new_text;_$("area_search_msg").innerHTML="<strong>"+nb_change+"</strong> "+Á.get_translation("occurrence_replaced");setTimeout("eA.Â.focus();eA.Â.ÂFocused=Ë;",100);}}; EA.Ä.change_highlight=Ã(change_to){if(Á.Å["syntax"].Æ==0&&change_to==Ì){Á.switchClassSticky(_$("highlight"),\'editAreaButtonDisabled\',Ë);Á.switchClassSticky(_$("reset_highlight"),\'editAreaButtonDisabled\',Ë);return Ì;}if(Á.do_highlight==change_to)return Ì;Á.getIESelection();var pos_start=Á.Â.selectionStart;var pos_end=Á.Â.selectionEnd;if(Á.do_highlight===Ë||change_to==Ì)Á.disable_highlight();\nelse Á.enable_highlight();Á.Â.focus();Á.Â.selectionStart=pos_start;Á.Â.selectionEnd=pos_end;Á.setIESelection();};EA.Ä.disable_highlight=Ã(displayOnly){var t=Á,a=t.Â,new_Obj,old_class,new_class;t.selection_field.innerHTML="";t.selection_field_text.innerHTML="";t.content_highlight.Ç.visibility="hidden";new_Obj=t.content_highlight.cloneNode(Ì);new_Obj.innerHTML="";t.content_highlight.ÈNode.insertBefore(new_Obj,t.content_highlight);t.content_highlight.ÈNode.removeChild(t.content_highlight);t.content_highlight=new_Obj;old_class=È.getAttribute(a,"class");if(old_class){new_class=old_class.replace("hidden","");È.setAttribute(a,"class",new_class);}a.Ç.backgroundColor="transÈ";t.switchClassSticky(_$("highlight"),\'editAreaButtonNormal\',Ë);t.switchClassSticky(_$("reset_highlight"),\'editAreaButtonDisabled\',Ë);t.do_highlight=Ì;t.switchClassSticky(_$("change_smooth_selection"),\'editAreaButtonSelected\',Ë);if(typeof(t.smooth_selection_before_highlight)!="undefined"&&t.smooth_selection_before_highlight===Ì){t.change_smooth_selection_mode(Ì);}};EA.Ä.enable_highlight=Ã(){var t=Á,a=t.Â,new_class;t.show_waiting_screen();t.content_highlight.Ç.visibility="visible";new_class=È.getAttribute(a,"class")+" hidden";È.setAttribute(a,"class",new_class);if(t.isIE)a.Ç.backgroundColor="#FFFFFF";t.switchClassSticky(_$("highlight"),\'editAreaButtonSelected\',Ì);t.switchClassSticky(_$("reset_highlight"),\'editAreaButtonNormal\',Ì);t.smooth_selection_before_highlight=t.smooth_selection;if(!t.smooth_selection)t.change_smooth_selection_mode(Ë);t.switchClassSticky(_$("change_smooth_selection"),\'editAreaButtonDisabled\',Ë);t.do_highlight=Ë;t.resync_highlight();t.hide_waiting_screen();};EA.Ä.maj_highlight=Ã(infos){var debug_opti="",tps_start=new Date().getTime(),tps_middle_opti=new Date().getTime();var t=Á,hightlighted_text,updated_highlight;var textToHighlight=infos["full_text"],doSyntaxOpti=Ì,doHtmlOpti=Ì,stay_begin="",stay_end="",trace_new,trace_last;if(t.last_text_to_highlight==infos["full_text"]&&t.resync_highlight!==Ë)return;if(t.reload_highlight===Ë){t.reload_highlight=Ì;}\nelse if(textToHighlight.Æ==0){textToHighlight="\\n ";}\nelse{changes=t.checkTextEvolution(t.last_text_to_highlight,textToHighlight);trace_new=t.get_syntax_trace(changes.newTextLine);trace_last=t.get_syntax_trace(changes.lastTextLine);if(trace_new){trace_new=trace_new.replace(/\\r/g,\'\');}if(trace_last){trace_last=trace_last.replace(/\\r/g,\'\');}doSyntaxOpti=(trace_new==trace_last);if(!doSyntaxOpti&&trace_new=="\\n"+trace_last&&/^[ \ts]*\\n[ \ts]*$/.test(changes.newText.replace(/\\r/g,\'\'))&&changes.lastText==""){doSyntaxOpti=Ë;}if(doSyntaxOpti){tps_middle_opti=new Date().getTime();stay_begin=t.last_hightlighted_text.split("\\n").slice(0,changes.lineStart).join("\\n");if(changes.lineStart>0)stay_begin+="\\n";stay_end=t.last_hightlighted_text.split("\\n").slice(changes.lineLastEnd+1).join("\\n");if(stay_end.Æ>0)stay_end="\\n"+stay_end;if(stay_begin.split(\'<span\').Æ !=stay_begin.split(\'</span\').Æ||stay_end.split(\'<span\').Æ !=stay_end.split(\'</span\').Æ){doSyntaxOpti=Ì;stay_end=\'\';stay_begin=\'\';}\nelse{if(stay_begin.Æ==0&&changes.posLastEnd==-1)changes.newTextLine+="\\n";textToHighlight=changes.newTextLine;}}if(t.Å["debug"]){var ch=changes;debug_opti=(doSyntaxOpti?"Optimisation":"No optimisation")+" start:"+ch.posStart+"("+ch.lineStart+")"+" end_new:"+ch.posNewEnd+"("+ch.lineNewEnd+")"+" end_last:"+ch.posLastEnd+"("+ch.lineLastEnd+")"+"\\nchanged_text:"+ch.newText+"=> trace:"+trace_new+"\\nchanged_last_text:"+ch.lastText+"=> trace:"+trace_last+"\\nchanged_line:"+ch.newTextLine+"\\nlast_changed_line:"+ch.lastTextLine+"\\nstay_begin:"+stay_begin.slice(-100)+"\\nstay_end:"+stay_end.substr(0,100);+"\\n";}}tps_end_opti=new Date().getTime();updated_highlight=t.colorize_text(textToHighlight);tpsAfterReg=new Date().getTime();doSyntaxOpti=doHtmlOpti=Ì;if(doSyntaxOpti){try{var replacedBloc,i,nbStart=\'\',nbEnd=\'\',newHtml,ÆOld,ÆNew;replacedBloc=t.last_hightlighted_text.substring(stay_begin.Æ,t.last_hightlighted_text.Æ-stay_end.Æ);ÆOld=replacedBloc.Æ;ÆNew=updated_highlight.Æ;for(i=0;i < ÆOld&&i < ÆNew&&replacedBloc.charAt(i)==updated_highlight.charAt(i);i++){}nbStart=i;for(i=0;i+nbStart < ÆOld&&i+nbStart < ÆNew&&replacedBloc.charAt(ÆOld-i-1)==updated_highlight.charAt(ÆNew-i-1);i++){}nbEnd=i;lastHtml=replacedBloc.substring(nbStart,ÆOld-nbEnd);newHtml=updated_highlight.substring(nbStart,ÆNew-nbEnd);if(newHtml.indexOf(\'<span\')==-1&&newHtml.indexOf(\'</span\')==-1&&lastHtml.indexOf(\'<span\')==-1&&lastHtml.indexOf(\'</span\')==-1){var beginStr,nbOpendedSpan,nbClosedSpan,nbUnchangedChars,span,textNode;doHtmlOpti=Ë;beginStr=t.last_hightlighted_text.substr(0,stay_begin.Æ+nbStart);newHtml=newHtml.replace(/&lt;/g,\'<\').replace(/&gt;/g,\'>\').replace(/&amp;/g,\'&\');nbOpendedSpan=beginStr.split(\'<span\').Æ-1;nbClosedSpan=beginStr.split(\'</span\').Æ-1;span=t.content_highlight.getElementsByTagName(\'span\')[ nbOpendedSpan ];ÈSpan=span;maxStartOffset=maxEndOffset=0;if(nbOpendedSpan==nbClosedSpan){while(ÈSpan.ÈNode !=t.content_highlight&&ÈSpan.ÈNode.tagName !=\'PRE\'){ÈSpan=ÈSpan.ÈNode;}}\nelse{maxStartOffset=maxEndOffset=beginStr.Æ+1;nbClosed=beginStr.substr(Math.max(0,beginStr.lastIndexOf(\'<span\',maxStartOffset-1))).split(\'</span\').Æ-1;while(nbClosed > 0){nbClosed--;ÈSpan=ÈSpan.ÈNode;}while(ÈSpan.ÈNode !=t.content_highlight&&ÈSpan.ÈNode.tagName !=\'PRE\'&&(tmpMaxStartOffset=Math.max(0,beginStr.lastIndexOf(\'<span\',maxStartOffset-1)))<(tmpMaxEndOffset=Math.max(0,beginStr.lastIndexOf(\'</span\',maxEndOffset-1)))){maxStartOffset=tmpMaxStartOffset;maxEndOffset=tmpMaxEndOffset;}}if(ÈSpan.ÈNode==t.content_highlight||ÈSpan.ÈNode.tagName==\'PRE\'){maxStartOffset=Math.max(0,beginStr.indexOf(\'<span\'));}if(maxStartOffset==beginStr.Æ){nbSubSpanBefore=0;}\nelse{lastEndPos=Math.max(0,beginStr.lastIndexOf(\'>\',maxStartOffset));nbSubSpanBefore=beginStr.substr(lastEndPos).split(\'<span\').Æ-1;}if(nbSubSpanBefore==0){textNode=ÈSpan.firstChild;}\nelse{lastSubSpan=ÈSpan.getElementsByTagName(\'span\')[ nbSubSpanBefore-1 ];while(lastSubSpan.ÈNode !=ÈSpan){lastSubSpan=lastSubSpan.ÈNode;}if(lastSubSpan.nextSibling==null||lastSubSpan.nextSibling.nodeType !=3){textNode=document.createTextNode(\'\');lastSubSpan.ÈNode.insertBefore(textNode,lastSubSpan.nextSibling);}\nelse{textNode=lastSubSpan.nextSibling;}}if((lastIndex=beginStr.lastIndexOf(\'>\'))==-1){nbUnchangedChars=beginStr.Æ;}\nelse{nbUnchangedChars=beginStr.substr(lastIndex+1).replace(/&lt;/g,\'<\').replace(/&gt;/g,\'>\').replace(/&amp;/g,\'&\').Æ;}if(t.isIE){nbUnchangedChars-=(beginStr.substr(beginStr.Æ-nbUnchangedChars).split("\\n").Æ-1);textNode.replaceData(nbUnchangedChars,lastHtml.replace(/\\n/g,\'\').Æ,newHtml.replace(/\\n/g,\'\'));}\nelse{textNode.replaceData(nbUnchangedChars,lastHtml.Æ,newHtml);}}}catch(e){doHtmlOpti=Ì;}}tpsAfterOpti2=new Date().getTime();hightlighted_text=stay_begin+updated_highlight+stay_end;if(!doHtmlOpti){var new_Obj=t.content_highlight.cloneNode(Ì);if((t.isIE&&t.isIE < 8)||(t.isOpera&&t.isOpera < 9.6))new_Obj.innerHTML="<pre><span class=\'"+t.Å["syntax"]+"\'>"+hightlighted_text+"</span></pre>";\nelse new_Obj.innerHTML="<span class=\'"+t.Å["syntax"]+"\'>"+hightlighted_text+"</span>";t.content_highlight.ÈNode.replaceChild(new_Obj,t.content_highlight);t.content_highlight=new_Obj;}t.last_text_to_highlight=infos["full_text"];t.last_hightlighted_text=hightlighted_text;tps3=new Date().getTime();if(t.Å["debug"]){t.debug.Ê="Tps optimisation "+(tps_end_opti-tps_start)+" | tps reg exp:"+(tpsAfterReg-tps_end_opti)+" | tps opti HTML:"+(tpsAfterOpti2-tpsAfterReg)+\' \'+(doHtmlOpti ? \'yes\':\'no\')+" | tps update highlight content:"+(tps3-tpsAfterOpti2)+" | tpsTotal:"+(tps3-tps_start)+"("+tps3+")\\n"+debug_opti;}};EA.Ä.resync_highlight=Ã(reload_now){Á.reload_highlight=Ë;Á.last_text_to_highlight="";Á.focus();if(reload_now)Á.check_line_selection(Ì);}; EA.Ä.comment_or_quote=Ã(){var new_class="",close_tag="",sy,arg,i;sy=È.eAL.syntax[eA.current_code_lang];arg=EA.Ä.comment_or_quote.arguments[0];for(i in sy["quotes"]){if(arg.indexOf(i)==0){new_class="quotesmarks";close_tag=sy["quotes"][i];}}if(new_class.Æ==0){for(var i in sy["comments"]){if(arg.indexOf(i)==0){new_class="comments";close_tag=sy["comments"][i];}}}if(close_tag=="\\n"){return "µ__"+new_class+"__µ"+arg.replace(/(\\r?\\n)?$/m,"µ_END_µ$1");}\nelse{reg=new RegExp(È.eAL.get_escaped_regexp(close_tag)+"$","m");if(arg.search(reg)!=-1)return "µ__"+new_class+"__µ"+arg+"µ_END_µ";\nelse return "µ__"+new_class+"__µ"+arg;}};EA.Ä.get_syntax_trace=Ã(text){if(Á.Å["syntax"].Æ>0&&È.eAL.syntax[Á.Å["syntax"]]["syntax_trace_regexp"])return text.replace(È.eAL.syntax[Á.Å["syntax"]]["syntax_trace_regexp"],"$3");};EA.Ä.colorize_text=Ã(text){text=" "+text;if(Á.Å["syntax"].Æ>0)text=Á.apply_syntax(text,Á.Å["syntax"]);return text.substr(1).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/µ_END_µ/g,"</span>").replace(/µ__([a-zA-Z0-9]+)__µ/g,"<span class=\'$1\'>");};EA.Ä.apply_syntax=Ã(text,lang){var sy;Á.current_code_lang=lang;if(!È.eAL.syntax[lang])return text;sy=È.eAL.syntax[lang];if(sy["custom_regexp"][\'before\']){for(var i in sy["custom_regexp"][\'before\']){var convert="$1µ__"+sy["custom_regexp"][\'before\'][i][\'class\']+"__µ$2µ_END_µ$3";text=text.replace(sy["custom_regexp"][\'before\'][i][\'regexp\'],convert);}}if(sy["comment_or_quote_reg_exp"]){text=text.replace(sy["comment_or_quote_reg_exp"],Á.comment_or_quote);}if(sy["keywords_reg_exp"]){for(var i in sy["keywords_reg_exp"]){text=text.replace(sy["keywords_reg_exp"][i],\'µ__\'+i+\'__µ$2µ_END_µ\');}}if(sy["delimiters_reg_exp"]){text=text.replace(sy["delimiters_reg_exp"],\'µ__delimiters__µ$1µ_END_µ\');}if(sy["operators_reg_exp"]){text=text.replace(sy["operators_reg_exp"],\'µ__operators__µ$1µ_END_µ\');}if(sy["custom_regexp"][\'after\']){for(var i in sy["custom_regexp"][\'after\']){var convert="$1µ__"+sy["custom_regexp"][\'after\'][i][\'class\']+"__µ$2µ_END_µ$3";text=text.replace(sy["custom_regexp"][\'after\'][i][\'regexp\'],convert);}}return text;};var editArea= eA;EditArea=EA;<\/script>'.replace(/Á/g,"this").replace(/Â/g,"textarea").replace(/Ã/g,"function").replace(/Ä/g,"prototype").replace(/Å/g,"settings").replace(/Æ/g,"length").replace(/Ç/g,"style").replace(/È/g,"parent").replace(/É/g,"last_selection").replace(/Ê/g,"value").replace(/Ë/g,"true").replace(/Ì/g,"false");editAreaLoader.template="<?xml version=\"1.0\" encoding=\"UTF-8\"?> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" > <head> <title>EditArea</title> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE7\"/> [__CSSRULES__] [__JSCODE__] </head> <body> <div id='editor'> <div class='area_toolbar' id='toolbar_1'>[__TOOLBAR__]</div> <div class='area_toolbar' id='tab_browsing_area'><ul id='tab_browsing_list' class='menu'> <li> </li> </ul></div> <div id='result'> <div id='no_file_selected'></div> <div id='container'> <div id='cursor_pos' class='edit_area_cursor'>&nbsp;</div> <div id='end_bracket' class='edit_area_cursor'>&nbsp;</div> <div id='selection_field'></div> <div id='line_number' selec='none'></div> <div id='content_highlight'></div> <div id='test_font_size'></div> <div id='selection_field_text'></div> <textarea id='textarea' wrap='off' onchange='editArea.execCommand(\"onchange\");' onfocus='javascript:editArea.textareaFocused=true;' onblur='javascript:editArea.textareaFocused=false;'> </textarea> </div> </div> <div class='area_toolbar' id='toolbar_2'> <table class='statusbar' cellspacing='0' cellpadding='0'> <tr> <td class='total' selec='none'>{$position}:</td> <td class='infos' selec='none'> {$line_abbr} <span  id='linePos'>0</span>, {$char_abbr} <span id='currPos'>0</span> </td> <td class='total' selec='none'>{$total}:</td> <td class='infos' selec='none'> {$line_abbr} <span id='nbLine'>0</span>, {$char_abbr} <span id='nbChar'>0</span> </td> <td class='resize'> <span id='resize_area'><img src='[__BASEURL__]images/statusbar_resize.gif' alt='resize' selec='none'></span> </td> </tr> </table> </div> </div> <div id='processing'> <div id='processing_text'> {$processing} </div> </div> <div id='terminals'></div> <div id='area_search_replace' class='editarea_popup'> <table cellspacing='2' cellpadding='0' style='width: 100%'> <tr> <td selec='none'>{$search}</td> <td><input type='text' id='area_search' /></td> <td id='close_area_search_replace'> <a onclick='Javascript:editArea.execCommand(\"hidden_search\")'><img selec='none' src='[__BASEURL__]images/close.gif' alt='{$close_popup}' title='{$close_popup}' /></a><br /> </tr><tr> <td selec='none'>{$replace}</td> <td><input type='text' id='area_replace' /></td> <td><img id='move_area_search_replace' onmousedown='return parent.start_move_element(event,\"area_search_replace\", parent.frames[\"frame_\"+editArea.id]);'  src='[__BASEURL__]images/move.gif' alt='{$move_popup}' title='{$move_popup}' /></td> </tr> </table> <div class='button'> <input type='checkbox' id='area_search_match_case' /><label for='area_search_match_case' selec='none'>{$match_case}</label> <input type='checkbox' id='area_search_reg_exp' /><label for='area_search_reg_exp' selec='none'>{$reg_exp}</label> <br /> <a onclick='Javascript:editArea.execCommand(\"area_search\")' selec='none'>{$find_next}</a> <a onclick='Javascript:editArea.execCommand(\"area_replace\")' selec='none'>{$replace}</a> <a onclick='Javascript:editArea.execCommand(\"area_replace_all\")' selec='none'>{$replace_all}</a><br /> </div> <div id='area_search_msg' selec='none'></div> </div> <div id='edit_area_help' class='editarea_popup'> <div class='close_popup'> <a onclick='Javascript:editArea.execCommand(\"close_all_inline_popup\")'><img src='[__BASEURL__]images/close.gif' alt='{$close_popup}' title='{$close_popup}' /></a> </div> <div><h2>Editarea [__EA_VERSION__]</h2><br /> <h3>{$shortcuts}:</h3> {$tab}: {$add_tab}<br /> {$shift}+{$tab}: {$remove_tab}<br /> {$ctrl}+s: {$save}<br /> {$ctrl}+i: {$saveas}<br /> {$ctrl}+o: {$load}<br /> {$ctrl}+f: {$search_command}<br /> {$ctrl}+r: {$replace_command}<br /> {$ctrl}+h: {$highlight}<br /> {$ctrl}+g: {$go_to_line}<br /> {$ctrl}+z: {$undo}<br /> {$ctrl}+y: {$redo}<br /> {$ctrl}+e: {$help}<br /> {$ctrl}+q, {$esc}: {$close_popup}<br /> {$accesskey} E: {$toggle}<br /> <br /> <em>{$about_notice}</em> <br /><div class='copyright'>&copy; Christophe Dolivet 2007-2010</div> </div> </div> </body> </html> ";editAreaLoader.iframe_css="<style>body,html{margin:0;padding:0;height:100%;border:none;overflow:hidden;background-color:#FFF;}body,html,table,form,textarea{font:12px monospace,sans-serif;}#editor{border:solid #888 1px;overflow:hidden;}#result{z-index:4;overflow-x:auto;overflow-y:scroll;border-top:solid #888 1px;border-bottom:solid #888 1px;position:relative;clear:both;}#result.empty{overflow:hidden;}#container{overflow:hidden;border:solid blue 0;position:relative;z-index:10;padding:0 5px 0 45px;}#textarea{position:relative;top:0;left:0;margin:0;padding:0;width:100%;height:100%;overflow:hidden;z-index:7;border-width:0;background-color:transparent;resize:none;}#textarea,#textarea:hover{outline:none;}#content_highlight{white-space:pre;margin:0;padding:0;position:absolute;z-index:4;overflow:visible;}#selection_field,#selection_field_text{margin:0;background-color:#E1F2F9;position:absolute;z-index:5;top:-100px;padding:0;white-space:pre;overflow:hidden;}#selection_field.show_colors {z-index:3;background-color:#EDF9FC;}#selection_field strong{font-weight:normal;}#selection_field.show_colors *,#selection_field_text * {visibility:hidden;}#selection_field_text{background-color:transparent;}#selection_field_text strong{font-weight:normal;background-color:#3399FE;color:#FFF;visibility:visible;}#container.word_wrap #content_highlight,#container.word_wrap #selection_field,#container.word_wrap #selection_field_text,#container.word_wrap #test_font_size{white-space:pre-wrap;white-space:-moz-pre-wrap !important;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;width:99%;}#line_number{position:absolute;overflow:hidden;border-right:solid black 1px;z-index:8;width:38px;padding:0 5px 0 0;margin:0 0 0 -45px;text-align:right;color:#AAAAAA;}#test_font_size{padding:0;margin:0;visibility:hidden;position:absolute;white-space:pre;}pre{margin:0;padding:0;}.hidden{opacity:0.2;filter:alpha(opacity=20);}#result .edit_area_cursor{position:absolute;z-index:6;background-color:#FF6633;top:-100px;margin:0;}#result .edit_area_selection_field .overline{background-color:#996600;}.editarea_popup{border:solid 1px #888888;background-color:#ECE9D8;width:250px;padding:4px;position:absolute;visibility:hidden;z-index:15;top:-500px;}.editarea_popup,.editarea_popup table{font-family:sans-serif;font-size:10pt;}.editarea_popup img{border:0;}.editarea_popup .close_popup{float:right;line-height:16px;border:0;padding:0;}.editarea_popup h1,.editarea_popup h2,.editarea_popup h3,.editarea_popup h4,.editarea_popup h5,.editarea_popup h6{margin:0;padding:0;}.editarea_popup .copyright{text-align:right;}div#area_search_replace{}div#area_search_replace img{border:0;}div#area_search_replace div.button{text-align:center;line-height:1.7em;}div#area_search_replace .button a{cursor:pointer;border:solid 1px #888888;background-color:#DEDEDE;text-decoration:none;padding:0 2px;color:#000000;white-space:nowrap;}div#area_search_replace a:hover{background-color:#EDEDED;}div#area_search_replace  #move_area_search_replace{cursor:move;border:solid 1px #888;}div#area_search_replace  #close_area_search_replace{text-align:right;vertical-align:top;white-space:nowrap;}div#area_search_replace  #area_search_msg{height:18px;overflow:hidden;border-top:solid 1px #888;margin-top:3px;}#edit_area_help{width:350px;}#edit_area_help div.close_popup{float:right;}.area_toolbar{width:100%;margin:0;padding:0;background-color:#ECE9D8;text-align:center;}.area_toolbar,.area_toolbar table{font:11px sans-serif;}.area_toolbar img{border:0;vertical-align:middle;}.area_toolbar input{margin:0;padding:0;}.area_toolbar select{font-family:'MS Sans Serif',sans-serif,Verdana,Arial;font-size:7pt;font-weight:normal;margin:2px 0 0 0 ;padding:0;vertical-align:top;background-color:#F0F0EE;}table.statusbar{width:100%;}.area_toolbar td.infos{text-align:center;width:130px;border-right:solid 1px #888;border-width:0 1px 0 0;padding:0;}.area_toolbar td.total{text-align:right;width:50px;padding:0;}.area_toolbar td.resize{text-align:right;}.area_toolbar span#resize_area{cursor:nw-resize;visibility:hidden;}.editAreaButtonNormal,.editAreaButtonOver,.editAreaButtonDown,.editAreaSeparator,.editAreaSeparatorLine,.editAreaButtonDisabled,.editAreaButtonSelected {border:0; margin:0; padding:0; background:transparent;margin-top:0;margin-left:1px;padding:0;}.editAreaButtonNormal {border:1px solid #ECE9D8 !important;cursor:pointer;}.editAreaButtonOver {border:1px solid #0A246A !important;cursor:pointer;background-color:#B6BDD2;}.editAreaButtonDown {cursor:pointer;border:1px solid #0A246A !important;background-color:#8592B5;}.editAreaButtonSelected {border:1px solid #C0C0BB !important;cursor:pointer;background-color:#F4F2E8;}.editAreaButtonDisabled {filter:progid:DXImageTransform.Microsoft.Alpha(opacity=30);-moz-opacity:0.3;opacity:0.3;border:1px solid #F0F0EE !important;cursor:pointer;}.editAreaSeparatorLine {margin:1px 2px;background-color:#C0C0BB;width:2px;height:18px;}#processing{display:none;background-color:#ECE9D8;border:solid #888 1px;position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;text-align:center;}#processing_text{position:absolute;left:50%;top:50%;width:200px;height:20px;margin-left:-100px;margin-top:-10px;text-align:center;}#terminals{background-color:#FFFFFF;display:none;position:absolute;top:0;left:0;width:0;height:0;z-index:100;text-align:center;}#tab_browsing_area{display:none;background-color:#CCC9A8;border-top:1px solid #888;text-align:left;margin:0;}#tab_browsing_list {padding:0;margin:0;list-style-type:none;white-space:nowrap;}#tab_browsing_list li {float:left;margin:-1px;}#tab_browsing_list a {position:relative;display:block;text-decoration:none;float:left;cursor:pointer;line-height:14px;}#tab_browsing_list a span {display:block;color:#000;background:#ECE9D8;border:1px solid #888;border-width:1px 1px 0;text-align:center;padding:2px 2px 1px 4px;position:relative;}#tab_browsing_list a b {display:block;border-bottom:2px solid #617994;}#tab_browsing_list a .edited {display:none;}#tab_browsing_list a.edited .edited {display:inline;}#tab_browsing_list a img{margin-left:7px;}#tab_browsing_list a.edited img{margin-left:3px;}#tab_browsing_list a:hover span {background:#F4F2E8;border-color:#0A246A;}#tab_browsing_list .selected a span{background:#046380;color:#FFF;}#tab_browsing_list a .edited,#tab_browsing_list a.edited .edited,#tab_browsing_list span.tabname {float:left;padding:0px;border-width:0px;}#no_file_selected{height:100%;width:150%;background:#CCC;display:none;z-index:20;position:absolute;}.non_editable #editor{border-width:0 1px;}.non_editable .area_toolbar{display:none;}#auto_completion_area{background:#FFF;border:solid 1px #888;position:absolute;z-index:15;width:280px;height:180px;overflow:auto;display:none;}#auto_completion_area a,#auto_completion_area a:visited{display:block;padding:0 2px 1px;color:#000;text-decoration:none;}#auto_completion_area a:hover,#auto_completion_area a:focus,#auto_completion_area a.focus{background:#D6E1FE;text-decoration:none;}#auto_completion_area ul{margin:0;padding:0;list-style:none inside;}#auto_completion_area li{padding:0;}#auto_completion_area .prefix{font-style:italic;padding:0 3px;}</style>";